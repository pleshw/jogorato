var DOMTools;(()=>{"use strict";var t={19:(t,e,o)=>{o.d(e,{regexNumberPattern:()=>n});const n=/-?\d+\.?\d*/g}},e={};function o(n){var i=e[n];if(void 0!==i)return i.exports;var r=e[n]={exports:{}};return t[n](r,r.exports,o),r.exports}o.d=(t,e)=>{for(var n in e)o.o(e,n)&&!o.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},o.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),o.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})};var n={};(()=>{o.r(n),o.d(n,{addActionKey:()=>i,bindElementViewIfChecked:()=>y,bindElementsByCheck:()=>m,checkElementCollision:()=>r,clickEventToCoordinates:()=>h,debounceFactory:()=>v,dictKeysByAction:()=>e,getCollisionDirection:()=>s,getDefaultAttributeForTarget:()=>l,getDistanceFromBorder:()=>a,getTransformCoordsFromElement:()=>d,getValueFromRadioGroup:()=>b,hideElement:()=>f,isMobileBrowser:()=>p,isOnScreen:()=>w,mapDefaultAttributesByElement:()=>c,selectOptionByText:()=>x,setDefaultAttributeForTarget:()=>u,sleepAsync:()=>g,smoothScrollTo:()=>T,throttleFactory:()=>C});var t=o(19);const e=new Map;function i(t,o){e.has(t)?e.set(t,[o,...e.get(t)]):e.set(t,[o])}function r(t,e){const o=t.getBoundingClientRect(),n=e.getBoundingClientRect();return!(o.top>n.bottom||o.right<n.left||o.bottom<n.top||o.left>n.right)}const c=new Map;function l(t,e){c.has(t)||c.set(t,new Map);let o="";const n=c.get(t);return o=(n.has(e)?n.get(e):t.getAttribute(e))||"",u(t,e,o),o}function u(t,e,o){c.has(t)||c.set(t,new Map),c.get(t).set(e,o)}function s(t,e){const o=t.getBoundingClientRect(),n=e.getBoundingClientRect();return{top:o.bottom>n.top&&o.top<n.top+n.height/3,right:o.left<n.right&&o.right>n.right-n.width/3,center:o.top<n.bottom&&o.bottom>n.top&&o.left<n.right&&o.right>n.left,bottom:o.top<n.bottom-n.height/3&&o.bottom>n.bottom-n.height/3,left:o.right>n.left&&o.left<n.left+n.width/3}}function a(t,e){const o=t.getBoundingClientRect(),n=e.getBoundingClientRect(),i=o.left+o.width/2,r=o.top+o.height/2;return{top:r-n.top,right:n.right-i,bottom:n.bottom-r,left:i-n.left}}function d(e){const o=(window.getComputedStyle(e).transform.match(t.regexNumberPattern)??[0,0]).map((t=>+t));return{x:void 0!==o[4]?Math.round(o[4]):0,y:void 0!==o[5]?Math.round(o[5]):0}}function h(t){if(t instanceof MouseEvent)return{x:t.clientX,y:t.clientY};if(t instanceof TouchEvent){const e=t.changedTouches[0];return{x:e.clientX,y:e.clientY}}throw"Event not Found"}function f(t){t.style.display="block",t.style.position="absolute",t.style.zIndex="-1",t.style.opacity="0",t.style.width="0px !important",t.style.height="0px !important",t.setAttribute("hidden","")}async function g(t){return await new Promise((e=>setTimeout((()=>e()),t)))}function m(t,e,o,n){t.checked&&o(e),(t.name?Array.from(document.querySelectorAll(`[name="${t.name}"]`)):[t]).forEach((i=>i.addEventListener("change",(i=>{t.checked?o(e,i):n(e,i)}))))}function p(){return/Android|iPhone/i.test(navigator.userAgent)}function w(t){const e=t.getBoundingClientRect();return e.top>=0&&e.left>=0&&e.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&e.right<=(window.innerWidth||document.documentElement.clientWidth)}function y(t,e,o={onCheck:(t,e)=>{},onUncheck:(t,e)=>{}}){m(t,e,(n=>{n.classList.add("show"),o.onCheck(t,e)}),(n=>{n.classList.remove("show"),o.onUncheck(t,e)}))}function b(t){const e=document.querySelector(`[name=${t}]:checked`);if(e)return e.value}function v(t,e){let o;return function(){const n=window,i=arguments;clearTimeout(o),o=window.setTimeout((()=>t.apply(n,i)),e)}}function C(t,e){let o,n;return function(){const i=window,r=arguments;n?(clearTimeout(o),o=window.setTimeout((function(){Date.now()-n>=e&&(t.apply(i,r),n=Date.now())}),e-(Date.now()-n))):(t.apply(i,r),n=Date.now())}}function T(t){window.scrollTo({top:t,behavior:"smooth"})}function x(t,e,o=!1){const n=document.getElementById(t);if(!n)return;const i=[...n.querySelectorAll("option")];let r;r=o?i.filter((t=>t.textContent&&t.textContent.toLowerCase().includes(e.toLowerCase())))[0].value:i.filter((t=>t.textContent&&t.textContent.toLowerCase()===e.toLowerCase()))[0].value,n.value=r}window.addEventListener("keydown",(t=>{for(const o of e)t.code===o[0]&&o[1].forEach((e=>e(t)))}))})(),DOMTools=n})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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ZW5DLEVBQUdtQyxZQUFZQyxnQkFBa0JSLEVBQVdRLGdCQUFnQixHQUFHakksTUFHcEcySCxFQUFjM0gsTUFBUThILENBQ3hCLENBcktBM0YsT0FBTzJDLGlCQUFrQixXQUFXQyxJQUNsQyxJQUFNLE1BQU1vRCxLQUFRbEksRUFDYjhFLEVBQUlxRCxPQUFTRCxFQUFLLElBQ3JCQSxFQUFLLEdBQUd2RCxTQUFTeUQsR0FBV0EsRUFBU3RELEkiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9NYXRoVG9vbHMudHMiLCJ3ZWJwYWNrOi8vL3dlYnBhY2svYm9vdHN0cmFwIiwid2VicGFjazovLy93ZWJwYWNrL3J1bnRpbWUvZGVmaW5lIHByb3BlcnR5IGdldHRlcnMiLCJ3ZWJwYWNrOi8vL3dlYnBhY2svcnVudGltZS9oYXNPd25Qcm9wZXJ0eSBzaG9ydGhhbmQiLCJ3ZWJwYWNrOi8vL3dlYnBhY2svcnVudGltZS9tYWtlIG5hbWVzcGFjZSBvYmplY3QiLCJ3ZWJwYWNrOi8vLy4vRE9NVG9vbHMudHMiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGNvbnN0IHJlZ2V4TnVtYmVyUGF0dGVybiA9IC8tP1xcZCtcXC4/XFxkKi9nO1xyXG5cclxuZXhwb3J0IGludGVyZmFjZSBQb2ludDJEIHtcclxuICB4OiBudW1iZXI7XHJcbiAgeTogbnVtYmVyO1xyXG59XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIERpbWVuc2lvbnMge1xyXG4gIHdpZHRoOiBudW1iZXI7XHJcbiAgaGVpZ2h0OiBudW1iZXI7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBpbmRleFRvUm93KCBpbmRleDogbnVtYmVyLCBncmlkV2lkdGg6IG51bWJlciApIHtcclxuICByZXR1cm4gTWF0aC5mbG9vciggaW5kZXggLyBncmlkV2lkdGggKTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGluZGV4VG9Db2woIGluZGV4OiBudW1iZXIsIGdyaWRXaWR0aDogbnVtYmVyICkge1xyXG4gIHJldHVybiBpbmRleCAlIGdyaWRXaWR0aDtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIHJvd0NvbFRvSW5kZXgoIHJvdzogbnVtYmVyLCBjb2w6IG51bWJlciwgd2lkdGg6IG51bWJlciApIHtcclxuICByZXR1cm4gKCByb3cgKiB3aWR0aCApICsgY29sO1xyXG59XHJcblxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGxlcnAoIG1pbjogbnVtYmVyLCBtYXg6IG51bWJlciwgYW1vdW50OiBudW1iZXIgKTogbnVtYmVyIHtcclxuICByZXR1cm4gKCAxIC0gYW1vdW50ICkgKiBtaW4gKyBhbW91bnQgKiBtYXg7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBpbnZlcnNlTGVycCggYTogbnVtYmVyLCBiOiBudW1iZXIsIHZhbDogbnVtYmVyICk6IG51bWJlciB7XHJcbiAgcmV0dXJuICggdmFsIC0gYSApIC8gKCBiIC0gYSApO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gcmVtYXAoIGluTWluOiBudW1iZXIsIGluTWF4OiBudW1iZXIsIG91dE1pbjogbnVtYmVyLCBvdXRNYXg6IG51bWJlciwgdmFsOiBudW1iZXIgKTogbnVtYmVyIHtcclxuICByZXR1cm4gbGVycCggb3V0TWluLCBvdXRNYXgsIGludmVyc2VMZXJwKCBpbk1pbiwgaW5NYXgsIHZhbCApICk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBnZXRSYW5kb21JbnRFeGNsdXNpdmUoIG1pbjogbnVtYmVyLCBtYXg6IG51bWJlciApIHtcclxuICByZXR1cm4gTWF0aC5mbG9vciggTWF0aC5yYW5kb20oKSAqICggbWF4IC0gbWluICkgKyBtaW4gKTtcclxufVxyXG5cclxuXHJcblxyXG5leHBvcnQgZnVuY3Rpb24gZ2V0UmFuZG9tSW50SW5jbHVzaXZlKCBtaW46IG51bWJlciwgbWF4OiBudW1iZXIgKSB7XHJcbiAgbWluID0gTWF0aC5jZWlsKCBtaW4gKTtcclxuICBtYXggPSBNYXRoLmZsb29yKCBtYXggKTtcclxuICByZXR1cm4gTWF0aC5mbG9vciggTWF0aC5yYW5kb20oKSAqICggbWF4IC0gbWluICsgMSApICkgKyBtaW47XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBnZXRSYW5kb21Gcm9tQXJyYXk8VD4oIGFycjogQXJyYXk8VD4gKSB7XHJcbiAgcmV0dXJuIGFycltnZXRSYW5kb21JbnRFeGNsdXNpdmUoIDAsIGFyci5sZW5ndGggKV07XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBjbGFtcCggbnVtOiBudW1iZXIgPSAwLCBtaW46IG51bWJlciA9IDAsIG1heDogbnVtYmVyID0gMTAwICk6IG51bWJlciB7XHJcbiAgcmV0dXJuIE1hdGgubWF4KCBtaW4sIE1hdGgubWluKCBudW0sIG1heCApICk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBtaW51dGVzVG9NaWxsaXNlY29uZHMoIG1zOiBudW1iZXIgKSB7XHJcbiAgcmV0dXJuIG1zICogNjAwMDA7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBtaWxsaXNlY29uZHNUb01pbnV0ZXMoIG1zOiBudW1iZXIgKSB7XHJcbiAgcmV0dXJuIG1zIC8gNjAwMDA7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBtaWxsaXNlY29uZHNUb0hvdXJzKCBtczogbnVtYmVyICkge1xyXG4gIHJldHVybiBtcyAvIDMuNmUrNjtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIG1pbGxpc2Vjb25kc1RvRGF5cyggbXM6IG51bWJlciApIHtcclxuICByZXR1cm4gbXMgLyA4LjY0ZSs3O1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gbWVnYWJ5dGVUb0J5dGUoIG1iOiBudW1iZXIgKSB7XHJcbiAgcmV0dXJuIG1iICogMTAyNCAqIDEwMjQ7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBieXRlVG9NZWdhYnl0ZSggYjogbnVtYmVyICkge1xyXG4gIHJldHVybiBiIC8gMTAyNCAvIDEwMjQ7XHJcbn0iLCIvLyBUaGUgbW9kdWxlIGNhY2hlXG52YXIgX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fID0ge307XG5cbi8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG5mdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuXHR2YXIgY2FjaGVkTW9kdWxlID0gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXTtcblx0aWYgKGNhY2hlZE1vZHVsZSAhPT0gdW5kZWZpbmVkKSB7XG5cdFx0cmV0dXJuIGNhY2hlZE1vZHVsZS5leHBvcnRzO1xuXHR9XG5cdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG5cdHZhciBtb2R1bGUgPSBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdID0ge1xuXHRcdC8vIG5vIG1vZHVsZS5pZCBuZWVkZWRcblx0XHQvLyBubyBtb2R1bGUubG9hZGVkIG5lZWRlZFxuXHRcdGV4cG9ydHM6IHt9XG5cdH07XG5cblx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG5cdF9fd2VicGFja19tb2R1bGVzX19bbW9kdWxlSWRdKG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG5cdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG5cdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbn1cblxuIiwiLy8gZGVmaW5lIGdldHRlciBmdW5jdGlvbnMgZm9yIGhhcm1vbnkgZXhwb3J0c1xuX193ZWJwYWNrX3JlcXVpcmVfXy5kID0gKGV4cG9ydHMsIGRlZmluaXRpb24pID0+IHtcblx0Zm9yKHZhciBrZXkgaW4gZGVmaW5pdGlvbikge1xuXHRcdGlmKF9fd2VicGFja19yZXF1aXJlX18ubyhkZWZpbml0aW9uLCBrZXkpICYmICFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywga2V5KSkge1xuXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIGtleSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGRlZmluaXRpb25ba2V5XSB9KTtcblx0XHR9XG5cdH1cbn07IiwiX193ZWJwYWNrX3JlcXVpcmVfXy5vID0gKG9iaiwgcHJvcCkgPT4gKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIHByb3ApKSIsIi8vIGRlZmluZSBfX2VzTW9kdWxlIG9uIGV4cG9ydHNcbl9fd2VicGFja19yZXF1aXJlX18uciA9IChleHBvcnRzKSA9PiB7XG5cdGlmKHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnICYmIFN5bWJvbC50b1N0cmluZ1RhZykge1xuXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBTeW1ib2wudG9TdHJpbmdUYWcsIHsgdmFsdWU6ICdNb2R1bGUnIH0pO1xuXHR9XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG59OyIsImltcG9ydCB7IFBvaW50MkQsIHJlZ2V4TnVtYmVyUGF0dGVybiB9IGZyb20gJy4vTWF0aFRvb2xzJztcclxuaW1wb3J0IHsgQ29sbGlzaW9uRGlyZWN0aW9uQ2hlY2ssIENvbGxpc2lvbkJvcmRlckRpc3RhbmNlIH0gZnJvbSAnLi90eXBlcyc7XHJcblxyXG5leHBvcnQgdHlwZSBLZXlib2FyZEV2ZW50Q2FsbGJhY2sgPSAoIGV2dDogS2V5Ym9hcmRFdmVudCApID0+IHZvaWQ7XHJcblxyXG5leHBvcnQgY29uc3QgZGljdEtleXNCeUFjdGlvbiA9IG5ldyBNYXA8c3RyaW5nLCBLZXlib2FyZEV2ZW50Q2FsbGJhY2tbXT4oKTtcclxuZXhwb3J0IGZ1bmN0aW9uIGFkZEFjdGlvbktleSgga2V5OiBzdHJpbmcsIGV2ZW50OiBLZXlib2FyZEV2ZW50Q2FsbGJhY2sgKSB7XHJcbiAgaWYgKCBkaWN0S2V5c0J5QWN0aW9uLmhhcygga2V5ICkgKSB7XHJcbiAgICBkaWN0S2V5c0J5QWN0aW9uLnNldCgga2V5LCBbZXZlbnQsIC4uLmRpY3RLZXlzQnlBY3Rpb24uZ2V0KCBrZXkgKSFdIClcclxuICB9IGVsc2Uge1xyXG4gICAgZGljdEtleXNCeUFjdGlvbi5zZXQoIGtleSwgW2V2ZW50XSApXHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gY2hlY2tFbGVtZW50Q29sbGlzaW9uKCBlbGVtZW50MTogSFRNTEVsZW1lbnQsIGVsZW1lbnQyOiBIVE1MRWxlbWVudCApOiBib29sZWFuIHtcclxuICBjb25zdCByZWN0MSA9IGVsZW1lbnQxLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xyXG4gIGNvbnN0IHJlY3QyID0gZWxlbWVudDIuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XHJcblxyXG4gIHJldHVybiAhKFxyXG4gICAgcmVjdDEudG9wID4gcmVjdDIuYm90dG9tIHx8XHJcbiAgICByZWN0MS5yaWdodCA8IHJlY3QyLmxlZnQgfHxcclxuICAgIHJlY3QxLmJvdHRvbSA8IHJlY3QyLnRvcCB8fFxyXG4gICAgcmVjdDEubGVmdCA+IHJlY3QyLnJpZ2h0XHJcbiAgKTtcclxufVxyXG5cclxuLy8vIEdldCB0aGUgZGVmYXVsdCBhdHRyaWJ1dGVzIGZyb20gdGhlIHRhcmdldCBlbGVtZW50XHJcbi8vLyBJZiBoYXZlIG5vdCBkZWZhdWx0IGF0dHJpYnV0ZSB3aXRoIHRoaXMgQGF0dHJpYnV0ZU5hbWUgb24gbWFwIHdpbGwgc2V0IHRoZSBjdXJyZW50IGF0dHJpYnV0ZSBhcyBkZWZhdWx0XHJcbi8vLyBJZiBoYXZlIG5vdCBkZWZhdWx0IGF0dHJpYnV0ZSB3aXRoIHRoaXMgQGF0dHJpYnV0ZU5hbWUgd2lsbCByZXR1cm4gYW4gZW1wdHkgc3RyaW5nXHJcbmV4cG9ydCBjb25zdCBtYXBEZWZhdWx0QXR0cmlidXRlc0J5RWxlbWVudCA9IG5ldyBNYXA8SFRNTEVsZW1lbnQsIE1hcDxzdHJpbmcsIHN0cmluZz4+KCk7XHJcbmV4cG9ydCBmdW5jdGlvbiBnZXREZWZhdWx0QXR0cmlidXRlRm9yVGFyZ2V0KCB0YXJnZXQ6IEhUTUxFbGVtZW50LCBhdHRyaWJ1dGVOYW1lOiBzdHJpbmcgKTogc3RyaW5nIHtcclxuICBpZiAoICFtYXBEZWZhdWx0QXR0cmlidXRlc0J5RWxlbWVudC5oYXMoIHRhcmdldCApICkge1xyXG4gICAgbWFwRGVmYXVsdEF0dHJpYnV0ZXNCeUVsZW1lbnQuc2V0KCB0YXJnZXQsIG5ldyBNYXA8c3RyaW5nLCBzdHJpbmc+KCkgKTtcclxuICB9XHJcblxyXG4gIGxldCByZXN1bHQ6IHN0cmluZyA9ICcnO1xyXG4gIGNvbnN0IGRlZmF1bHRBdHRyaWJ1dGVWYWx1ZXNCeU5hbWUgPSBtYXBEZWZhdWx0QXR0cmlidXRlc0J5RWxlbWVudC5nZXQoIHRhcmdldCApITtcclxuICBjb25zdCB0YXJnZXREZWZhdWx0QXR0cmlidXRlID0gIWRlZmF1bHRBdHRyaWJ1dGVWYWx1ZXNCeU5hbWUuaGFzKCBhdHRyaWJ1dGVOYW1lICkgPyB0YXJnZXQuZ2V0QXR0cmlidXRlKCBhdHRyaWJ1dGVOYW1lICkgOiBkZWZhdWx0QXR0cmlidXRlVmFsdWVzQnlOYW1lLmdldCggYXR0cmlidXRlTmFtZSApITtcclxuXHJcbiAgcmVzdWx0ID0gdGFyZ2V0RGVmYXVsdEF0dHJpYnV0ZSA/IHRhcmdldERlZmF1bHRBdHRyaWJ1dGUgOiAnJztcclxuICBzZXREZWZhdWx0QXR0cmlidXRlRm9yVGFyZ2V0KCB0YXJnZXQsIGF0dHJpYnV0ZU5hbWUsIHJlc3VsdCApO1xyXG5cclxuICByZXR1cm4gcmVzdWx0O1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gc2V0RGVmYXVsdEF0dHJpYnV0ZUZvclRhcmdldCggdGFyZ2V0OiBIVE1MRWxlbWVudCwgYXR0cmlidXRlTmFtZTogc3RyaW5nLCBuZXdEZWZhdWx0QXR0cmlidXRlOiBzdHJpbmcgKTogdm9pZCB7XHJcbiAgaWYgKCAhbWFwRGVmYXVsdEF0dHJpYnV0ZXNCeUVsZW1lbnQuaGFzKCB0YXJnZXQgKSApIHtcclxuICAgIG1hcERlZmF1bHRBdHRyaWJ1dGVzQnlFbGVtZW50LnNldCggdGFyZ2V0LCBuZXcgTWFwPHN0cmluZywgc3RyaW5nPigpICk7XHJcbiAgfVxyXG5cclxuICBtYXBEZWZhdWx0QXR0cmlidXRlc0J5RWxlbWVudC5nZXQoIHRhcmdldCApIS5zZXQoIGF0dHJpYnV0ZU5hbWUsIG5ld0RlZmF1bHRBdHRyaWJ1dGUgKTtcclxufVxyXG5cclxuLy8vIERpdmlkZSBvIGVsZW1lbnRvIEB0YXJnZXQgZW0gOSBcInF1YWRyYWRvc1wiIGlndWFpcyBlIHJldG9ybmEgZW0gcXVhaXMgcXVhZHJhZG9zIG8gZHJhZ2dhYmxlIGVzdMOhIGNvbGlkaW5kbyBjb20gbyB0YXJnZXRcclxuZXhwb3J0IGZ1bmN0aW9uIGdldENvbGxpc2lvbkRpcmVjdGlvbiggZHJhZ2dhYmxlOiBIVE1MRWxlbWVudCwgdGFyZ2V0OiBIVE1MRWxlbWVudCApOiBDb2xsaXNpb25EaXJlY3Rpb25DaGVjayB7XHJcbiAgY29uc3QgcmVjdDEgPSBkcmFnZ2FibGUuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XHJcbiAgY29uc3QgcmVjdDIgPSB0YXJnZXQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XHJcblxyXG4gIGNvbnN0IGlzVG9wID0gcmVjdDEuYm90dG9tID4gcmVjdDIudG9wICYmIHJlY3QxLnRvcCA8IHJlY3QyLnRvcCArIHJlY3QyLmhlaWdodCAvIDM7XHJcbiAgY29uc3QgaXNSaWdodCA9IHJlY3QxLmxlZnQgPCByZWN0Mi5yaWdodCAmJiByZWN0MS5yaWdodCA+IHJlY3QyLnJpZ2h0IC0gcmVjdDIud2lkdGggLyAzO1xyXG4gIGNvbnN0IGlzQ2VudGVyID0gcmVjdDEudG9wIDwgcmVjdDIuYm90dG9tICYmIHJlY3QxLmJvdHRvbSA+IHJlY3QyLnRvcCAmJiByZWN0MS5sZWZ0IDwgcmVjdDIucmlnaHQgJiYgcmVjdDEucmlnaHQgPiByZWN0Mi5sZWZ0O1xyXG4gIGNvbnN0IGlzQm90dG9tID0gcmVjdDEudG9wIDwgcmVjdDIuYm90dG9tIC0gcmVjdDIuaGVpZ2h0IC8gMyAmJiByZWN0MS5ib3R0b20gPiByZWN0Mi5ib3R0b20gLSByZWN0Mi5oZWlnaHQgLyAzO1xyXG4gIGNvbnN0IGlzTGVmdCA9IHJlY3QxLnJpZ2h0ID4gcmVjdDIubGVmdCAmJiByZWN0MS5sZWZ0IDwgcmVjdDIubGVmdCArIHJlY3QyLndpZHRoIC8gMztcclxuXHJcbiAgcmV0dXJuIHsgdG9wOiBpc1RvcCwgcmlnaHQ6IGlzUmlnaHQsIGNlbnRlcjogaXNDZW50ZXIsIGJvdHRvbTogaXNCb3R0b20sIGxlZnQ6IGlzTGVmdCB9O1xyXG59XHJcblxyXG4vLy8gcmV0dXJuIHRoZSBkaXN0YW5jZSBmcm9tIHRoZSBjZW50ZXIgb2YgdGhlIGRyYWdnYWJsZSB0byB0aGUgY2VudGVyIG9mIHRoZSB0YXJnZXQgZWxlbWVudCBmcm9tIGVhY2ggYm9yZGVyIFxyXG5leHBvcnQgZnVuY3Rpb24gZ2V0RGlzdGFuY2VGcm9tQm9yZGVyKCBkcmFnZ2FibGU6IEhUTUxFbGVtZW50LCB0YXJnZXQ6IEhUTUxFbGVtZW50ICk6IENvbGxpc2lvbkJvcmRlckRpc3RhbmNlIHtcclxuICBjb25zdCByZWN0MSA9IGRyYWdnYWJsZS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcclxuICBjb25zdCByZWN0MiA9IHRhcmdldC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcclxuXHJcbiAgY29uc3QgY2VudGVyID0ge1xyXG4gICAgeDogcmVjdDEubGVmdCArIHJlY3QxLndpZHRoIC8gMixcclxuICAgIHk6IHJlY3QxLnRvcCArIHJlY3QxLmhlaWdodCAvIDIsXHJcbiAgfTtcclxuXHJcbiAgY29uc3QgZGlzdGFuY2VGcm9tQm9yZGVyOiBDb2xsaXNpb25Cb3JkZXJEaXN0YW5jZSA9IHtcclxuICAgIHRvcDogY2VudGVyLnkgLSByZWN0Mi50b3AsXHJcbiAgICByaWdodDogcmVjdDIucmlnaHQgLSBjZW50ZXIueCxcclxuICAgIGJvdHRvbTogcmVjdDIuYm90dG9tIC0gY2VudGVyLnksXHJcbiAgICBsZWZ0OiBjZW50ZXIueCAtIHJlY3QyLmxlZnQsXHJcbiAgfTtcclxuXHJcbiAgcmV0dXJuIGRpc3RhbmNlRnJvbUJvcmRlcjtcclxufVxyXG5cclxud2luZG93LmFkZEV2ZW50TGlzdGVuZXIoICdrZXlkb3duJywgZXZ0ID0+IHtcclxuICBmb3IgKCBjb25zdCBwYWlyIG9mIGRpY3RLZXlzQnlBY3Rpb24gKSB7XHJcbiAgICBpZiAoIGV2dC5jb2RlID09PSBwYWlyWzBdICkge1xyXG4gICAgICBwYWlyWzFdLmZvckVhY2goIGtiRXZlbnQgPT4ga2JFdmVudCggZXZ0ICkgKTtcclxuICAgIH1cclxuICB9XHJcbn0gKTtcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBnZXRUcmFuc2Zvcm1Db29yZHNGcm9tRWxlbWVudCggZWxlbWVudDogSFRNTEVsZW1lbnQgKTogUG9pbnQyRCB7XHJcbiAgY29uc3QgYXJyQ29tcHV0ZWREcmFnZ2FibGVUcmFuc2xhdGUgPSAoIHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKCBlbGVtZW50ICkudHJhbnNmb3JtLm1hdGNoKCByZWdleE51bWJlclBhdHRlcm4gKSA/PyBbMCwgMF0gKS5tYXAoIG4gPT4gK24gKTtcclxuICByZXR1cm4ge1xyXG4gICAgeDogYXJyQ29tcHV0ZWREcmFnZ2FibGVUcmFuc2xhdGVbNF0gIT09IHVuZGVmaW5lZCA/IE1hdGgucm91bmQoIGFyckNvbXB1dGVkRHJhZ2dhYmxlVHJhbnNsYXRlWzRdICkgOiAwLFxyXG4gICAgeTogYXJyQ29tcHV0ZWREcmFnZ2FibGVUcmFuc2xhdGVbNV0gIT09IHVuZGVmaW5lZCA/IE1hdGgucm91bmQoIGFyckNvbXB1dGVkRHJhZ2dhYmxlVHJhbnNsYXRlWzVdICkgOiAwXHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gY2xpY2tFdmVudFRvQ29vcmRpbmF0ZXMoIGV2ZW50OiBNb3VzZUV2ZW50IHwgVG91Y2hFdmVudCApIHtcclxuICBpZiAoIGV2ZW50IGluc3RhbmNlb2YgTW91c2VFdmVudCApIHtcclxuICAgIHJldHVybiB7XHJcbiAgICAgIHg6IGV2ZW50LmNsaWVudFgsXHJcbiAgICAgIHk6IGV2ZW50LmNsaWVudFlcclxuICAgIH07XHJcbiAgfSBlbHNlIGlmICggZXZlbnQgaW5zdGFuY2VvZiBUb3VjaEV2ZW50ICkge1xyXG4gICAgY29uc3QgdG91Y2ggPSBldmVudC5jaGFuZ2VkVG91Y2hlc1swXTtcclxuICAgIHJldHVybiB7XHJcbiAgICAgIHg6IHRvdWNoLmNsaWVudFgsXHJcbiAgICAgIHk6IHRvdWNoLmNsaWVudFlcclxuICAgIH07XHJcbiAgfSBlbHNlIHtcclxuICAgIHRocm93IFwiRXZlbnQgbm90IEZvdW5kXCI7XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gaGlkZUVsZW1lbnQoIGVsZW1lbnQ6IEhUTUxFbGVtZW50ICkge1xyXG4gIGVsZW1lbnQuc3R5bGUuZGlzcGxheSA9ICdibG9jayc7XHJcbiAgZWxlbWVudC5zdHlsZS5wb3NpdGlvbiA9ICdhYnNvbHV0ZSc7XHJcbiAgZWxlbWVudC5zdHlsZS56SW5kZXggPSAnLTEnO1xyXG4gIGVsZW1lbnQuc3R5bGUub3BhY2l0eSA9ICcwJztcclxuICBlbGVtZW50LnN0eWxlLndpZHRoID0gJzBweCAhaW1wb3J0YW50JztcclxuICBlbGVtZW50LnN0eWxlLmhlaWdodCA9ICcwcHggIWltcG9ydGFudCc7XHJcbiAgZWxlbWVudC5zZXRBdHRyaWJ1dGUoICdoaWRkZW4nLCAnJyApO1xyXG59XHJcblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gc2xlZXBBc3luYyggbXM6IG51bWJlciApIHtcclxuICByZXR1cm4gYXdhaXQgbmV3IFByb21pc2U8dm9pZD4oICggcmVzb2x2ZSApID0+IHNldFRpbWVvdXQoICgpID0+IHJlc29sdmUoKSwgbXMgKSApO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gYmluZEVsZW1lbnRzQnlDaGVjayggdHJpZ2dlckVsZW1lbnQ6IEhUTUxJbnB1dEVsZW1lbnQsIHRhcmdldEVsZW1lbnQ6IEhUTUxFbGVtZW50LCBvbkNoZWNrOiBGdW5jdGlvbiwgb25VbmNoZWNrOiBGdW5jdGlvbiApIHtcclxuICBpZiAoIHRyaWdnZXJFbGVtZW50LmNoZWNrZWQgKSB7XHJcbiAgICBvbkNoZWNrKCB0YXJnZXRFbGVtZW50ICk7XHJcbiAgfVxyXG5cclxuICBjb25zdCB0cmlnZ2VyR3JvdXAgPSB0cmlnZ2VyRWxlbWVudC5uYW1lXHJcbiAgICA/IEFycmF5LmZyb20oIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoIGBbbmFtZT1cIiR7IHRyaWdnZXJFbGVtZW50Lm5hbWUgfVwiXWAgKSApXHJcbiAgICA6IFt0cmlnZ2VyRWxlbWVudF07XHJcblxyXG4gIHRyaWdnZXJHcm91cC5mb3JFYWNoKCB0ID0+IHQuYWRkRXZlbnRMaXN0ZW5lciggJ2NoYW5nZScsIGV2dCA9PiB7XHJcbiAgICBpZiAoIHRyaWdnZXJFbGVtZW50LmNoZWNrZWQgKSB7XHJcbiAgICAgIG9uQ2hlY2soIHRhcmdldEVsZW1lbnQsIGV2dCApO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgb25VbmNoZWNrKCB0YXJnZXRFbGVtZW50LCBldnQgKTtcclxuICAgIH1cclxuICB9ICkgKTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGlzTW9iaWxlQnJvd3NlcigpIHtcclxuICByZXR1cm4gL0FuZHJvaWR8aVBob25lL2kudGVzdCggbmF2aWdhdG9yLnVzZXJBZ2VudCApO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gaXNPblNjcmVlbiggZWxlbWVudDogSFRNTEVsZW1lbnQgKSB7XHJcbiAgY29uc3QgcmVjdCA9IGVsZW1lbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XHJcbiAgcmV0dXJuIChcclxuICAgIHJlY3QudG9wID49IDAgJiZcclxuICAgIHJlY3QubGVmdCA+PSAwICYmXHJcbiAgICByZWN0LmJvdHRvbSA8PSAoIHdpbmRvdy5pbm5lckhlaWdodCB8fCBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50SGVpZ2h0ICkgJiZcclxuICAgIHJlY3QucmlnaHQgPD0gKCB3aW5kb3cuaW5uZXJXaWR0aCB8fCBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50V2lkdGggKVxyXG4gICk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBiaW5kRWxlbWVudFZpZXdJZkNoZWNrZWQoIHRyaWdnZXJFbGVtZW50OiBIVE1MSW5wdXRFbGVtZW50LCB0YXJnZXRFbGVtZW50OiBIVE1MSW5wdXRFbGVtZW50LCBvcHRpb25zID0ge1xyXG4gIG9uQ2hlY2s6ICggdHJpZ2dlckVsZW1lbnQ6IEhUTUxJbnB1dEVsZW1lbnQsIHRhcmdldEVsZW1lbnQ6IEhUTUxFbGVtZW50ICkgPT4geyB9LFxyXG4gIG9uVW5jaGVjazogKCB0cmlnZ2VyRWxlbWVudDogSFRNTElucHV0RWxlbWVudCwgdGFyZ2V0RWxlbWVudDogSFRNTEVsZW1lbnQgKSA9PiB7IH1cclxufSApIHtcclxuICBiaW5kRWxlbWVudHNCeUNoZWNrKFxyXG4gICAgdHJpZ2dlckVsZW1lbnQsXHJcbiAgICB0YXJnZXRFbGVtZW50LFxyXG4gICAgKCBlbDogSFRNTEVsZW1lbnQgKSA9PiB7XHJcbiAgICAgIGVsLmNsYXNzTGlzdC5hZGQoICdzaG93JyApO1xyXG4gICAgICBvcHRpb25zLm9uQ2hlY2soIHRyaWdnZXJFbGVtZW50LCB0YXJnZXRFbGVtZW50ICk7XHJcbiAgICB9LFxyXG4gICAgKCBlbDogSFRNTEVsZW1lbnQgKSA9PiB7XHJcbiAgICAgIGVsLmNsYXNzTGlzdC5yZW1vdmUoICdzaG93JyApO1xyXG4gICAgICBvcHRpb25zLm9uVW5jaGVjayggdHJpZ2dlckVsZW1lbnQsIHRhcmdldEVsZW1lbnQgKTtcclxuICAgIH0sXHJcbiAgKTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGdldFZhbHVlRnJvbVJhZGlvR3JvdXAoIGdyb3VwTmFtZTogc3RyaW5nICk6IHN0cmluZyB8IHVuZGVmaW5lZCB7XHJcbiAgY29uc3QgZWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCBgW25hbWU9JHsgZ3JvdXBOYW1lIH1dOmNoZWNrZWRgICkgYXMgSFRNTElucHV0RWxlbWVudDtcclxuICBpZiAoIGVsICkge1xyXG4gICAgcmV0dXJuIGVsLnZhbHVlO1xyXG4gIH1cclxufVxyXG5cclxuXHJcbi8vIFJldG9ybmEgdW1hIGZ1bsOnw6NvIHF1ZSBuw6NvIHZhaSBzZXIgY29tcGxldGFkYSBjYXNvIHNlamEgY2hhbWFkYSBub3ZhbWVudGUgZW0geyBkZWxheSB9IG1pbGlzc2VndW5kb3NcclxuZXhwb3J0IGZ1bmN0aW9uIGRlYm91bmNlRmFjdG9yeSggZnVuYzogRnVuY3Rpb24sIGRlbGF5OiBudW1iZXIgKTogRnVuY3Rpb24ge1xyXG4gIGxldCBpbkRlYm91bmNlOiBudW1iZXI7XHJcbiAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcclxuICAgIGNvbnN0IGNvbnRleHQgPSB3aW5kb3c7XHJcbiAgICBjb25zdCBhcmdzID0gYXJndW1lbnRzO1xyXG4gICAgY2xlYXJUaW1lb3V0KCBpbkRlYm91bmNlICk7XHJcbiAgICBpbkRlYm91bmNlID0gd2luZG93LnNldFRpbWVvdXQoICgpID0+IGZ1bmMuYXBwbHkoIGNvbnRleHQsIGFyZ3MgKSwgZGVsYXkgKTtcclxuICB9O1xyXG59XHJcblxyXG4vLyBSZXRvcm5hIHVtYSBmdW7Dp8OjbyBxdWUgc8OzIHBvZGUgc2VyIGNvbXBsZXRhZGEgdW1hIHZleiBhIGNhZGEgeyBsaW1pdCB9IG1pbGlzc2VndW5kb3MgXHJcbmV4cG9ydCBmdW5jdGlvbiB0aHJvdHRsZUZhY3RvcnkoIGZ1bmM6IEZ1bmN0aW9uLCBsaW1pdDogbnVtYmVyICk6IEZ1bmN0aW9uIHtcclxuICBsZXQgbGFzdEZ1bmM6IG51bWJlcjtcclxuICBsZXQgbGFzdFJhbjogbnVtYmVyO1xyXG4gIHJldHVybiBmdW5jdGlvbiAoKSB7XHJcbiAgICBjb25zdCBjb250ZXh0ID0gd2luZG93O1xyXG4gICAgY29uc3QgYXJncyA9IGFyZ3VtZW50cztcclxuICAgIGlmICggIWxhc3RSYW4gKSB7XHJcbiAgICAgIGZ1bmMuYXBwbHkoIGNvbnRleHQsIGFyZ3MgKTtcclxuICAgICAgbGFzdFJhbiA9IERhdGUubm93KCk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBjbGVhclRpbWVvdXQoIGxhc3RGdW5jICk7XHJcbiAgICAgIGxhc3RGdW5jID0gd2luZG93LnNldFRpbWVvdXQoIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBpZiAoIERhdGUubm93KCkgLSBsYXN0UmFuID49IGxpbWl0ICkge1xyXG4gICAgICAgICAgZnVuYy5hcHBseSggY29udGV4dCwgYXJncyApO1xyXG4gICAgICAgICAgbGFzdFJhbiA9IERhdGUubm93KCk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9LCBsaW1pdCAtICggRGF0ZS5ub3coKSAtIGxhc3RSYW4gKSApO1xyXG4gICAgfVxyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIHNtb290aFNjcm9sbFRvKCBwb3M6IG51bWJlciApOiB2b2lkIHtcclxuICB3aW5kb3cuc2Nyb2xsVG8oIHtcclxuICAgIHRvcDogcG9zLFxyXG4gICAgYmVoYXZpb3I6ICdzbW9vdGgnLFxyXG4gIH0gKTtcclxufVxyXG5cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBzZWxlY3RPcHRpb25CeVRleHQoIGlkU2VsZWN0RWxlbWVudDogc3RyaW5nLCBzZWFyY2hUZXh0OiBzdHJpbmcsIGNvbnRhaW5zOiBib29sZWFuID0gZmFsc2UgKTogdm9pZCB7XHJcbiAgY29uc3Qgc2VsZWN0RWxlbWVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCBpZFNlbGVjdEVsZW1lbnQgKSBhcyBIVE1MU2VsZWN0RWxlbWVudDtcclxuXHJcbiAgaWYgKCAhc2VsZWN0RWxlbWVudCApIHtcclxuICAgIHJldHVybjtcclxuICB9XHJcblxyXG4gIGNvbnN0IG9wdGlvbnNFbGVtZW50b1NlbGVjdCA9IFsuLi5zZWxlY3RFbGVtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoICdvcHRpb24nICldO1xyXG5cclxuICBsZXQgc2VsZWN0ZWRPcHRpb247XHJcbiAgaWYgKCBjb250YWlucyApIHtcclxuICAgIHNlbGVjdGVkT3B0aW9uID0gb3B0aW9uc0VsZW1lbnRvU2VsZWN0XHJcbiAgICAgIC5maWx0ZXIoIGVsID0+IGVsLnRleHRDb250ZW50ICYmIGVsLnRleHRDb250ZW50LnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMoIHNlYXJjaFRleHQudG9Mb3dlckNhc2UoKSApIClbMF0udmFsdWU7XHJcbiAgfSBlbHNlIHtcclxuICAgIHNlbGVjdGVkT3B0aW9uID0gb3B0aW9uc0VsZW1lbnRvU2VsZWN0XHJcbiAgICAgIC5maWx0ZXIoIGVsID0+IGVsLnRleHRDb250ZW50ICYmIGVsLnRleHRDb250ZW50LnRvTG93ZXJDYXNlKCkgPT09IHNlYXJjaFRleHQudG9Mb3dlckNhc2UoKSApWzBdLnZhbHVlO1xyXG4gIH1cclxuXHJcbiAgc2VsZWN0RWxlbWVudC52YWx1ZSA9IHNlbGVjdGVkT3B0aW9uO1xyXG59XHJcblxyXG4iXSwibmFtZXMiOlsicmVnZXhOdW1iZXJQYXR0ZXJuIiwiX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiY2FjaGVkTW9kdWxlIiwidW5kZWZpbmVkIiwiZXhwb3J0cyIsIm1vZHVsZSIsIl9fd2VicGFja19tb2R1bGVzX18iLCJkIiwiZGVmaW5pdGlvbiIsImtleSIsIm8iLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImVudW1lcmFibGUiLCJnZXQiLCJvYmoiLCJwcm9wIiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJjYWxsIiwiciIsIlN5bWJvbCIsInRvU3RyaW5nVGFnIiwidmFsdWUiLCJkaWN0S2V5c0J5QWN0aW9uIiwiTWFwIiwiYWRkQWN0aW9uS2V5IiwiZXZlbnQiLCJoYXMiLCJzZXQiLCJjaGVja0VsZW1lbnRDb2xsaXNpb24iLCJlbGVtZW50MSIsImVsZW1lbnQyIiwicmVjdDEiLCJnZXRCb3VuZGluZ0NsaWVudFJlY3QiLCJyZWN0MiIsInRvcCIsImJvdHRvbSIsInJpZ2h0IiwibGVmdCIsIm1hcERlZmF1bHRBdHRyaWJ1dGVzQnlFbGVtZW50IiwiZ2V0RGVmYXVsdEF0dHJpYnV0ZUZvclRhcmdldCIsInRhcmdldCIsImF0dHJpYnV0ZU5hbWUiLCJyZXN1bHQiLCJkZWZhdWx0QXR0cmlidXRlVmFsdWVzQnlOYW1lIiwiZ2V0QXR0cmlidXRlIiwic2V0RGVmYXVsdEF0dHJpYnV0ZUZvclRhcmdldCIsIm5ld0RlZmF1bHRBdHRyaWJ1dGUiLCJnZXRDb2xsaXNpb25EaXJlY3Rpb24iLCJkcmFnZ2FibGUiLCJoZWlnaHQiLCJ3aWR0aCIsImNlbnRlciIsImdldERpc3RhbmNlRnJvbUJvcmRlciIsImdldFRyYW5zZm9ybUNvb3Jkc0Zyb21FbGVtZW50IiwiZWxlbWVudCIsImFyckNvbXB1dGVkRHJhZ2dhYmxlVHJhbnNsYXRlIiwid2luZG93IiwiZ2V0Q29tcHV0ZWRTdHlsZSIsInRyYW5zZm9ybSIsIm1hdGNoIiwibWFwIiwibiIsIngiLCJNYXRoIiwicm91bmQiLCJ5IiwiY2xpY2tFdmVudFRvQ29vcmRpbmF0ZXMiLCJNb3VzZUV2ZW50IiwiY2xpZW50WCIsImNsaWVudFkiLCJUb3VjaEV2ZW50IiwidG91Y2giLCJjaGFuZ2VkVG91Y2hlcyIsImhpZGVFbGVtZW50Iiwic3R5bGUiLCJkaXNwbGF5IiwicG9zaXRpb24iLCJ6SW5kZXgiLCJvcGFjaXR5Iiwic2V0QXR0cmlidXRlIiwiYXN5bmMiLCJzbGVlcEFzeW5jIiwibXMiLCJQcm9taXNlIiwicmVzb2x2ZSIsInNldFRpbWVvdXQiLCJiaW5kRWxlbWVudHNCeUNoZWNrIiwidHJpZ2dlckVsZW1lbnQiLCJ0YXJnZXRFbGVtZW50Iiwib25DaGVjayIsIm9uVW5jaGVjayIsImNoZWNrZWQiLCJuYW1lIiwiQXJyYXkiLCJmcm9tIiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yQWxsIiwiZm9yRWFjaCIsInQiLCJhZGRFdmVudExpc3RlbmVyIiwiZXZ0IiwiaXNNb2JpbGVCcm93c2VyIiwidGVzdCIsIm5hdmlnYXRvciIsInVzZXJBZ2VudCIsImlzT25TY3JlZW4iLCJyZWN0IiwiaW5uZXJIZWlnaHQiLCJkb2N1bWVudEVsZW1lbnQiLCJjbGllbnRIZWlnaHQiLCJpbm5lcldpZHRoIiwiY2xpZW50V2lkdGgiLCJiaW5kRWxlbWVudFZpZXdJZkNoZWNrZWQiLCJvcHRpb25zIiwiZWwiLCJjbGFzc0xpc3QiLCJhZGQiLCJyZW1vdmUiLCJnZXRWYWx1ZUZyb21SYWRpb0dyb3VwIiwiZ3JvdXBOYW1lIiwicXVlcnlTZWxlY3RvciIsImRlYm91bmNlRmFjdG9yeSIsImZ1bmMiLCJkZWxheSIsImluRGVib3VuY2UiLCJjb250ZXh0IiwiYXJncyIsImFyZ3VtZW50cyIsImNsZWFyVGltZW91dCIsImFwcGx5IiwidGhyb3R0bGVGYWN0b3J5IiwibGltaXQiLCJsYXN0RnVuYyIsImxhc3RSYW4iLCJEYXRlIiwibm93Iiwic21vb3RoU2Nyb2xsVG8iLCJwb3MiLCJzY3JvbGxUbyIsImJlaGF2aW9yIiwic2VsZWN0T3B0aW9uQnlUZXh0IiwiaWRTZWxlY3RFbGVtZW50Iiwic2VhcmNoVGV4dCIsImNvbnRhaW5zIiwic2VsZWN0RWxlbWVudCIsImdldEVsZW1lbnRCeUlkIiwib3B0aW9uc0VsZW1lbnRvU2VsZWN0Iiwic2VsZWN0ZWRPcHRpb24iLCJmaWx0ZXIiLCJ0ZXh0Q29udGVudCIsInRvTG93ZXJDYXNlIiwiaW5jbHVkZXMiLCJwYWlyIiwiY29kZSIsImtiRXZlbnQiXSwic291cmNlUm9vdCI6IiJ9