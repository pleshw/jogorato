var AudioComponent;(()=>{"use strict";var t={901:(t,e,n)=>{n.d(e,{createInvisiblePlayer:()=>s}),n(936);var i=n(28),o=n(234);function s(t,e){const n=document.createElement("div");n.classList.add("audio-container"),n.insertAdjacentHTML("afterbegin",function(t,e){return`<audio controls ${e?function(t){return` ${t.id?'id="'+t.id+'"':""} ${t.autoPlay||t.autoplay?"autoplay":""} ${t.muted?"muted":""} ${t.loop?"loop":""} ${t.preload?'preload="'+t.preload+'"':""}`.trimEnd()}(e):""}>\n    ${t.map((t=>function(t){return`<source src="${t}" type="audio/${(0,o.getFileExtension)(t)}">`}(t))).reduce(((t,e)=>t+e),"")}\n  </audio>`}(t,e));const s=n.childNodes[0],r=function(t,e){const n=document.createElement("button");return n.classList.add("play-button"),setTimeout((()=>{t.paused&&n.classList.add("paused")}),300),n.addEventListener("click",(()=>{t.paused?(t.play(),n.classList.remove("paused")):(t.pause(),n.classList.add("paused"))})),function(t,e,n){e.addEventListener("play",(()=>{t.classList.remove("paused"),n&&n.onPlay&&n.onPlay(e),n&&n.onplay&&n.onplay(e)})),e.addEventListener("pause",(()=>{t.classList.add("paused"),n&&n.onPause&&n.onPause(e),n&&n.onpause&&n.onpause(e)}))}(n,t,e),n}(s,e);return n.insertAdjacentElement("beforeend",r),document.body.insertAdjacentElement("afterbegin",n),(0,i.hideElement)(s),(0,i.hideElement)(r),n}},813:(t,e,n)=>{n.d(e,{Component:()=>o});var i=n(676);class o{position;container;fadeInAnimation;fadeOutAnimation;constructor(t,e,n,i){this.container=t,this.fadeInAnimation=n,this.fadeOutAnimation=i,e&&this.setupPosition(e)}async build(t){t&&t.mainLayer&&t.mainLayer.element.insertAdjacentElement("beforeend",this.container),this.container.style.display="flex",this.fadeInAnimation&&await this.fadeInAnimation.animate(this)}setupPosition(t){this.position=t,this.container.style.position="absolute",this.container.style.display="none",this.container.style.left=t.horizontal,t.verticalReference===i.VERTICAL_REFERENCE.FROM_TOP?this.container.style.top=t.vertical:this.container.style.bottom=t.vertical}async destroy(){this.fadeOutAnimation&&await this.fadeOutAnimation.animate(this),this.container.style.display="none"}}},28:(t,e,n)=>{n.d(e,{addActionKey:()=>o,hideElement:()=>s});const i=new Map;function o(t,e){i.has(t)?i.set(t,[e,...i.get(t)]):i.set(t,[e])}function s(t){t.style.display="block",t.style.position="absolute",t.style.zIndex="-1",t.style.opacity="0",t.style.width="0px !important",t.style.height="0px !important",t.setAttribute("hidden","")}new Map,window.addEventListener("keydown",(t=>{for(const e of i)t.code===e[0]&&e[1].forEach((e=>e(t)))}))},234:(t,e,n)=>{n.d(e,{getFileExtension:()=>o});var i=n(902);function o(t){if((0,i.isNullOrEmpty)(t))return"";const e=t.split(".").pop();if(e&&e!==t)return e;const n=t.split("/").pop();return n&&n!==t?n:""}},936:()=>{String.prototype.isNullOrEmpty=function(){return"string"!=typeof this&&!this&&""!==this},String.prototype.truncate=function(t,e="..."){return(this.length>t?this.substring(0,t)+e:this).toString()},String.prototype.removeAccents=function(){return this.normalize("NFD").replace(/[\u0300-\u036f]/g,"")},String.prototype.capitalizeFirstLetter=function(){return"string"!=typeof this?"":this.charAt(0).toUpperCase()+this.substring(1)},String.prototype.zeroBefore=function(){return this.padStart(2,"0")}},902:(t,e,n)=>{function i(t){return"string"!=typeof t||!t||""===t}n.d(e,{isNullOrEmpty:()=>i})},676:(t,e,n)=>{var i,o,s,r;n.d(e,{CONVERSION_UNIT:()=>i,CSSPosition:()=>a,VERTICAL_REFERENCE:()=>s}),function(t){t[t.PIXEL=0]="PIXEL",t[t.PERCENTAGE=1]="PERCENTAGE"}(i||(i={})),function(t){t[t.HORIZONTAL=0]="HORIZONTAL",t[t.VERTICAL=1]="VERTICAL"}(o||(o={})),function(t){t[t.FROM_TOP=0]="FROM_TOP",t[t.FROM_BOTTOM=1]="FROM_BOTTOM"}(s||(s={})),function(t){t[t.R=0]="R",t[t.G=1]="G",t[t.B=2]="B",t[t.A=3]="A"}(r||(r={}));class a{x;y;type;verticalReference;constructor({x:t,y:e,verticalReference:n=s.FROM_TOP,type:o=i.PIXEL}){[this.x,this.y,this.verticalReference,this.type]=[t,e,n,o]}get horizontal(){switch(this.type){case i.PIXEL:return`${this.x}px`;case i.PERCENTAGE:return`${this.x}%`;default:return`${this.x}px`}}get vertical(){switch(this.type){case i.PIXEL:return`${this.y}px`;case i.PERCENTAGE:return`${this.y}%`;default:return`${this.y}px`}}}}},e={};function n(i){var o=e[i];if(void 0!==o)return o.exports;var s=e[i]={exports:{}};return t[i](s,s.exports,n),s.exports}n.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return n.d(e,{a:e}),e},n.d=(t,e)=>{for(var i in e)n.o(e,i)&&!n.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:e[i]})},n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),n.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})};var i={};(()=>{n.r(i),n.d(i,{AudioComponent:()=>r}),n(936);var t=n(901),e=n(813),o=n(28),s=n(676);class r extends e.Component{audioElement;playerConfig;constructor(e,n){super((0,t.createInvisiblePlayer)([e],n),new s.CSSPosition({x:10,y:5,verticalReference:s.VERTICAL_REFERENCE.FROM_TOP,type:s.CONVERSION_UNIT.PERCENTAGE})),this.audioElement=this.container.querySelector("audio"),this.playerConfig=n,(0,o.addActionKey)("Space",(()=>this.audioElement.paused?this.audioElement.play():this.audioElement.pause()))}}})(),AudioComponent=i})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUFXN0QsSUFFMUUsRUNORGlELEVBQW9CYSxFQUFJLENBQUNJLEVBQUtDLElBQVVKLE9BQU94QyxVQUFVNkMsZUFBZUMsS0FBS0gsRUFBS0MsR0NDbEZsQixFQUFvQnFCLEVBQUtqQixJQUNILG9CQUFYa0IsUUFBMEJBLE9BQU9DLGFBQzFDVCxPQUFPQyxlQUFlWCxFQUFTa0IsT0FBT0MsWUFBYSxDQUFFQyxNQUFPLFdBRTdEVixPQUFPQyxlQUFlWCxFQUFTLGFBQWMsQ0FBRW9CLE9BQU8sR0FBTyxFLGtHQ0V2RCxNQUFNQyxVQUF1QixFQUFBckcsVUFDM0JuQixhQUNBdkIsYUFFUCxXQUFBK0MsQ0FBYS9CLEVBQWFoQixHQUN4QmdKLE9BQU8sSUFBQWxKLHVCQUF1QixDQUFDa0IsR0FBTWhCLEdBQ25DLElBQUksRUFBQStHLFlBQWEsQ0FBRUMsRUFBRyxHQUFJQyxFQUFHLEVBQUd0RCxrQkFBbUIsRUFBQUMsbUJBQW1CQyxTQUFVcUQsS0FBTSxFQUFBTixnQkFBZ0JRLGNBRXhHcEUsS0FBS3pCLGFBQWV5QixLQUFLSixVQUFVcUcsY0FBZSxTQUNsRGpHLEtBQUtoRCxhQUFlQSxHQUVwQixJQUFBb0UsY0FBYyxTQUFTLElBQU1wQixLQUFLekIsYUFBYUssT0FBU29CLEtBQUt6QixhQUFhTyxPQUFTa0IsS0FBS3pCLGFBQWFTLFNBQ3ZHLEUiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9BdWRpb1Rvb2xzLnRzIiwid2VicGFjazovLy8uL0NvbXBvbmVudC50cyIsIndlYnBhY2s6Ly8vLi9ET01Ub29scy50cyIsIndlYnBhY2s6Ly8vLi9GaWxlVG9vbHMudHMiLCJ3ZWJwYWNrOi8vLy4vU3RyaW5nRXh0ZW5zaW9ucy50cyIsIndlYnBhY2s6Ly8vLi9TdHJpbmdUb29scy50cyIsIndlYnBhY2s6Ly8vLi90eXBlcy50cyIsIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vL3dlYnBhY2svcnVudGltZS9jb21wYXQgZ2V0IGRlZmF1bHQgZXhwb3J0Iiwid2VicGFjazovLy93ZWJwYWNrL3J1bnRpbWUvZGVmaW5lIHByb3BlcnR5IGdldHRlcnMiLCJ3ZWJwYWNrOi8vL3dlYnBhY2svcnVudGltZS9oYXNPd25Qcm9wZXJ0eSBzaG9ydGhhbmQiLCJ3ZWJwYWNrOi8vL3dlYnBhY2svcnVudGltZS9tYWtlIG5hbWVzcGFjZSBvYmplY3QiLCJ3ZWJwYWNrOi8vLy4vQXVkaW9Db21wb25lbnQudHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0ICcuL1N0cmluZ0V4dGVuc2lvbnMnO1xyXG5pbXBvcnQgeyBoaWRlRWxlbWVudCB9IGZyb20gJy4vRE9NVG9vbHMnO1xyXG5pbXBvcnQgeyBnZXRGaWxlRXh0ZW5zaW9uIH0gZnJvbSAnLi9GaWxlVG9vbHMnO1xyXG5cclxuZXhwb3J0IHR5cGUgQXVkaW9QbGF5ZXJDb25maWcgPSB7XHJcbiAgaWQ/OiBzdHJpbmc7XHJcbiAgYXV0b1BsYXk/OiBib29sZWFuO1xyXG4gIGF1dG9wbGF5PzogYm9vbGVhbjtcclxuICBtdXRlZD86IGJvb2xlYW47XHJcbiAgbG9vcD86IGJvb2xlYW47XHJcbiAgcHJlbG9hZD86ICdhdXRvJyB8ICdtZXRhZGF0YScgfCAnbm9uZSc7XHJcbiAgb25wbGF5PzogKCBhdWRpb0VsZW1lbnQ6IEhUTUxBdWRpb0VsZW1lbnQgKSA9PiB2b2lkO1xyXG4gIG9ucGF1c2U/OiAoIGF1ZGlvRWxlbWVudDogSFRNTEF1ZGlvRWxlbWVudCApID0+IHZvaWQ7XHJcbiAgb25QbGF5PzogKCBhdWRpb0VsZW1lbnQ6IEhUTUxBdWRpb0VsZW1lbnQgKSA9PiB2b2lkO1xyXG4gIG9uUGF1c2U/OiAoIGF1ZGlvRWxlbWVudDogSFRNTEF1ZGlvRWxlbWVudCApID0+IHZvaWQ7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVJbnZpc2libGVQbGF5ZXIoIGFyclNvdXJjZXM6IHN0cmluZ1tdLCBwbGF5ZXJDb25maWc/OiBBdWRpb1BsYXllckNvbmZpZyApIHtcclxuICBjb25zdCBjb250YWluZXJEaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCAnZGl2JyApO1xyXG4gIGNvbnRhaW5lckRpdi5jbGFzc0xpc3QuYWRkKCAnYXVkaW8tY29udGFpbmVyJyApO1xyXG4gIGNvbnRhaW5lckRpdi5pbnNlcnRBZGphY2VudEhUTUwoICdhZnRlcmJlZ2luJywgYXVkaW9FbGVtZW50SFRNTCggYXJyU291cmNlcywgcGxheWVyQ29uZmlnICkgKTtcclxuXHJcbiAgY29uc3QgYXVkaW9FbGVtZW50ID0gY29udGFpbmVyRGl2LmNoaWxkTm9kZXNbMF0gYXMgSFRNTEF1ZGlvRWxlbWVudDtcclxuICBjb25zdCBwbGF5QnV0dG9uID0gZ2V0UGxheUJ1dHRvbkVsZW1lbnQoIGF1ZGlvRWxlbWVudCwgcGxheWVyQ29uZmlnICk7XHJcbiAgY29udGFpbmVyRGl2Lmluc2VydEFkamFjZW50RWxlbWVudCggJ2JlZm9yZWVuZCcsIHBsYXlCdXR0b24gKTtcclxuXHJcbiAgZG9jdW1lbnQuYm9keS5pbnNlcnRBZGphY2VudEVsZW1lbnQoICdhZnRlcmJlZ2luJywgY29udGFpbmVyRGl2ICk7XHJcblxyXG4gIGhpZGVFbGVtZW50KCBhdWRpb0VsZW1lbnQgKTtcclxuICBoaWRlRWxlbWVudCggcGxheUJ1dHRvbiApO1xyXG4gIHJldHVybiBjb250YWluZXJEaXY7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBhdWRpb0VsZW1lbnRIVE1MKCBhcnJTb3VyY2VzOiBzdHJpbmdbXSwgcGxheWVyQ29uZmlnPzogQXVkaW9QbGF5ZXJDb25maWcgKSB7XHJcbiAgcmV0dXJuIGA8YXVkaW8gY29udHJvbHMgJHsgcGxheWVyQ29uZmlnID8gYXVkaW9FbGVtZW50UGFyYW1zQnlQbGF5ZXJDb25maWcoIHBsYXllckNvbmZpZyApIDogXCJcIiB9PlxyXG4gICAgJHsgYXJyU291cmNlcy5tYXAoIHNyYyA9PiBzb3VyY2VFbGVtZW50SFRNTCggc3JjICkgKS5yZWR1Y2UoICggYWNjLCBuZXh0ICkgPT4gYWNjICsgbmV4dCwgJycgKSB9XHJcbiAgPC9hdWRpbz5gO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gc291cmNlRWxlbWVudEhUTUwoIHNyYzogc3RyaW5nICkge1xyXG4gIHJldHVybiBgPHNvdXJjZSBzcmM9XCIkeyBzcmMgfVwiIHR5cGU9XCJhdWRpby8keyBnZXRGaWxlRXh0ZW5zaW9uKCBzcmMgKSB9XCI+YDtcclxufVxyXG5cclxuZnVuY3Rpb24gYXVkaW9FbGVtZW50UGFyYW1zQnlQbGF5ZXJDb25maWcoIHBsYXllckNvbmZpZzogQXVkaW9QbGF5ZXJDb25maWcgKSB7XHJcbiAgY29uc3QgcGFyYW1JZCA9IHBsYXllckNvbmZpZy5pZCA/ICdpZD1cIicgKyBwbGF5ZXJDb25maWcuaWQgKyAnXCInIDogJyc7XHJcbiAgY29uc3QgcGFyYW1BdXRvUGxheSA9IHBsYXllckNvbmZpZy5hdXRvUGxheSB8fCBwbGF5ZXJDb25maWcuYXV0b3BsYXkgPyAnYXV0b3BsYXknIDogJyc7XHJcbiAgY29uc3QgcGFyYW1NdXRlZCA9IHBsYXllckNvbmZpZy5tdXRlZCA/ICdtdXRlZCcgOiAnJztcclxuICBjb25zdCBwYXJhbUxvb3AgPSBwbGF5ZXJDb25maWcubG9vcCA/ICdsb29wJyA6ICcnO1xyXG4gIGNvbnN0IHBhcmFtUHJlbG9hZCA9IHBsYXllckNvbmZpZy5wcmVsb2FkID8gJ3ByZWxvYWQ9XCInICsgcGxheWVyQ29uZmlnLnByZWxvYWQgKyAnXCInIDogJyc7XHJcblxyXG4gIHJldHVybiBgICR7IHBhcmFtSWQgfSAkeyBwYXJhbUF1dG9QbGF5IH0gJHsgcGFyYW1NdXRlZCB9ICR7IHBhcmFtTG9vcCB9ICR7IHBhcmFtUHJlbG9hZCB9YC50cmltRW5kKCk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGdldFBsYXlCdXR0b25FbGVtZW50KCBhdWRpb0VsZW1lbnQ6IEhUTUxBdWRpb0VsZW1lbnQsIHBsYXllckNvbmZpZz86IEF1ZGlvUGxheWVyQ29uZmlnICkge1xyXG4gIGNvbnN0IGJ1dHRvbkVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCAnYnV0dG9uJyApO1xyXG4gIGJ1dHRvbkVsZW1lbnQuY2xhc3NMaXN0LmFkZCggJ3BsYXktYnV0dG9uJyApO1xyXG5cclxuICBzZXRUaW1lb3V0KCAoKSA9PiB7XHJcbiAgICBpZiAoIGF1ZGlvRWxlbWVudC5wYXVzZWQgKSB7XHJcbiAgICAgIGJ1dHRvbkVsZW1lbnQuY2xhc3NMaXN0LmFkZCggJ3BhdXNlZCcgKTtcclxuICAgIH1cclxuICB9LCAzMDAgKTtcclxuXHJcbiAgYnV0dG9uRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCAnY2xpY2snLCAoKSA9PiB7XHJcbiAgICBpZiAoIGF1ZGlvRWxlbWVudC5wYXVzZWQgKSB7XHJcbiAgICAgIGF1ZGlvRWxlbWVudC5wbGF5KCk7XHJcbiAgICAgIGJ1dHRvbkVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSggJ3BhdXNlZCcgKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGF1ZGlvRWxlbWVudC5wYXVzZSgpO1xyXG4gICAgICBidXR0b25FbGVtZW50LmNsYXNzTGlzdC5hZGQoICdwYXVzZWQnICk7XHJcbiAgICB9XHJcbiAgfSApO1xyXG5cclxuICBzZXRBdWRpb0VsZW1lbnRQbGF5UGF1c2VFdmVudHMoIGJ1dHRvbkVsZW1lbnQsIGF1ZGlvRWxlbWVudCwgcGxheWVyQ29uZmlnICk7XHJcblxyXG4gIHJldHVybiBidXR0b25FbGVtZW50O1xyXG59XHJcblxyXG5cclxuZnVuY3Rpb24gc2V0QXVkaW9FbGVtZW50UGxheVBhdXNlRXZlbnRzKCBidXR0b25FbGVtZW50OiBIVE1MQnV0dG9uRWxlbWVudCwgYXVkaW9FbGVtZW50OiBIVE1MQXVkaW9FbGVtZW50LCBwbGF5ZXJDb25maWc/OiBBdWRpb1BsYXllckNvbmZpZyApIHtcclxuICBhdWRpb0VsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lciggJ3BsYXknLCAoKSA9PiB7XHJcbiAgICBidXR0b25FbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoICdwYXVzZWQnICk7XHJcbiAgICBpZiAoIHBsYXllckNvbmZpZyAmJiBwbGF5ZXJDb25maWcub25QbGF5ICkge1xyXG4gICAgICBwbGF5ZXJDb25maWcub25QbGF5KCBhdWRpb0VsZW1lbnQgKTtcclxuICAgIH1cclxuXHJcbiAgICBpZiAoIHBsYXllckNvbmZpZyAmJiBwbGF5ZXJDb25maWcub25wbGF5ICkge1xyXG4gICAgICBwbGF5ZXJDb25maWcub25wbGF5KCBhdWRpb0VsZW1lbnQgKTtcclxuICAgIH1cclxuICB9ICk7XHJcblxyXG4gIGF1ZGlvRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCAncGF1c2UnLCAoKSA9PiB7XHJcbiAgICBidXR0b25FbGVtZW50LmNsYXNzTGlzdC5hZGQoICdwYXVzZWQnICk7XHJcbiAgICBpZiAoIHBsYXllckNvbmZpZyAmJiBwbGF5ZXJDb25maWcub25QYXVzZSApIHtcclxuICAgICAgcGxheWVyQ29uZmlnLm9uUGF1c2UoIGF1ZGlvRWxlbWVudCApO1xyXG4gICAgfVxyXG5cclxuICAgIGlmICggcGxheWVyQ29uZmlnICYmIHBsYXllckNvbmZpZy5vbnBhdXNlICkge1xyXG4gICAgICBwbGF5ZXJDb25maWcub25wYXVzZSggYXVkaW9FbGVtZW50ICk7XHJcbiAgICB9XHJcbiAgfSApO1xyXG59XHJcblxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIHBsYXlCdXR0b25DU1MoKSB7XHJcbiAgcmV0dXJuIGBcclxuICAgIC5wbGF5LWJ1dHRvbiB7XHJcbiAgICAgIG1hcmdpbjogMDtcclxuICAgICAgcGFkZGluZzogMDtcclxuICAgICAgZGlzcGxheTogZmxleDtcclxuICAgICAgYm9yZGVyOiAwO1xyXG4gICAgICBiYWNrZ3JvdW5kOiB0cmFuc3BhcmVudDtcclxuICAgICAgYm94LXNpemluZzogYm9yZGVyLWJveDtcclxuICAgICAgd2lkdGg6IDA7XHJcbiAgICAgIGhlaWdodDogMzRweDtcclxuICAgICAgYm9yZGVyLWNvbG9yOiB0cmFuc3BhcmVudCB0cmFuc3BhcmVudCB0cmFuc3BhcmVudCAjMjAyMDIwO1xyXG4gICAgICB0cmFuc2l0aW9uOiAxMDBtcyBhbGwgZWFzZTtcclxuICAgICAgY3Vyc29yOiBwb2ludGVyO1xyXG4gICAgICBib3JkZXItc3R5bGU6IGRvdWJsZTtcclxuICAgICAgYm9yZGVyLXdpZHRoOiAwcHggMCAwcHggMzBweDtcclxuICAgIH1cclxuXHJcbiAgICAucGxheS1idXR0b24ucGF1c2VkIHtcclxuICAgICAgYm9yZGVyLXN0eWxlOiBzb2xpZDtcclxuICAgICAgYm9yZGVyLXdpZHRoOiAyM3B4IDBweCAyM3B4IDM0cHg7XHJcbiAgICB9XHJcblxyXG4gICAgLnBsYXktYnV0dG9uOmhvdmVyIHtcclxuICAgICAgYm9yZGVyLWNvbG9yOiB0cmFuc3BhcmVudCB0cmFuc3BhcmVudCB0cmFuc3BhcmVudCAjNDA0MDQwO1xyXG4gICAgfVxyXG4gIGA7XHJcbn0iLCJpbXBvcnQgeyBJQW5pbWF0aW9uIH0gZnJvbSAnLi9pbnRlcmZhY2VzJztcclxuaW1wb3J0IHsgU2NlbmUgfSBmcm9tICcuL1NjZW5lJztcclxuaW1wb3J0IHsgQ1NTUG9zaXRpb24sIFZFUlRJQ0FMX1JFRkVSRU5DRSB9IGZyb20gJy4vdHlwZXMnO1xyXG5cclxuZXhwb3J0IGNsYXNzIENvbXBvbmVudCB7XHJcbiAgcHVibGljIHBvc2l0aW9uPzogQ1NTUG9zaXRpb247XHJcbiAgcHVibGljIGNvbnRhaW5lcjogSFRNTEVsZW1lbnQ7XHJcbiAgcHVibGljIGZhZGVJbkFuaW1hdGlvbj86IElBbmltYXRpb247XHJcbiAgcHVibGljIGZhZGVPdXRBbmltYXRpb24/OiBJQW5pbWF0aW9uO1xyXG5cclxuICBjb25zdHJ1Y3RvciggY29udGFpbmVyOiBIVE1MRWxlbWVudCwgcG9zaXRpb24/OiBDU1NQb3NpdGlvbiwgZmFkZUluQW5pbWF0aW9uPzogSUFuaW1hdGlvbiwgZmFkZU91dEFuaW1hdGlvbj86IElBbmltYXRpb24gKSB7XHJcbiAgICB0aGlzLmNvbnRhaW5lciA9IGNvbnRhaW5lcjtcclxuICAgIHRoaXMuZmFkZUluQW5pbWF0aW9uID0gZmFkZUluQW5pbWF0aW9uO1xyXG4gICAgdGhpcy5mYWRlT3V0QW5pbWF0aW9uID0gZmFkZU91dEFuaW1hdGlvbjtcclxuXHJcbiAgICBpZiAoIHBvc2l0aW9uICkge1xyXG4gICAgICB0aGlzLnNldHVwUG9zaXRpb24oIHBvc2l0aW9uICk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBhc3luYyBidWlsZCggc2NlbmU6IFNjZW5lICkge1xyXG4gICAgaWYgKCBzY2VuZSAmJiBzY2VuZS5tYWluTGF5ZXIgKSB7XHJcbiAgICAgIHNjZW5lLm1haW5MYXllci5lbGVtZW50Lmluc2VydEFkamFjZW50RWxlbWVudCggJ2JlZm9yZWVuZCcsIHRoaXMuY29udGFpbmVyICk7XHJcbiAgICB9XHJcblxyXG4gICAgdGhpcy5jb250YWluZXIuc3R5bGUuZGlzcGxheSA9ICdmbGV4JztcclxuXHJcbiAgICBpZiAoIHRoaXMuZmFkZUluQW5pbWF0aW9uICkge1xyXG4gICAgICBhd2FpdCB0aGlzLmZhZGVJbkFuaW1hdGlvbi5hbmltYXRlKCB0aGlzICk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBzZXR1cFBvc2l0aW9uKCBwb3NpdGlvbjogQ1NTUG9zaXRpb24gKSB7XHJcbiAgICB0aGlzLnBvc2l0aW9uID0gcG9zaXRpb247XHJcbiAgICB0aGlzLmNvbnRhaW5lci5zdHlsZS5wb3NpdGlvbiA9ICdhYnNvbHV0ZSc7XHJcbiAgICB0aGlzLmNvbnRhaW5lci5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xyXG5cclxuICAgIHRoaXMuY29udGFpbmVyLnN0eWxlLmxlZnQgPSBwb3NpdGlvbi5ob3Jpem9udGFsO1xyXG5cclxuICAgIGlmICggcG9zaXRpb24udmVydGljYWxSZWZlcmVuY2UgPT09IFZFUlRJQ0FMX1JFRkVSRU5DRS5GUk9NX1RPUCApIHtcclxuICAgICAgdGhpcy5jb250YWluZXIuc3R5bGUudG9wID0gcG9zaXRpb24udmVydGljYWw7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0aGlzLmNvbnRhaW5lci5zdHlsZS5ib3R0b20gPSBwb3NpdGlvbi52ZXJ0aWNhbDtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGFzeW5jIGRlc3Ryb3koKSB7XHJcbiAgICBpZiAoIHRoaXMuZmFkZU91dEFuaW1hdGlvbiApIHtcclxuICAgICAgYXdhaXQgdGhpcy5mYWRlT3V0QW5pbWF0aW9uLmFuaW1hdGUoIHRoaXMgKTtcclxuICAgIH1cclxuXHJcbiAgICB0aGlzLmNvbnRhaW5lci5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xyXG4gIH1cclxufSIsImltcG9ydCB7IFBvaW50MkQsIHJlZ2V4TnVtYmVyUGF0dGVybiB9IGZyb20gJy4vTWF0aFRvb2xzJztcclxuaW1wb3J0IHsgQ29sbGlzaW9uRGlyZWN0aW9uQ2hlY2ssIENvbGxpc2lvbkJvcmRlckRpc3RhbmNlIH0gZnJvbSAnLi90eXBlcyc7XHJcblxyXG5leHBvcnQgdHlwZSBLZXlib2FyZEV2ZW50Q2FsbGJhY2sgPSAoIGV2dDogS2V5Ym9hcmRFdmVudCApID0+IHZvaWQ7XHJcblxyXG5leHBvcnQgY29uc3QgZGljdEtleXNCeUFjdGlvbiA9IG5ldyBNYXA8c3RyaW5nLCBLZXlib2FyZEV2ZW50Q2FsbGJhY2tbXT4oKTtcclxuZXhwb3J0IGZ1bmN0aW9uIGFkZEFjdGlvbktleSgga2V5OiBzdHJpbmcsIGV2ZW50OiBLZXlib2FyZEV2ZW50Q2FsbGJhY2sgKSB7XHJcbiAgaWYgKCBkaWN0S2V5c0J5QWN0aW9uLmhhcygga2V5ICkgKSB7XHJcbiAgICBkaWN0S2V5c0J5QWN0aW9uLnNldCgga2V5LCBbZXZlbnQsIC4uLmRpY3RLZXlzQnlBY3Rpb24uZ2V0KCBrZXkgKSFdIClcclxuICB9IGVsc2Uge1xyXG4gICAgZGljdEtleXNCeUFjdGlvbi5zZXQoIGtleSwgW2V2ZW50XSApXHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gY2hlY2tFbGVtZW50Q29sbGlzaW9uKCBlbGVtZW50MTogSFRNTEVsZW1lbnQsIGVsZW1lbnQyOiBIVE1MRWxlbWVudCApOiBib29sZWFuIHtcclxuICBjb25zdCByZWN0MSA9IGVsZW1lbnQxLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xyXG4gIGNvbnN0IHJlY3QyID0gZWxlbWVudDIuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XHJcblxyXG4gIHJldHVybiAhKFxyXG4gICAgcmVjdDEudG9wID4gcmVjdDIuYm90dG9tIHx8XHJcbiAgICByZWN0MS5yaWdodCA8IHJlY3QyLmxlZnQgfHxcclxuICAgIHJlY3QxLmJvdHRvbSA8IHJlY3QyLnRvcCB8fFxyXG4gICAgcmVjdDEubGVmdCA+IHJlY3QyLnJpZ2h0XHJcbiAgKTtcclxufVxyXG5cclxuLy8vIEdldCB0aGUgZGVmYXVsdCBhdHRyaWJ1dGVzIGZyb20gdGhlIHRhcmdldCBlbGVtZW50XHJcbi8vLyBJZiBoYXZlIG5vdCBkZWZhdWx0IGF0dHJpYnV0ZSB3aXRoIHRoaXMgQGF0dHJpYnV0ZU5hbWUgb24gbWFwIHdpbGwgc2V0IHRoZSBjdXJyZW50IGF0dHJpYnV0ZSBhcyBkZWZhdWx0XHJcbi8vLyBJZiBoYXZlIG5vdCBkZWZhdWx0IGF0dHJpYnV0ZSB3aXRoIHRoaXMgQGF0dHJpYnV0ZU5hbWUgd2lsbCByZXR1cm4gYW4gZW1wdHkgc3RyaW5nXHJcbmV4cG9ydCBjb25zdCBtYXBEZWZhdWx0QXR0cmlidXRlc0J5RWxlbWVudCA9IG5ldyBNYXA8SFRNTEVsZW1lbnQsIE1hcDxzdHJpbmcsIHN0cmluZz4+KCk7XHJcbmV4cG9ydCBmdW5jdGlvbiBnZXREZWZhdWx0QXR0cmlidXRlRm9yVGFyZ2V0KCB0YXJnZXQ6IEhUTUxFbGVtZW50LCBhdHRyaWJ1dGVOYW1lOiBzdHJpbmcgKTogc3RyaW5nIHtcclxuICBpZiAoICFtYXBEZWZhdWx0QXR0cmlidXRlc0J5RWxlbWVudC5oYXMoIHRhcmdldCApICkge1xyXG4gICAgbWFwRGVmYXVsdEF0dHJpYnV0ZXNCeUVsZW1lbnQuc2V0KCB0YXJnZXQsIG5ldyBNYXA8c3RyaW5nLCBzdHJpbmc+KCkgKTtcclxuICB9XHJcblxyXG4gIGxldCByZXN1bHQ6IHN0cmluZyA9ICcnO1xyXG4gIGNvbnN0IGRlZmF1bHRBdHRyaWJ1dGVWYWx1ZXNCeU5hbWUgPSBtYXBEZWZhdWx0QXR0cmlidXRlc0J5RWxlbWVudC5nZXQoIHRhcmdldCApITtcclxuICBjb25zdCB0YXJnZXREZWZhdWx0QXR0cmlidXRlID0gIWRlZmF1bHRBdHRyaWJ1dGVWYWx1ZXNCeU5hbWUuaGFzKCBhdHRyaWJ1dGVOYW1lICkgPyB0YXJnZXQuZ2V0QXR0cmlidXRlKCBhdHRyaWJ1dGVOYW1lICkgOiBkZWZhdWx0QXR0cmlidXRlVmFsdWVzQnlOYW1lLmdldCggYXR0cmlidXRlTmFtZSApITtcclxuXHJcbiAgcmVzdWx0ID0gdGFyZ2V0RGVmYXVsdEF0dHJpYnV0ZSA/IHRhcmdldERlZmF1bHRBdHRyaWJ1dGUgOiAnJztcclxuICBzZXREZWZhdWx0QXR0cmlidXRlRm9yVGFyZ2V0KCB0YXJnZXQsIGF0dHJpYnV0ZU5hbWUsIHJlc3VsdCApO1xyXG5cclxuICByZXR1cm4gcmVzdWx0O1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gc2V0RGVmYXVsdEF0dHJpYnV0ZUZvclRhcmdldCggdGFyZ2V0OiBIVE1MRWxlbWVudCwgYXR0cmlidXRlTmFtZTogc3RyaW5nLCBuZXdEZWZhdWx0QXR0cmlidXRlOiBzdHJpbmcgKTogdm9pZCB7XHJcbiAgaWYgKCAhbWFwRGVmYXVsdEF0dHJpYnV0ZXNCeUVsZW1lbnQuaGFzKCB0YXJnZXQgKSApIHtcclxuICAgIG1hcERlZmF1bHRBdHRyaWJ1dGVzQnlFbGVtZW50LnNldCggdGFyZ2V0LCBuZXcgTWFwPHN0cmluZywgc3RyaW5nPigpICk7XHJcbiAgfVxyXG5cclxuICBtYXBEZWZhdWx0QXR0cmlidXRlc0J5RWxlbWVudC5nZXQoIHRhcmdldCApIS5zZXQoIGF0dHJpYnV0ZU5hbWUsIG5ld0RlZmF1bHRBdHRyaWJ1dGUgKTtcclxufVxyXG5cclxuLy8vIERpdmlkZSBvIGVsZW1lbnRvIEB0YXJnZXQgZW0gOSBcInF1YWRyYWRvc1wiIGlndWFpcyBlIHJldG9ybmEgZW0gcXVhaXMgcXVhZHJhZG9zIG8gZHJhZ2dhYmxlIGVzdMOhIGNvbGlkaW5kbyBjb20gbyB0YXJnZXRcclxuZXhwb3J0IGZ1bmN0aW9uIGdldENvbGxpc2lvbkRpcmVjdGlvbiggZHJhZ2dhYmxlOiBIVE1MRWxlbWVudCwgdGFyZ2V0OiBIVE1MRWxlbWVudCApOiBDb2xsaXNpb25EaXJlY3Rpb25DaGVjayB7XHJcbiAgY29uc3QgcmVjdDEgPSBkcmFnZ2FibGUuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XHJcbiAgY29uc3QgcmVjdDIgPSB0YXJnZXQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XHJcblxyXG4gIGNvbnN0IGlzVG9wID0gcmVjdDEuYm90dG9tID4gcmVjdDIudG9wICYmIHJlY3QxLnRvcCA8IHJlY3QyLnRvcCArIHJlY3QyLmhlaWdodCAvIDM7XHJcbiAgY29uc3QgaXNSaWdodCA9IHJlY3QxLmxlZnQgPCByZWN0Mi5yaWdodCAmJiByZWN0MS5yaWdodCA+IHJlY3QyLnJpZ2h0IC0gcmVjdDIud2lkdGggLyAzO1xyXG4gIGNvbnN0IGlzQ2VudGVyID0gcmVjdDEudG9wIDwgcmVjdDIuYm90dG9tICYmIHJlY3QxLmJvdHRvbSA+IHJlY3QyLnRvcCAmJiByZWN0MS5sZWZ0IDwgcmVjdDIucmlnaHQgJiYgcmVjdDEucmlnaHQgPiByZWN0Mi5sZWZ0O1xyXG4gIGNvbnN0IGlzQm90dG9tID0gcmVjdDEudG9wIDwgcmVjdDIuYm90dG9tIC0gcmVjdDIuaGVpZ2h0IC8gMyAmJiByZWN0MS5ib3R0b20gPiByZWN0Mi5ib3R0b20gLSByZWN0Mi5oZWlnaHQgLyAzO1xyXG4gIGNvbnN0IGlzTGVmdCA9IHJlY3QxLnJpZ2h0ID4gcmVjdDIubGVmdCAmJiByZWN0MS5sZWZ0IDwgcmVjdDIubGVmdCArIHJlY3QyLndpZHRoIC8gMztcclxuXHJcbiAgcmV0dXJuIHsgdG9wOiBpc1RvcCwgcmlnaHQ6IGlzUmlnaHQsIGNlbnRlcjogaXNDZW50ZXIsIGJvdHRvbTogaXNCb3R0b20sIGxlZnQ6IGlzTGVmdCB9O1xyXG59XHJcblxyXG4vLy8gcmV0dXJuIHRoZSBkaXN0YW5jZSBmcm9tIHRoZSBjZW50ZXIgb2YgdGhlIGRyYWdnYWJsZSB0byB0aGUgY2VudGVyIG9mIHRoZSB0YXJnZXQgZWxlbWVudCBmcm9tIGVhY2ggYm9yZGVyIFxyXG5leHBvcnQgZnVuY3Rpb24gZ2V0RGlzdGFuY2VGcm9tQm9yZGVyKCBkcmFnZ2FibGU6IEhUTUxFbGVtZW50LCB0YXJnZXQ6IEhUTUxFbGVtZW50ICk6IENvbGxpc2lvbkJvcmRlckRpc3RhbmNlIHtcclxuICBjb25zdCByZWN0MSA9IGRyYWdnYWJsZS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcclxuICBjb25zdCByZWN0MiA9IHRhcmdldC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcclxuXHJcbiAgY29uc3QgY2VudGVyID0ge1xyXG4gICAgeDogcmVjdDEubGVmdCArIHJlY3QxLndpZHRoIC8gMixcclxuICAgIHk6IHJlY3QxLnRvcCArIHJlY3QxLmhlaWdodCAvIDIsXHJcbiAgfTtcclxuXHJcbiAgY29uc3QgZGlzdGFuY2VGcm9tQm9yZGVyOiBDb2xsaXNpb25Cb3JkZXJEaXN0YW5jZSA9IHtcclxuICAgIHRvcDogY2VudGVyLnkgLSByZWN0Mi50b3AsXHJcbiAgICByaWdodDogcmVjdDIucmlnaHQgLSBjZW50ZXIueCxcclxuICAgIGJvdHRvbTogcmVjdDIuYm90dG9tIC0gY2VudGVyLnksXHJcbiAgICBsZWZ0OiBjZW50ZXIueCAtIHJlY3QyLmxlZnQsXHJcbiAgfTtcclxuXHJcbiAgcmV0dXJuIGRpc3RhbmNlRnJvbUJvcmRlcjtcclxufVxyXG5cclxud2luZG93LmFkZEV2ZW50TGlzdGVuZXIoICdrZXlkb3duJywgZXZ0ID0+IHtcclxuICBmb3IgKCBjb25zdCBwYWlyIG9mIGRpY3RLZXlzQnlBY3Rpb24gKSB7XHJcbiAgICBpZiAoIGV2dC5jb2RlID09PSBwYWlyWzBdICkge1xyXG4gICAgICBwYWlyWzFdLmZvckVhY2goIGtiRXZlbnQgPT4ga2JFdmVudCggZXZ0ICkgKTtcclxuICAgIH1cclxuICB9XHJcbn0gKTtcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBnZXRUcmFuc2Zvcm1Db29yZHNGcm9tRWxlbWVudCggZWxlbWVudDogSFRNTEVsZW1lbnQgKTogUG9pbnQyRCB7XHJcbiAgY29uc3QgYXJyQ29tcHV0ZWREcmFnZ2FibGVUcmFuc2xhdGUgPSAoIHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKCBlbGVtZW50ICkudHJhbnNmb3JtLm1hdGNoKCByZWdleE51bWJlclBhdHRlcm4gKSA/PyBbMCwgMF0gKS5tYXAoIG4gPT4gK24gKTtcclxuICByZXR1cm4ge1xyXG4gICAgeDogYXJyQ29tcHV0ZWREcmFnZ2FibGVUcmFuc2xhdGVbNF0gIT09IHVuZGVmaW5lZCA/IE1hdGgucm91bmQoIGFyckNvbXB1dGVkRHJhZ2dhYmxlVHJhbnNsYXRlWzRdICkgOiAwLFxyXG4gICAgeTogYXJyQ29tcHV0ZWREcmFnZ2FibGVUcmFuc2xhdGVbNV0gIT09IHVuZGVmaW5lZCA/IE1hdGgucm91bmQoIGFyckNvbXB1dGVkRHJhZ2dhYmxlVHJhbnNsYXRlWzVdICkgOiAwXHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gY2xpY2tFdmVudFRvQ29vcmRpbmF0ZXMoIGV2ZW50OiBNb3VzZUV2ZW50IHwgVG91Y2hFdmVudCApIHtcclxuICBpZiAoIGV2ZW50IGluc3RhbmNlb2YgTW91c2VFdmVudCApIHtcclxuICAgIHJldHVybiB7XHJcbiAgICAgIHg6IGV2ZW50LmNsaWVudFgsXHJcbiAgICAgIHk6IGV2ZW50LmNsaWVudFlcclxuICAgIH07XHJcbiAgfSBlbHNlIGlmICggZXZlbnQgaW5zdGFuY2VvZiBUb3VjaEV2ZW50ICkge1xyXG4gICAgY29uc3QgdG91Y2ggPSBldmVudC5jaGFuZ2VkVG91Y2hlc1swXTtcclxuICAgIHJldHVybiB7XHJcbiAgICAgIHg6IHRvdWNoLmNsaWVudFgsXHJcbiAgICAgIHk6IHRvdWNoLmNsaWVudFlcclxuICAgIH07XHJcbiAgfSBlbHNlIHtcclxuICAgIHRocm93IFwiRXZlbnQgbm90IEZvdW5kXCI7XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gaGlkZUVsZW1lbnQoIGVsZW1lbnQ6IEhUTUxFbGVtZW50ICkge1xyXG4gIGVsZW1lbnQuc3R5bGUuZGlzcGxheSA9ICdibG9jayc7XHJcbiAgZWxlbWVudC5zdHlsZS5wb3NpdGlvbiA9ICdhYnNvbHV0ZSc7XHJcbiAgZWxlbWVudC5zdHlsZS56SW5kZXggPSAnLTEnO1xyXG4gIGVsZW1lbnQuc3R5bGUub3BhY2l0eSA9ICcwJztcclxuICBlbGVtZW50LnN0eWxlLndpZHRoID0gJzBweCAhaW1wb3J0YW50JztcclxuICBlbGVtZW50LnN0eWxlLmhlaWdodCA9ICcwcHggIWltcG9ydGFudCc7XHJcbiAgZWxlbWVudC5zZXRBdHRyaWJ1dGUoICdoaWRkZW4nLCAnJyApO1xyXG59XHJcblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gc2xlZXBBc3luYyggbXM6IG51bWJlciApIHtcclxuICByZXR1cm4gYXdhaXQgbmV3IFByb21pc2U8dm9pZD4oICggcmVzb2x2ZSApID0+IHNldFRpbWVvdXQoICgpID0+IHJlc29sdmUoKSwgbXMgKSApO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gYmluZEVsZW1lbnRzQnlDaGVjayggdHJpZ2dlckVsZW1lbnQ6IEhUTUxJbnB1dEVsZW1lbnQsIHRhcmdldEVsZW1lbnQ6IEhUTUxFbGVtZW50LCBvbkNoZWNrOiBGdW5jdGlvbiwgb25VbmNoZWNrOiBGdW5jdGlvbiApIHtcclxuICBpZiAoIHRyaWdnZXJFbGVtZW50LmNoZWNrZWQgKSB7XHJcbiAgICBvbkNoZWNrKCB0YXJnZXRFbGVtZW50ICk7XHJcbiAgfVxyXG5cclxuICBjb25zdCB0cmlnZ2VyR3JvdXAgPSB0cmlnZ2VyRWxlbWVudC5uYW1lXHJcbiAgICA/IEFycmF5LmZyb20oIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoIGBbbmFtZT1cIiR7IHRyaWdnZXJFbGVtZW50Lm5hbWUgfVwiXWAgKSApXHJcbiAgICA6IFt0cmlnZ2VyRWxlbWVudF07XHJcblxyXG4gIHRyaWdnZXJHcm91cC5mb3JFYWNoKCB0ID0+IHQuYWRkRXZlbnRMaXN0ZW5lciggJ2NoYW5nZScsIGV2dCA9PiB7XHJcbiAgICBpZiAoIHRyaWdnZXJFbGVtZW50LmNoZWNrZWQgKSB7XHJcbiAgICAgIG9uQ2hlY2soIHRhcmdldEVsZW1lbnQsIGV2dCApO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgb25VbmNoZWNrKCB0YXJnZXRFbGVtZW50LCBldnQgKTtcclxuICAgIH1cclxuICB9ICkgKTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGlzTW9iaWxlQnJvd3NlcigpIHtcclxuICByZXR1cm4gL0FuZHJvaWR8aVBob25lL2kudGVzdCggbmF2aWdhdG9yLnVzZXJBZ2VudCApO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gaXNPblNjcmVlbiggZWxlbWVudDogSFRNTEVsZW1lbnQgKSB7XHJcbiAgY29uc3QgcmVjdCA9IGVsZW1lbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XHJcbiAgcmV0dXJuIChcclxuICAgIHJlY3QudG9wID49IDAgJiZcclxuICAgIHJlY3QubGVmdCA+PSAwICYmXHJcbiAgICByZWN0LmJvdHRvbSA8PSAoIHdpbmRvdy5pbm5lckhlaWdodCB8fCBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50SGVpZ2h0ICkgJiZcclxuICAgIHJlY3QucmlnaHQgPD0gKCB3aW5kb3cuaW5uZXJXaWR0aCB8fCBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50V2lkdGggKVxyXG4gICk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBiaW5kRWxlbWVudFZpZXdJZkNoZWNrZWQoIHRyaWdnZXJFbGVtZW50OiBIVE1MSW5wdXRFbGVtZW50LCB0YXJnZXRFbGVtZW50OiBIVE1MSW5wdXRFbGVtZW50LCBvcHRpb25zID0ge1xyXG4gIG9uQ2hlY2s6ICggdHJpZ2dlckVsZW1lbnQ6IEhUTUxJbnB1dEVsZW1lbnQsIHRhcmdldEVsZW1lbnQ6IEhUTUxFbGVtZW50ICkgPT4geyB9LFxyXG4gIG9uVW5jaGVjazogKCB0cmlnZ2VyRWxlbWVudDogSFRNTElucHV0RWxlbWVudCwgdGFyZ2V0RWxlbWVudDogSFRNTEVsZW1lbnQgKSA9PiB7IH1cclxufSApIHtcclxuICBiaW5kRWxlbWVudHNCeUNoZWNrKFxyXG4gICAgdHJpZ2dlckVsZW1lbnQsXHJcbiAgICB0YXJnZXRFbGVtZW50LFxyXG4gICAgKCBlbDogSFRNTEVsZW1lbnQgKSA9PiB7XHJcbiAgICAgIGVsLmNsYXNzTGlzdC5hZGQoICdzaG93JyApO1xyXG4gICAgICBvcHRpb25zLm9uQ2hlY2soIHRyaWdnZXJFbGVtZW50LCB0YXJnZXRFbGVtZW50ICk7XHJcbiAgICB9LFxyXG4gICAgKCBlbDogSFRNTEVsZW1lbnQgKSA9PiB7XHJcbiAgICAgIGVsLmNsYXNzTGlzdC5yZW1vdmUoICdzaG93JyApO1xyXG4gICAgICBvcHRpb25zLm9uVW5jaGVjayggdHJpZ2dlckVsZW1lbnQsIHRhcmdldEVsZW1lbnQgKTtcclxuICAgIH0sXHJcbiAgKTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGdldFZhbHVlRnJvbVJhZGlvR3JvdXAoIGdyb3VwTmFtZTogc3RyaW5nICk6IHN0cmluZyB8IHVuZGVmaW5lZCB7XHJcbiAgY29uc3QgZWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCBgW25hbWU9JHsgZ3JvdXBOYW1lIH1dOmNoZWNrZWRgICkgYXMgSFRNTElucHV0RWxlbWVudDtcclxuICBpZiAoIGVsICkge1xyXG4gICAgcmV0dXJuIGVsLnZhbHVlO1xyXG4gIH1cclxufVxyXG5cclxuXHJcbi8vIFJldG9ybmEgdW1hIGZ1bsOnw6NvIHF1ZSBuw6NvIHZhaSBzZXIgY29tcGxldGFkYSBjYXNvIHNlamEgY2hhbWFkYSBub3ZhbWVudGUgZW0geyBkZWxheSB9IG1pbGlzc2VndW5kb3NcclxuZXhwb3J0IGZ1bmN0aW9uIGRlYm91bmNlRmFjdG9yeSggZnVuYzogRnVuY3Rpb24sIGRlbGF5OiBudW1iZXIgKTogRnVuY3Rpb24ge1xyXG4gIGxldCBpbkRlYm91bmNlOiBudW1iZXI7XHJcbiAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcclxuICAgIGNvbnN0IGNvbnRleHQgPSB3aW5kb3c7XHJcbiAgICBjb25zdCBhcmdzID0gYXJndW1lbnRzO1xyXG4gICAgY2xlYXJUaW1lb3V0KCBpbkRlYm91bmNlICk7XHJcbiAgICBpbkRlYm91bmNlID0gd2luZG93LnNldFRpbWVvdXQoICgpID0+IGZ1bmMuYXBwbHkoIGNvbnRleHQsIGFyZ3MgKSwgZGVsYXkgKTtcclxuICB9O1xyXG59XHJcblxyXG4vLyBSZXRvcm5hIHVtYSBmdW7Dp8OjbyBxdWUgc8OzIHBvZGUgc2VyIGNvbXBsZXRhZGEgdW1hIHZleiBhIGNhZGEgeyBsaW1pdCB9IG1pbGlzc2VndW5kb3MgXHJcbmV4cG9ydCBmdW5jdGlvbiB0aHJvdHRsZUZhY3RvcnkoIGZ1bmM6IEZ1bmN0aW9uLCBsaW1pdDogbnVtYmVyICk6IEZ1bmN0aW9uIHtcclxuICBsZXQgbGFzdEZ1bmM6IG51bWJlcjtcclxuICBsZXQgbGFzdFJhbjogbnVtYmVyO1xyXG4gIHJldHVybiBmdW5jdGlvbiAoKSB7XHJcbiAgICBjb25zdCBjb250ZXh0ID0gd2luZG93O1xyXG4gICAgY29uc3QgYXJncyA9IGFyZ3VtZW50cztcclxuICAgIGlmICggIWxhc3RSYW4gKSB7XHJcbiAgICAgIGZ1bmMuYXBwbHkoIGNvbnRleHQsIGFyZ3MgKTtcclxuICAgICAgbGFzdFJhbiA9IERhdGUubm93KCk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBjbGVhclRpbWVvdXQoIGxhc3RGdW5jICk7XHJcbiAgICAgIGxhc3RGdW5jID0gd2luZG93LnNldFRpbWVvdXQoIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBpZiAoIERhdGUubm93KCkgLSBsYXN0UmFuID49IGxpbWl0ICkge1xyXG4gICAgICAgICAgZnVuYy5hcHBseSggY29udGV4dCwgYXJncyApO1xyXG4gICAgICAgICAgbGFzdFJhbiA9IERhdGUubm93KCk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9LCBsaW1pdCAtICggRGF0ZS5ub3coKSAtIGxhc3RSYW4gKSApO1xyXG4gICAgfVxyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIHNtb290aFNjcm9sbFRvKCBwb3M6IG51bWJlciApOiB2b2lkIHtcclxuICB3aW5kb3cuc2Nyb2xsVG8oIHtcclxuICAgIHRvcDogcG9zLFxyXG4gICAgYmVoYXZpb3I6ICdzbW9vdGgnLFxyXG4gIH0gKTtcclxufVxyXG5cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBzZWxlY3RPcHRpb25CeVRleHQoIGlkU2VsZWN0RWxlbWVudDogc3RyaW5nLCBzZWFyY2hUZXh0OiBzdHJpbmcsIGNvbnRhaW5zOiBib29sZWFuID0gZmFsc2UgKTogdm9pZCB7XHJcbiAgY29uc3Qgc2VsZWN0RWxlbWVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCBpZFNlbGVjdEVsZW1lbnQgKSBhcyBIVE1MU2VsZWN0RWxlbWVudDtcclxuXHJcbiAgaWYgKCAhc2VsZWN0RWxlbWVudCApIHtcclxuICAgIHJldHVybjtcclxuICB9XHJcblxyXG4gIGNvbnN0IG9wdGlvbnNFbGVtZW50b1NlbGVjdCA9IFsuLi5zZWxlY3RFbGVtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoICdvcHRpb24nICldO1xyXG5cclxuICBsZXQgc2VsZWN0ZWRPcHRpb247XHJcbiAgaWYgKCBjb250YWlucyApIHtcclxuICAgIHNlbGVjdGVkT3B0aW9uID0gb3B0aW9uc0VsZW1lbnRvU2VsZWN0XHJcbiAgICAgIC5maWx0ZXIoIGVsID0+IGVsLnRleHRDb250ZW50ICYmIGVsLnRleHRDb250ZW50LnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMoIHNlYXJjaFRleHQudG9Mb3dlckNhc2UoKSApIClbMF0udmFsdWU7XHJcbiAgfSBlbHNlIHtcclxuICAgIHNlbGVjdGVkT3B0aW9uID0gb3B0aW9uc0VsZW1lbnRvU2VsZWN0XHJcbiAgICAgIC5maWx0ZXIoIGVsID0+IGVsLnRleHRDb250ZW50ICYmIGVsLnRleHRDb250ZW50LnRvTG93ZXJDYXNlKCkgPT09IHNlYXJjaFRleHQudG9Mb3dlckNhc2UoKSApWzBdLnZhbHVlO1xyXG4gIH1cclxuXHJcbiAgc2VsZWN0RWxlbWVudC52YWx1ZSA9IHNlbGVjdGVkT3B0aW9uO1xyXG59XHJcblxyXG4iLCJcclxuLy8vIGh0dHBzOi8vc3RhY2tvdmVyZmxvdy5jb20vcXVlc3Rpb25zLzE2MjQ1NzY3L2NyZWF0aW5nLWEtYmxvYi1mcm9tLWEtYmFzZTY0LXN0cmluZy1pbi1qYXZhc2NyaXB0XHJcbi8vLyBEaXZpZGUgdW0gYXJxdWl2byBiaW7DoXJpbyBlbSB2w6FyaWFzIHBhcnRlcywgcGFyYSBxdWUgYSBjb252ZXJzw6NvIHNlamEgb3RpbWl6YWRhLCBlIHJldG9ybmEgdW1hIGJsb2IgY29tIG8gYXJxdWl2b1xyXG5cclxuaW1wb3J0IHsgaXNOdWxsT3JFbXB0eSB9IGZyb20gJy4vU3RyaW5nVG9vbHMnO1xyXG5cclxuLy8vIEBwYXJhbSBvblByb2dyZXNzbyBVbSBjYWxsYmFjayBxdWUgcmVjZWJlIGEgcG9yY2VudGFnZW0gZGUgcHJvZ3Jlc3NvIGF0dWFsIGRhIGNvbnZlcnPDo29cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGJhc2U2NFRvQmxvYiggdGV4dG9CYXNlNjQ6IHN0cmluZywgY29udGVudFR5cGU6IHN0cmluZywgdGFtYW5ob1BhcnRlcyA9IDEwMjQsIG9uUHJvZ3Jlc3MgPSAoIHByb2dyZXNzb0F0dWFsOiBudW1iZXIgKSA9PiB7IGNvbnNvbGUubG9nKCBwcm9ncmVzc29BdHVhbCApIH0gKSB7XHJcbiAgY29uc3QgYnl0ZUFycmF5cyA9IG5ldyBBcnJheTxVaW50OEFycmF5PigpO1xyXG4gIGNvbnN0IGZpbGVTaXplID0gdGV4dG9CYXNlNjQubGVuZ3RoO1xyXG5cclxuICAvLy8gcHJlZW5jaGUgYGJ5dGVBcnJheXNgIGNvbSBvcyBieXRlcyBkbyBhcnF1aXZvIHBlZ2FuZG8gdW1hIHBhcnRlIGRlIFwidGFtYW5ob1BhcnRlc1wiIHBvciB2ZXpcclxuICBmb3IgKCBsZXQgb2Zmc2V0ID0gMDsgb2Zmc2V0IDwgZmlsZVNpemU7IG9mZnNldCArPSB0YW1hbmhvUGFydGVzICkge1xyXG4gICAgLy8vIHBlZ2FuZG8gdW0gcGFydGUgZGUgdGFtYW5obyB7dGFtYW5ob1BhcnRlc30gZG8gYXJxdWl2b1xyXG4gICAgY29uc3QgY2h1bmsgPSB0ZXh0b0Jhc2U2NC5zbGljZSggb2Zmc2V0LCBvZmZzZXQgKyB0YW1hbmhvUGFydGVzICk7XHJcblxyXG4gICAgLy8vIGNvbnZlcnRlbmRvIGEgcGFydGUgZW0gdW0gYXJyYXkgY29tIGNhZGEgYnl0ZSBkZXNzZSBwZWRhw6dvIGRvIGFycXVpdm9cclxuICAgIGNvbnN0IGFyckJ5dGVzQ2h1bmsgPSBuZXcgQXJyYXk8bnVtYmVyPiggY2h1bmsubGVuZ3RoICk7XHJcbiAgICBmb3IgKCBsZXQgaSA9IDA7IGkgPCBjaHVuay5sZW5ndGg7IGkrKyApIHtcclxuICAgICAgYXJyQnl0ZXNDaHVua1tpXSA9IGNodW5rLmNoYXJDb2RlQXQoIGkgKTtcclxuICAgIH1cclxuXHJcbiAgICAvLy8gdHJhbnNmb3JtYW5kbyBlc3NlIGFycmF5IGVtIHVtIGFycmF5IGNvbSBjYW1wb3MgZG8gdGFtYW5obyBkZSB1bSBieXRlXHJcbiAgICAvLy8gZSB1bmluZG8gYXMgcGFydGVzIGrDoSBjb25jbHXDrWRhcyBkbyBhcnF1aXZvXHJcbiAgICBieXRlQXJyYXlzLnB1c2goIG5ldyBVaW50OEFycmF5KCBhcnJCeXRlc0NodW5rICkgKTtcclxuXHJcbiAgICAvLy8gQ2hhbWFuZG8gY2FsbGJhY2sgcXVlIGV4aWJlIG8gcHJvZ3Jlc3NvIHF1YW5kbyBvIHBhc3NvIGF0dWFsIGZvciBjb25jbHXDrWRvXHJcbiAgICBhd2FpdCBvblByb2dyZXNzKCAoIG9mZnNldCAvIGZpbGVTaXplICkgKiAxMDAgKTtcclxuICB9XHJcblxyXG4gIHJldHVybiBuZXcgQmxvYiggYnl0ZUFycmF5cywgeyB0eXBlOiBjb250ZW50VHlwZSB9ICk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBkb3dubG9hZEZpbGVGcm9tQmxvYiggYmxvYjogQmxvYiwgdGl0bGU6IHN0cmluZyApIHtcclxuICBsZXQgZmlsZSA9IFVSTC5jcmVhdGVPYmplY3RVUkwoIGJsb2IgKTtcclxuXHJcbiAgaWYgKCBmaWxlICkge1xyXG4gICAgbGV0IGEgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCAnYScgKTtcclxuICAgIGEuaHJlZiA9IGZpbGU7XHJcbiAgICBhLmRvd25sb2FkID0gdGl0bGU7XHJcbiAgICBhLmNsaWNrKCk7XHJcbiAgICBhLnJlbW92ZSgpO1xyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGdldEZpbGVFeHRlbnNpb24oIGZpbGVOYW1lOiBzdHJpbmcgKTogc3RyaW5nIHtcclxuICBpZiAoIGlzTnVsbE9yRW1wdHkoIGZpbGVOYW1lICkgKSByZXR1cm4gJyc7XHJcblxyXG4gIGNvbnN0IGRlZmF1bHRGaWxlU3JjID0gZmlsZU5hbWUuc3BsaXQoICcuJyApLnBvcCgpO1xyXG4gIGlmICggZGVmYXVsdEZpbGVTcmMgJiYgZGVmYXVsdEZpbGVTcmMgIT09IGZpbGVOYW1lICkge1xyXG4gICAgcmV0dXJuIGRlZmF1bHRGaWxlU3JjO1xyXG4gIH1cclxuXHJcbiAgY29uc3QgZmlsZVR5cGVTdHIgPSBmaWxlTmFtZS5zcGxpdCggJy8nICkucG9wKCk7XHJcbiAgaWYgKCBmaWxlVHlwZVN0ciAmJiBmaWxlVHlwZVN0ciAhPT0gZmlsZU5hbWUgKSB7XHJcbiAgICByZXR1cm4gZmlsZVR5cGVTdHI7XHJcbiAgfVxyXG5cclxuICByZXR1cm4gJyc7XHJcbn0iLCJcclxuaW50ZXJmYWNlIFN0cmluZyB7XHJcbiAgdHJ1bmNhdGUoIG1heDogbnVtYmVyLCBkZWNvcmF0b3I6IHN0cmluZyApOiBzdHJpbmc7XHJcbiAgcmVtb3ZlQWNjZW50cygpOiBzdHJpbmc7XHJcbiAgY2FwaXRhbGl6ZUZpcnN0TGV0dGVyKCk6IHN0cmluZztcclxuICB6ZXJvQmVmb3JlKCk6IHN0cmluZztcclxuICBpc051bGxPckVtcHR5KCk6IGJvb2xlYW47XHJcbn1cclxuXHJcblN0cmluZy5wcm90b3R5cGUuaXNOdWxsT3JFbXB0eSA9IGZ1bmN0aW9uICgpOiBib29sZWFuIHtcclxuICByZXR1cm4gdHlwZW9mIHRoaXMgIT09ICdzdHJpbmcnICYmICF0aGlzICYmIHRoaXMgIT09ICcnO1xyXG59O1xyXG5cclxuU3RyaW5nLnByb3RvdHlwZS50cnVuY2F0ZSA9IGZ1bmN0aW9uICggbWF4OiBudW1iZXIsIGRlY29yYXRvcjogc3RyaW5nID0gJy4uLicgKTogc3RyaW5nIHtcclxuICByZXR1cm4gKCB0aGlzLmxlbmd0aCA+IG1heCA/IHRoaXMuc3Vic3RyaW5nKCAwLCBtYXggKSArIGRlY29yYXRvciA6IHRoaXMgKS50b1N0cmluZygpO1xyXG59O1xyXG5cclxuU3RyaW5nLnByb3RvdHlwZS5yZW1vdmVBY2NlbnRzID0gZnVuY3Rpb24gKCkge1xyXG4gIHJldHVybiB0aGlzLm5vcm1hbGl6ZSggJ05GRCcgKS5yZXBsYWNlKCAvW1xcdTAzMDAtXFx1MDM2Zl0vZywgXCJcIiApO1xyXG59XHJcblxyXG5TdHJpbmcucHJvdG90eXBlLmNhcGl0YWxpemVGaXJzdExldHRlciA9IGZ1bmN0aW9uICgpOiBzdHJpbmcge1xyXG4gIGlmICggdHlwZW9mIHRoaXMgIT09ICdzdHJpbmcnICkge1xyXG4gICAgcmV0dXJuICcnO1xyXG4gIH1cclxuXHJcbiAgcmV0dXJuIHRoaXMuY2hhckF0KCAwICkudG9VcHBlckNhc2UoKSArIHRoaXMuc3Vic3RyaW5nKCAxICk7XHJcbn1cclxuXHJcblN0cmluZy5wcm90b3R5cGUuemVyb0JlZm9yZSA9IGZ1bmN0aW9uICgpIHtcclxuICByZXR1cm4gdGhpcy5wYWRTdGFydCggMiwgJzAnICk7XHJcbn0iLCJleHBvcnQgZnVuY3Rpb24gcmVtb3ZlQWNjZW50cyggc3RyOiBzdHJpbmcgKSB7XHJcbiAgcmV0dXJuIHN0ci5ub3JtYWxpemUoICdORkQnICkucmVwbGFjZSggL1tcXHUwMzAwLVxcdTAzNmZdL2csIFwiXCIgKTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGNhcGl0YWxpemVGaXJzdExldHRlciggc3RyOiBzdHJpbmcgKTogc3RyaW5nIHtcclxuICBpZiAoIHR5cGVvZiBzdHIgIT09ICdzdHJpbmcnICkge1xyXG4gICAgcmV0dXJuICcnO1xyXG4gIH1cclxuICByZXR1cm4gc3RyLmNoYXJBdCggMCApLnRvVXBwZXJDYXNlKCkgKyBzdHIuc3Vic3RyaW5nKCAxICk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBzZWFyY2hUZXJtKCBzdHJpbmdBcnJheTogc3RyaW5nW10sIHNlYXJjaFRlcm06IHN0cmluZyApOiBzdHJpbmdbXSB7XHJcbiAgcmV0dXJuIHN0cmluZ0FycmF5XHJcbiAgICAuZmlsdGVyKCAoIHY6IHN0cmluZyApID0+IHYudG9Mb3dlckNhc2UoKS5pbmRleE9mKCBzZWFyY2hUZXJtLnRvTG93ZXJDYXNlKCkgKSA+IC0xIClcclxuICAgIC5zbGljZSggMCwgMTAgKVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gemVyb0JlZm9yZSggbjogbnVtYmVyICkge1xyXG4gIHJldHVybiBuLnRvU3RyaW5nKCkucGFkU3RhcnQoIDIsICcwJyApO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gaXNOdWxsT3JFbXB0eSggc3RyOiBzdHJpbmcgKSB7XHJcbiAgcmV0dXJuIHR5cGVvZiBzdHIgIT09ICdzdHJpbmcnIHx8ICFzdHIgfHwgc3RyID09PSAnJ1xyXG59IiwiaW1wb3J0IHsgSVBvaW50MkQgfSBmcm9tICcuL2ludGVyZmFjZXMnO1xyXG5cclxuZXhwb3J0IGVudW0gQ09OVkVSU0lPTl9VTklUIHsgUElYRUwsIFBFUkNFTlRBR0UgfVxyXG5leHBvcnQgZW51bSBESVJFQ1RJT05fUkVGRVJFTkNFIHsgSE9SSVpPTlRBTCwgVkVSVElDQUwgfVxyXG5leHBvcnQgZW51bSBWRVJUSUNBTF9SRUZFUkVOQ0UgeyBGUk9NX1RPUCwgRlJPTV9CT1RUT00gfVxyXG5cclxuZXhwb3J0IGVudW0gQ09MT1JfQ0hBTk5FTCB7IFIsIEcsIEIsIEEgfTtcclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgQ29tcGFyYWJsZTxUPiB7XHJcbiAgZXF1YWxzKCBiOiBUICk6IGJvb2xlYW47XHJcbn1cclxuXHJcblxyXG5leHBvcnQgY2xhc3MgQ1NTUG9zaXRpb24gaW1wbGVtZW50cyBJUG9pbnQyRCB7XHJcbiAgcHVibGljIHg6IG51bWJlcjtcclxuICBwdWJsaWMgeTogbnVtYmVyO1xyXG4gIHByaXZhdGUgdHlwZTogQ09OVkVSU0lPTl9VTklUO1xyXG4gIHB1YmxpYyB2ZXJ0aWNhbFJlZmVyZW5jZTogVkVSVElDQUxfUkVGRVJFTkNFO1xyXG5cclxuICBjb25zdHJ1Y3RvciggeyB4LCB5LCB2ZXJ0aWNhbFJlZmVyZW5jZSA9IFZFUlRJQ0FMX1JFRkVSRU5DRS5GUk9NX1RPUCwgdHlwZSA9IENPTlZFUlNJT05fVU5JVC5QSVhFTCB9OiB7IHg6IG51bWJlcjsgeTogbnVtYmVyOyB2ZXJ0aWNhbFJlZmVyZW5jZT86IFZFUlRJQ0FMX1JFRkVSRU5DRTsgdHlwZT86IENPTlZFUlNJT05fVU5JVDsgfSApIHtcclxuICAgIFt0aGlzLngsIHRoaXMueSwgdGhpcy52ZXJ0aWNhbFJlZmVyZW5jZSwgdGhpcy50eXBlXSA9IFt4LCB5LCB2ZXJ0aWNhbFJlZmVyZW5jZSwgdHlwZV07XHJcbiAgfVxyXG5cclxuICBnZXQgaG9yaXpvbnRhbCgpOiBzdHJpbmcge1xyXG4gICAgc3dpdGNoICggdGhpcy50eXBlICkge1xyXG4gICAgICBjYXNlIENPTlZFUlNJT05fVU5JVC5QSVhFTDpcclxuICAgICAgICByZXR1cm4gYCR7IHRoaXMueCB9cHhgO1xyXG4gICAgICBjYXNlIENPTlZFUlNJT05fVU5JVC5QRVJDRU5UQUdFOlxyXG4gICAgICAgIHJldHVybiBgJHsgdGhpcy54IH0lYDtcclxuICAgICAgZGVmYXVsdDpcclxuICAgICAgICByZXR1cm4gYCR7IHRoaXMueCB9cHhgO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgZ2V0IHZlcnRpY2FsKCk6IHN0cmluZyB7XHJcbiAgICBzd2l0Y2ggKCB0aGlzLnR5cGUgKSB7XHJcbiAgICAgIGNhc2UgQ09OVkVSU0lPTl9VTklULlBJWEVMOlxyXG4gICAgICAgIHJldHVybiBgJHsgdGhpcy55IH1weGA7XHJcbiAgICAgIGNhc2UgQ09OVkVSU0lPTl9VTklULlBFUkNFTlRBR0U6XHJcbiAgICAgICAgcmV0dXJuIGAkeyB0aGlzLnkgfSVgO1xyXG4gICAgICBkZWZhdWx0OlxyXG4gICAgICAgIHJldHVybiBgJHsgdGhpcy55IH1weGA7XHJcbiAgICB9XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgdHlwZSBDb2xsaXNpb25EaXJlY3Rpb25DaGVjayA9IHtcclxuICB0b3A6IGJvb2xlYW47XHJcbiAgcmlnaHQ6IGJvb2xlYW47XHJcbiAgY2VudGVyOiBib29sZWFuO1xyXG4gIGJvdHRvbTogYm9vbGVhbjtcclxuICBsZWZ0OiBib29sZWFuO1xyXG59O1xyXG5cclxuZXhwb3J0IHR5cGUgQ29sbGlzaW9uQm9yZGVyRGlzdGFuY2UgPSB7XHJcbiAgdG9wOiBudW1iZXI7XHJcbiAgcmlnaHQ6IG51bWJlcjtcclxuICBib3R0b206IG51bWJlcjtcclxuICBsZWZ0OiBudW1iZXI7XHJcbn1cclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgSUNvbGxpc2lvbkV2ZW50IHtcclxuICB0YXJnZXRDbGFzczogc3RyaW5nO1xyXG4gIGF1dG9JbnNlcnRUYXJnZXRDbGFzczogYm9vbGVhbjtcclxuICBvbkNvbGxpZGluZyggZHJhZ2dhYmxlOiBIVE1MRWxlbWVudCwgdGFyZ2V0OiBIVE1MRWxlbWVudCwgY29sbGlkaW5nQXQ6IENvbGxpc2lvbkRpcmVjdGlvbkNoZWNrLCBkaXN0YW5jZUZyb21Cb3JkZXI6IENvbGxpc2lvbkJvcmRlckRpc3RhbmNlICk6IFByb21pc2U8dm9pZD47XHJcbiAgb25Ob3RDb2xsaWRpbmcoIGRyYWdnYWJsZTogSFRNTEVsZW1lbnQsIHRhcmdldDogSFRNTEVsZW1lbnQgKTogUHJvbWlzZTx2b2lkPjtcclxufVxyXG5cclxuZXhwb3J0IHR5cGUgQ29sbGlzaW9uVHJpZ2dlck9wdGlvbnMgPSB7XHJcbiAgdHJpZ2dlckVsZW1lbnQ6IEhUTUxFbGVtZW50O1xyXG4gIGV2ZW50czogSUNvbGxpc2lvbkV2ZW50W107XHJcbn07XHJcblxyXG5leHBvcnQgY2xhc3MgQ29sbGlzaW9uQm9yZGVyRGlzdGFuY2VFeHRyYXMge1xyXG4gIGNvbGxpc2lvbkJvcmRlckRpc3RhbmNlczogQ29sbGlzaW9uQm9yZGVyRGlzdGFuY2U7XHJcblxyXG4gIGNvbnN0cnVjdG9yKCBjb2xsaXNpb25Cb3JkZXJEaXN0YW5jZTogQ29sbGlzaW9uQm9yZGVyRGlzdGFuY2UgKSB7XHJcbiAgICB0aGlzLmNvbGxpc2lvbkJvcmRlckRpc3RhbmNlcyA9IGNvbGxpc2lvbkJvcmRlckRpc3RhbmNlO1xyXG4gIH1cclxuXHJcbiAgcHVibGljIGFueUdyZWF0ZXJUaGFuKCBudW06IG51bWJlciApOiBib29sZWFuIHtcclxuICAgIHJldHVybiB0aGlzLmNvbGxpc2lvbkJvcmRlckRpc3RhbmNlcy50b3AgPiBudW1cclxuICAgICAgfHwgdGhpcy5jb2xsaXNpb25Cb3JkZXJEaXN0YW5jZXMucmlnaHQgPiBudW1cclxuICAgICAgfHwgdGhpcy5jb2xsaXNpb25Cb3JkZXJEaXN0YW5jZXMuYm90dG9tID4gbnVtXHJcbiAgICAgIHx8IHRoaXMuY29sbGlzaW9uQm9yZGVyRGlzdGFuY2VzLmxlZnQgPiBudW07XHJcbiAgfVxyXG5cclxuICBwdWJsaWMgYW55TG93ZXJUaGFuKCBudW06IG51bWJlciApOiBib29sZWFuIHtcclxuICAgIHJldHVybiB0aGlzLmNvbGxpc2lvbkJvcmRlckRpc3RhbmNlcy50b3AgPCBudW1cclxuICAgICAgfHwgdGhpcy5jb2xsaXNpb25Cb3JkZXJEaXN0YW5jZXMucmlnaHQgPCBudW1cclxuICAgICAgfHwgdGhpcy5jb2xsaXNpb25Cb3JkZXJEaXN0YW5jZXMuYm90dG9tIDwgbnVtXHJcbiAgICAgIHx8IHRoaXMuY29sbGlzaW9uQm9yZGVyRGlzdGFuY2VzLmxlZnQgPCBudW07XHJcbiAgfVxyXG5cclxuICBwdWJsaWMgYW55RXF1YWxzKCBudW06IG51bWJlciApOiBib29sZWFuIHtcclxuICAgIHJldHVybiB0aGlzLmNvbGxpc2lvbkJvcmRlckRpc3RhbmNlcy50b3AgPT09IG51bVxyXG4gICAgICB8fCB0aGlzLmNvbGxpc2lvbkJvcmRlckRpc3RhbmNlcy5yaWdodCA9PT0gbnVtXHJcbiAgICAgIHx8IHRoaXMuY29sbGlzaW9uQm9yZGVyRGlzdGFuY2VzLmJvdHRvbSA9PT0gbnVtXHJcbiAgICAgIHx8IHRoaXMuY29sbGlzaW9uQm9yZGVyRGlzdGFuY2VzLmxlZnQgPT09IG51bTtcclxuICB9XHJcbn0iLCIvLyBUaGUgbW9kdWxlIGNhY2hlXG52YXIgX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fID0ge307XG5cbi8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG5mdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuXHR2YXIgY2FjaGVkTW9kdWxlID0gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXTtcblx0aWYgKGNhY2hlZE1vZHVsZSAhPT0gdW5kZWZpbmVkKSB7XG5cdFx0cmV0dXJuIGNhY2hlZE1vZHVsZS5leHBvcnRzO1xuXHR9XG5cdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG5cdHZhciBtb2R1bGUgPSBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdID0ge1xuXHRcdC8vIG5vIG1vZHVsZS5pZCBuZWVkZWRcblx0XHQvLyBubyBtb2R1bGUubG9hZGVkIG5lZWRlZFxuXHRcdGV4cG9ydHM6IHt9XG5cdH07XG5cblx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG5cdF9fd2VicGFja19tb2R1bGVzX19bbW9kdWxlSWRdKG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG5cdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG5cdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbn1cblxuIiwiLy8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbl9fd2VicGFja19yZXF1aXJlX18ubiA9IChtb2R1bGUpID0+IHtcblx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG5cdFx0KCkgPT4gKG1vZHVsZVsnZGVmYXVsdCddKSA6XG5cdFx0KCkgPT4gKG1vZHVsZSk7XG5cdF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsIHsgYTogZ2V0dGVyIH0pO1xuXHRyZXR1cm4gZ2V0dGVyO1xufTsiLCIvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9ucyBmb3IgaGFybW9ueSBleHBvcnRzXG5fX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSAoZXhwb3J0cywgZGVmaW5pdGlvbikgPT4ge1xuXHRmb3IodmFyIGtleSBpbiBkZWZpbml0aW9uKSB7XG5cdFx0aWYoX193ZWJwYWNrX3JlcXVpcmVfXy5vKGRlZmluaXRpb24sIGtleSkgJiYgIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBrZXkpKSB7XG5cdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywga2V5LCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZGVmaW5pdGlvbltrZXldIH0pO1xuXHRcdH1cblx0fVxufTsiLCJfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSAob2JqLCBwcm9wKSA9PiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwgcHJvcCkpIiwiLy8gZGVmaW5lIF9fZXNNb2R1bGUgb24gZXhwb3J0c1xuX193ZWJwYWNrX3JlcXVpcmVfXy5yID0gKGV4cG9ydHMpID0+IHtcblx0aWYodHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgU3ltYm9sLnRvU3RyaW5nVGFnKSB7XG5cdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFN5bWJvbC50b1N0cmluZ1RhZywgeyB2YWx1ZTogJ01vZHVsZScgfSk7XG5cdH1cblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcbn07IiwiaW1wb3J0ICcuL1N0cmluZ0V4dGVuc2lvbnMnO1xyXG5pbXBvcnQgeyBBdWRpb1BsYXllckNvbmZpZywgY3JlYXRlSW52aXNpYmxlUGxheWVyLCBhdWRpb0VsZW1lbnRIVE1MIH0gZnJvbSAnLi9BdWRpb1Rvb2xzJztcclxuaW1wb3J0IHsgQ29tcG9uZW50IH0gZnJvbSAnLi9Db21wb25lbnQnO1xyXG5pbXBvcnQgeyBhZGRBY3Rpb25LZXkgfSBmcm9tICcuL0RPTVRvb2xzJztcclxuaW1wb3J0IHsgQ1NTUG9zaXRpb24sIENPTlZFUlNJT05fVU5JVCwgVkVSVElDQUxfUkVGRVJFTkNFIH0gZnJvbSAnLi90eXBlcyc7XHJcblxyXG5cclxuZXhwb3J0IGNsYXNzIEF1ZGlvQ29tcG9uZW50IGV4dGVuZHMgQ29tcG9uZW50IHtcclxuICBwdWJsaWMgYXVkaW9FbGVtZW50OiBIVE1MQXVkaW9FbGVtZW50O1xyXG4gIHB1YmxpYyBwbGF5ZXJDb25maWc6IEF1ZGlvUGxheWVyQ29uZmlnO1xyXG4gIC8vJy90ZXN0cy9hc3NldHMvcG9rZW1vbi5tcDMnXHJcbiAgY29uc3RydWN0b3IoIHNyYzogc3RyaW5nLCBwbGF5ZXJDb25maWc6IEF1ZGlvUGxheWVyQ29uZmlnICkge1xyXG4gICAgc3VwZXIoIGNyZWF0ZUludmlzaWJsZVBsYXllciggW3NyY10sIHBsYXllckNvbmZpZyApLFxyXG4gICAgICBuZXcgQ1NTUG9zaXRpb24oIHsgeDogMTAsIHk6IDUsIHZlcnRpY2FsUmVmZXJlbmNlOiBWRVJUSUNBTF9SRUZFUkVOQ0UuRlJPTV9UT1AsIHR5cGU6IENPTlZFUlNJT05fVU5JVC5QRVJDRU5UQUdFIH0gKSApO1xyXG5cclxuICAgIHRoaXMuYXVkaW9FbGVtZW50ID0gdGhpcy5jb250YWluZXIucXVlcnlTZWxlY3RvciggJ2F1ZGlvJyApIGFzIEhUTUxBdWRpb0VsZW1lbnQ7XHJcbiAgICB0aGlzLnBsYXllckNvbmZpZyA9IHBsYXllckNvbmZpZztcclxuXHJcbiAgICBhZGRBY3Rpb25LZXkoICdTcGFjZScsICgpID0+IHRoaXMuYXVkaW9FbGVtZW50LnBhdXNlZCA/IHRoaXMuYXVkaW9FbGVtZW50LnBsYXkoKSA6IHRoaXMuYXVkaW9FbGVtZW50LnBhdXNlKCkgKTtcclxuICB9XHJcbn0iXSwibmFtZXMiOlsiY3JlYXRlSW52aXNpYmxlUGxheWVyIiwiYXJyU291cmNlcyIsInBsYXllckNvbmZpZyIsImNvbnRhaW5lckRpdiIsImRvY3VtZW50IiwiY3JlYXRlRWxlbWVudCIsImNsYXNzTGlzdCIsImFkZCIsImluc2VydEFkamFjZW50SFRNTCIsImlkIiwiYXV0b1BsYXkiLCJhdXRvcGxheSIsIm11dGVkIiwibG9vcCIsInByZWxvYWQiLCJ0cmltRW5kIiwiYXVkaW9FbGVtZW50UGFyYW1zQnlQbGF5ZXJDb25maWciLCJtYXAiLCJzcmMiLCJnZXRGaWxlRXh0ZW5zaW9uIiwic291cmNlRWxlbWVudEhUTUwiLCJyZWR1Y2UiLCJhY2MiLCJuZXh0IiwiYXVkaW9FbGVtZW50SFRNTCIsImF1ZGlvRWxlbWVudCIsImNoaWxkTm9kZXMiLCJwbGF5QnV0dG9uIiwiYnV0dG9uRWxlbWVudCIsInNldFRpbWVvdXQiLCJwYXVzZWQiLCJhZGRFdmVudExpc3RlbmVyIiwicGxheSIsInJlbW92ZSIsInBhdXNlIiwib25QbGF5Iiwib25wbGF5Iiwib25QYXVzZSIsIm9ucGF1c2UiLCJzZXRBdWRpb0VsZW1lbnRQbGF5UGF1c2VFdmVudHMiLCJnZXRQbGF5QnV0dG9uRWxlbWVudCIsImluc2VydEFkamFjZW50RWxlbWVudCIsImJvZHkiLCJoaWRlRWxlbWVudCIsIkNvbXBvbmVudCIsInBvc2l0aW9uIiwiY29udGFpbmVyIiwiZmFkZUluQW5pbWF0aW9uIiwiZmFkZU91dEFuaW1hdGlvbiIsImNvbnN0cnVjdG9yIiwidGhpcyIsInNldHVwUG9zaXRpb24iLCJidWlsZCIsInNjZW5lIiwibWFpbkxheWVyIiwiZWxlbWVudCIsInN0eWxlIiwiZGlzcGxheSIsImFuaW1hdGUiLCJsZWZ0IiwiaG9yaXpvbnRhbCIsInZlcnRpY2FsUmVmZXJlbmNlIiwiVkVSVElDQUxfUkVGRVJFTkNFIiwiRlJPTV9UT1AiLCJ0b3AiLCJ2ZXJ0aWNhbCIsImJvdHRvbSIsImRlc3Ryb3kiLCJkaWN0S2V5c0J5QWN0aW9uIiwiTWFwIiwiYWRkQWN0aW9uS2V5Iiwia2V5IiwiZXZlbnQiLCJoYXMiLCJzZXQiLCJnZXQiLCJ6SW5kZXgiLCJvcGFjaXR5Iiwid2lkdGgiLCJoZWlnaHQiLCJzZXRBdHRyaWJ1dGUiLCJ3aW5kb3ciLCJldnQiLCJwYWlyIiwiY29kZSIsImZvckVhY2giLCJrYkV2ZW50IiwiZmlsZU5hbWUiLCJpc051bGxPckVtcHR5IiwiZGVmYXVsdEZpbGVTcmMiLCJzcGxpdCIsInBvcCIsImZpbGVUeXBlU3RyIiwiU3RyaW5nIiwicHJvdG90eXBlIiwidHJ1bmNhdGUiLCJtYXgiLCJkZWNvcmF0b3IiLCJsZW5ndGgiLCJzdWJzdHJpbmciLCJ0b1N0cmluZyIsInJlbW92ZUFjY2VudHMiLCJub3JtYWxpemUiLCJyZXBsYWNlIiwiY2FwaXRhbGl6ZUZpcnN0TGV0dGVyIiwiY2hhckF0IiwidG9VcHBlckNhc2UiLCJ6ZXJvQmVmb3JlIiwicGFkU3RhcnQiLCJzdHIiLCJDT05WRVJTSU9OX1VOSVQiLCJESVJFQ1RJT05fUkVGRVJFTkNFIiwiQ09MT1JfQ0hBTk5FTCIsIkNTU1Bvc2l0aW9uIiwieCIsInkiLCJ0eXBlIiwiUElYRUwiLCJQRVJDRU5UQUdFIiwiX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiY2FjaGVkTW9kdWxlIiwidW5kZWZpbmVkIiwiZXhwb3J0cyIsIm1vZHVsZSIsIl9fd2VicGFja19tb2R1bGVzX18iLCJuIiwiZ2V0dGVyIiwiX19lc01vZHVsZSIsImQiLCJhIiwiZGVmaW5pdGlvbiIsIm8iLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImVudW1lcmFibGUiLCJvYmoiLCJwcm9wIiwiaGFzT3duUHJvcGVydHkiLCJjYWxsIiwiciIsIlN5bWJvbCIsInRvU3RyaW5nVGFnIiwidmFsdWUiLCJBdWRpb0NvbXBvbmVudCIsInN1cGVyIiwicXVlcnlTZWxlY3RvciJdLCJzb3VyY2VSb290IjoiIn0=