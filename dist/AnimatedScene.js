var AnimatedScene;(()=>{"use strict";var e={631:()=>{HTMLElement.prototype.removeAllChildren=function(){for(;this.hasChildNodes();)this.firstChild&&this.removeChild(this.firstChild)},HTMLElement.prototype.makeCover=function(){this.style.display="flex",this.style.width="100%",this.style.height="100%",this.style.position="absolute",this.style.top="0",this.style.left="0"}},930:(e,t,n)=>{n.d(t,{Layer:()=>s}),n(631),n(936);class s{element;priority;backgroundStyle;backgroundImage;filter;classList;cursor;onClick;onMouseOver;onMouseDown;onMouseUp;constructor({priority:e,backgroundStyle:t,backgroundImage:n,filter:i,cursor:r,onClick:o,onMouseOver:a,onMouseDown:l,onMouseUp:h,classList:c}){this.priority=e,this.filter=i,this.backgroundStyle=t,this.backgroundImage=n,this.cursor=r,this.classList=c,this.onClick=o,this.onMouseOver=a,this.onMouseDown=l,this.onMouseUp=h,this.element=s.getLayerElement(this,this.priority,this.classList,this.backgroundStyle,this.backgroundImage,this.filter,this.cursor,this.onClick,this.onMouseOver,this.onMouseDown,this.onMouseUp)}setParent(e){if(e.insertAdjacentElement("beforeend",this.element),this.element.parentElement&&this.element.parentElement.id){const e=this.element.parentElement.id,t=this.element.parentElement.getElementsByClassName("layer").length-1;this.element.id=`layer${t}${e.capitalizeFirstLetter()}`}}setAsMainLayer(e){if(e.insertAdjacentElement("beforeend",this.element),this.element.parentElement&&this.element.parentElement.id){const e=this.element.parentElement.id;this.element.id=`mainLayer${e.capitalizeFirstLetter()}`}}static getLayerElement(e,t,n,s,i,r,o,a,l,h,c){const m=document.createElement("div");return m.classList.add(...n||[]),m.classList.add("layer"),m.makeCover(),m.style.zIndex=t>0?t.toString():"0",s&&(m.style.background=s),r&&(m.style.filter=r),o&&(m.style.cursor=o),a&&m.addEventListener("click",(()=>{a(e)})),l&&m.addEventListener("mouseover",(()=>{l(e)})),h&&m.addEventListener("mousedown",(()=>{h(e)})),c&&m.addEventListener("mouseup",(()=>{c(e)})),i&&this.setLayerBackgroundImage(m,i),m}static setLayerBackgroundImage(e,t){const n=document.createElement("img");n.src=t,n.style.userSelect="none",n.style.maxWidth="100%",n.style.height="auto",n.makeCover(),e.insertAdjacentElement("afterbegin",n)}}},931:(e,t,n)=>{n.d(t,{Scene:()=>i});var s=n(930);class i{container;element;layers;components;mainLayer;mainLayerConfig;constructor({container:e,layers:t,components:n,mainLayerConfig:s}){this.container=e,this.mainLayerConfig=s,this.layers=t,this.components=n||[],this.element=document.createElement("div"),this.components.forEach((e=>this.element.insertAdjacentElement("beforeend",e.container)))}async build(){this.container.classList.add("scene-container"),this.element.classList.add("scene"),this.setupLayers(),this.setElementStyle(),this.container.insertAdjacentElement("beforeend",this.element),this.components.forEach((async e=>await e.build(this)))}getMainLayer(){}get sceneCounter(){return this.container.querySelectorAll(`#${this.container.id} > .scene`).length}setupLayers(){this.container.id?this.element.id=`${this.container.id}${this.sceneCounter}`:(this.container.id=`sceneContainer${this.container.getElementsByClassName("scene-container").length}`,this.element.id=`scene${this.sceneCounter}`),this.layers.forEach((e=>{e.setParent(this.element)})),this.mainLayerConfig?(this.mainLayer=new s.Layer({...this.mainLayerConfig,priority:999}),this.mainLayer.setAsMainLayer(this.element)):(this.mainLayer=new s.Layer({priority:999}),this.mainLayer.setAsMainLayer(this.element))}setElementStyle(){this.container.style.position="relative",this.container.style.flexWrap="wrap",this.element.style.position="relative",this.element.style.display="flex",this.element.style.width="100vw",this.element.style.height="100vh",this.element.style.left="0",this.element.style.top="0",this.element.style.overflow="hidden"}}},936:()=>{String.prototype.isNullOrEmpty=function(){return"string"!=typeof this&&!this&&""!==this},String.prototype.truncate=function(e,t="..."){return(this.length>e?this.substring(0,e)+t:this).toString()},String.prototype.removeAccents=function(){return this.normalize("NFD").replace(/[\u0300-\u036f]/g,"")},String.prototype.capitalizeFirstLetter=function(){return"string"!=typeof this?"":this.charAt(0).toUpperCase()+this.substring(1)},String.prototype.zeroBefore=function(){return this.padStart(2,"0")}}},t={};function n(s){var i=t[s];if(void 0!==i)return i.exports;var r=t[s]={exports:{}};return e[s](r,r.exports,n),r.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var s in t)n.o(t,s)&&!n.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:t[s]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var s={};(()=>{n.r(s),n.d(s,{AnimatedScene:()=>t});var e=n(931);class t extends e.Scene{constructor(e){super(e)}}})(),AnimatedScene=s})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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LEtBQUtILEVBQUtDLEdDQ2xGcEIsRUFBb0J1QixFQUFLbkIsSUFDSCxvQkFBWG9CLFFBQTBCQSxPQUFPQyxhQUMxQ1YsT0FBT0MsZUFBZVosRUFBU29CLE9BQU9DLFlBQWEsQ0FBRUMsTUFBTyxXQUU3RFgsT0FBT0MsZUFBZVosRUFBUyxhQUFjLENBQUVzQixPQUFPLEdBQU8sRSxnRUNIdkQsTUFBTUMsVUFBc0IsRUFBQTNELE1BQ2pDLFdBQUExQixDQUFhc0YsR0FDWEMsTUFBT0QsRUFDVCxFIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vRE9NRXh0ZW5zaW9ucy50cyIsIndlYnBhY2s6Ly8vLi9MYXllci50cyIsIndlYnBhY2s6Ly8vLi9TY2VuZS50cyIsIndlYnBhY2s6Ly8vLi9TdHJpbmdFeHRlbnNpb25zLnRzIiwid2VicGFjazovLy93ZWJwYWNrL2Jvb3RzdHJhcCIsIndlYnBhY2s6Ly8vd2VicGFjay9ydW50aW1lL2NvbXBhdCBnZXQgZGVmYXVsdCBleHBvcnQiLCJ3ZWJwYWNrOi8vL3dlYnBhY2svcnVudGltZS9kZWZpbmUgcHJvcGVydHkgZ2V0dGVycyIsIndlYnBhY2s6Ly8vd2VicGFjay9ydW50aW1lL2hhc093blByb3BlcnR5IHNob3J0aGFuZCIsIndlYnBhY2s6Ly8vd2VicGFjay9ydW50aW1lL21ha2UgbmFtZXNwYWNlIG9iamVjdCIsIndlYnBhY2s6Ly8vLi9BbmltYXRlZFNjZW5lLnRzIl0sInNvdXJjZXNDb250ZW50IjpbImludGVyZmFjZSBIVE1MRWxlbWVudCB7XHJcbiAgcmVtb3ZlQWxsQ2hpbGRyZW4oKTogdm9pZDtcclxuICBtYWtlQ292ZXIoKTogdm9pZDtcclxufVxyXG5cclxuSFRNTEVsZW1lbnQucHJvdG90eXBlLnJlbW92ZUFsbENoaWxkcmVuID0gZnVuY3Rpb24gKCkge1xyXG4gIHdoaWxlICggdGhpcy5oYXNDaGlsZE5vZGVzKCkgKSB7XHJcbiAgICBpZiAoIHRoaXMuZmlyc3RDaGlsZCApIHtcclxuICAgICAgdGhpcy5yZW1vdmVDaGlsZCggdGhpcy5maXJzdENoaWxkICk7XHJcbiAgICB9XHJcbiAgfVxyXG59XHJcblxyXG5IVE1MRWxlbWVudC5wcm90b3R5cGUubWFrZUNvdmVyID0gZnVuY3Rpb24gKCkge1xyXG4gIHRoaXMuc3R5bGUuZGlzcGxheSA9ICdmbGV4JztcclxuICB0aGlzLnN0eWxlLndpZHRoID0gJzEwMCUnO1xyXG4gIHRoaXMuc3R5bGUuaGVpZ2h0ID0gJzEwMCUnO1xyXG4gIHRoaXMuc3R5bGUucG9zaXRpb24gPSAnYWJzb2x1dGUnO1xyXG4gIHRoaXMuc3R5bGUudG9wID0gJzAnO1xyXG4gIHRoaXMuc3R5bGUubGVmdCA9ICcwJztcclxufVxyXG4iLCJpbXBvcnQgJy4vRE9NRXh0ZW5zaW9ucyc7XHJcbmltcG9ydCAnLi9TdHJpbmdFeHRlbnNpb25zJztcclxuXHJcbmV4cG9ydCB0eXBlIExheWVyQ29uZmlnID0ge1xyXG4gIHByaW9yaXR5OiBudW1iZXI7XHJcbiAgYmFja2dyb3VuZFN0eWxlPzogc3RyaW5nO1xyXG4gIGJhY2tncm91bmRJbWFnZT86IHN0cmluZyxcclxuICBjbGFzc0xpc3Q/OiBzdHJpbmdbXSxcclxuICBmaWx0ZXI/OiBzdHJpbmc7XHJcbiAgY3Vyc29yPzogc3RyaW5nO1xyXG4gIG9uQ2xpY2s/OiAoIGxheWVyOiBMYXllciApID0+IHZvaWQ7XHJcbiAgb25Nb3VzZU92ZXI/OiAoIGxheWVyOiBMYXllciApID0+IHZvaWQ7XHJcbiAgb25Nb3VzZURvd24/OiAoIGxheWVyOiBMYXllciApID0+IHZvaWQ7XHJcbiAgb25Nb3VzZVVwPzogKCBsYXllcjogTGF5ZXIgKSA9PiB2b2lkO1xyXG59O1xyXG5cclxuZXhwb3J0IGNsYXNzIExheWVyIHtcclxuICBwdWJsaWMgZWxlbWVudDogSFRNTEVsZW1lbnQ7XHJcbiAgcHVibGljIHByaW9yaXR5OiBudW1iZXI7XHJcbiAgcHVibGljIGJhY2tncm91bmRTdHlsZT86IHN0cmluZztcclxuICBwdWJsaWMgYmFja2dyb3VuZEltYWdlPzogc3RyaW5nO1xyXG4gIHB1YmxpYyBmaWx0ZXI/OiBzdHJpbmc7XHJcbiAgcHVibGljIGNsYXNzTGlzdD86IHN0cmluZ1tdO1xyXG5cclxuICBwdWJsaWMgY3Vyc29yPzogc3RyaW5nO1xyXG4gIG9uQ2xpY2s/OiAoIGxheWVyOiBMYXllciApID0+IHZvaWQ7XHJcbiAgb25Nb3VzZU92ZXI/OiAoIGxheWVyOiBMYXllciApID0+IHZvaWQ7XHJcbiAgb25Nb3VzZURvd24/OiAoIGxheWVyOiBMYXllciApID0+IHZvaWQ7XHJcbiAgb25Nb3VzZVVwPzogKCBsYXllcjogTGF5ZXIgKSA9PiB2b2lkO1xyXG5cclxuICBjb25zdHJ1Y3RvciggeyBwcmlvcml0eSwgYmFja2dyb3VuZFN0eWxlLCBiYWNrZ3JvdW5kSW1hZ2UsIGZpbHRlciwgY3Vyc29yLCBvbkNsaWNrLCBvbk1vdXNlT3Zlciwgb25Nb3VzZURvd24sIG9uTW91c2VVcCwgY2xhc3NMaXN0IH06IExheWVyQ29uZmlnICkge1xyXG4gICAgdGhpcy5wcmlvcml0eSA9IHByaW9yaXR5O1xyXG4gICAgdGhpcy5maWx0ZXIgPSBmaWx0ZXI7XHJcbiAgICB0aGlzLmJhY2tncm91bmRTdHlsZSA9IGJhY2tncm91bmRTdHlsZTtcclxuICAgIHRoaXMuYmFja2dyb3VuZEltYWdlID0gYmFja2dyb3VuZEltYWdlO1xyXG4gICAgdGhpcy5jdXJzb3IgPSBjdXJzb3I7XHJcbiAgICB0aGlzLmNsYXNzTGlzdCA9IGNsYXNzTGlzdDtcclxuICAgIHRoaXMub25DbGljayA9IG9uQ2xpY2s7XHJcbiAgICB0aGlzLm9uTW91c2VPdmVyID0gb25Nb3VzZU92ZXI7XHJcbiAgICB0aGlzLm9uTW91c2VEb3duID0gb25Nb3VzZURvd247XHJcbiAgICB0aGlzLm9uTW91c2VVcCA9IG9uTW91c2VVcDtcclxuICAgIHRoaXMuZWxlbWVudCA9IExheWVyLmdldExheWVyRWxlbWVudChcclxuICAgICAgdGhpcyxcclxuICAgICAgdGhpcy5wcmlvcml0eSxcclxuICAgICAgdGhpcy5jbGFzc0xpc3QsXHJcbiAgICAgIHRoaXMuYmFja2dyb3VuZFN0eWxlLFxyXG4gICAgICB0aGlzLmJhY2tncm91bmRJbWFnZSxcclxuICAgICAgdGhpcy5maWx0ZXIsXHJcbiAgICAgIHRoaXMuY3Vyc29yLFxyXG4gICAgICB0aGlzLm9uQ2xpY2ssXHJcbiAgICAgIHRoaXMub25Nb3VzZU92ZXIsXHJcbiAgICAgIHRoaXMub25Nb3VzZURvd24sXHJcbiAgICAgIHRoaXMub25Nb3VzZVVwXHJcbiAgICApO1xyXG4gIH1cclxuXHJcbiAgcHVibGljIHNldFBhcmVudCggZWxlbWVudDogSFRNTEVsZW1lbnQgKSB7XHJcbiAgICBlbGVtZW50Lmluc2VydEFkamFjZW50RWxlbWVudCggJ2JlZm9yZWVuZCcsIHRoaXMuZWxlbWVudCApO1xyXG5cclxuICAgIGlmICggdGhpcy5lbGVtZW50LnBhcmVudEVsZW1lbnQgJiYgdGhpcy5lbGVtZW50LnBhcmVudEVsZW1lbnQuaWQgKSB7XHJcbiAgICAgIGNvbnN0IHBhcmVudElkID0gdGhpcy5lbGVtZW50LnBhcmVudEVsZW1lbnQuaWQ7XHJcbiAgICAgIGNvbnN0IG51bUxheWVycyA9IHRoaXMuZWxlbWVudC5wYXJlbnRFbGVtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoICdsYXllcicgKS5sZW5ndGggLSAxO1xyXG4gICAgICB0aGlzLmVsZW1lbnQuaWQgPSBgbGF5ZXIkeyBudW1MYXllcnMgfSR7IHBhcmVudElkLmNhcGl0YWxpemVGaXJzdExldHRlcigpIH1gO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgcHVibGljIHNldEFzTWFpbkxheWVyKCBlbGVtZW50OiBIVE1MRWxlbWVudCApIHtcclxuICAgIGVsZW1lbnQuaW5zZXJ0QWRqYWNlbnRFbGVtZW50KCAnYmVmb3JlZW5kJywgdGhpcy5lbGVtZW50ICk7XHJcblxyXG4gICAgaWYgKCB0aGlzLmVsZW1lbnQucGFyZW50RWxlbWVudCAmJiB0aGlzLmVsZW1lbnQucGFyZW50RWxlbWVudC5pZCApIHtcclxuICAgICAgY29uc3QgcGFyZW50SWQgPSB0aGlzLmVsZW1lbnQucGFyZW50RWxlbWVudC5pZDtcclxuICAgICAgdGhpcy5lbGVtZW50LmlkID0gYG1haW5MYXllciR7IHBhcmVudElkLmNhcGl0YWxpemVGaXJzdExldHRlcigpIH1gO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBzdGF0aWMgZ2V0TGF5ZXJFbGVtZW50KCBsYXllcjogTGF5ZXIsIHByaW9yaXR5OiBudW1iZXIsIGNsYXNzTGlzdD86IHN0cmluZ1tdLCBiYWNrZ3JvdW5kU3R5bGU/OiBzdHJpbmcsIGJhY2tncm91bmRJbWFnZT86IHN0cmluZywgZmlsdGVyPzogc3RyaW5nLCBjdXJzb3I/OiBzdHJpbmcsIG9uQ2xpY2s/OiAoIGxheWVyOiBMYXllciApID0+IHZvaWQsIG9uTW91c2VPdmVyPzogKCBsYXllcjogTGF5ZXIgKSA9PiB2b2lkLCBvbk1vdXNlRG93bj86ICggbGF5ZXI6IExheWVyICkgPT4gdm9pZCwgb25Nb3VzZVVwPzogKCBsYXllcjogTGF5ZXIgKSA9PiB2b2lkICk6IEhUTUxFbGVtZW50IHtcclxuICAgIGNvbnN0IGxheWVyRGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCggJ2RpdicgKTtcclxuXHJcbiAgICBsYXllckRpdi5jbGFzc0xpc3QuYWRkKCAuLi4oIGNsYXNzTGlzdCB8fCBbXSApICk7XHJcbiAgICBsYXllckRpdi5jbGFzc0xpc3QuYWRkKCAnbGF5ZXInICk7XHJcbiAgICBsYXllckRpdi5tYWtlQ292ZXIoKTtcclxuICAgIGxheWVyRGl2LnN0eWxlLnpJbmRleCA9IHByaW9yaXR5ID4gMCA/IHByaW9yaXR5LnRvU3RyaW5nKCkgOiAnMCc7XHJcblxyXG4gICAgaWYgKCBiYWNrZ3JvdW5kU3R5bGUgKSB7XHJcbiAgICAgIGxheWVyRGl2LnN0eWxlLmJhY2tncm91bmQgPSBiYWNrZ3JvdW5kU3R5bGU7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKCBmaWx0ZXIgKSB7XHJcbiAgICAgIGxheWVyRGl2LnN0eWxlLmZpbHRlciA9IGZpbHRlcjtcclxuICAgIH1cclxuXHJcbiAgICBpZiAoIGN1cnNvciApIHtcclxuICAgICAgbGF5ZXJEaXYuc3R5bGUuY3Vyc29yID0gY3Vyc29yO1xyXG4gICAgfVxyXG5cclxuICAgIGlmICggb25DbGljayApIHtcclxuICAgICAgbGF5ZXJEaXYuYWRkRXZlbnRMaXN0ZW5lciggJ2NsaWNrJywgKCkgPT4geyBvbkNsaWNrKCBsYXllciApIH0gKVxyXG4gICAgfVxyXG5cclxuICAgIGlmICggb25Nb3VzZU92ZXIgKSB7XHJcbiAgICAgIGxheWVyRGl2LmFkZEV2ZW50TGlzdGVuZXIoICdtb3VzZW92ZXInLCAoKSA9PiB7IG9uTW91c2VPdmVyKCBsYXllciApIH0gKVxyXG4gICAgfVxyXG5cclxuICAgIGlmICggb25Nb3VzZURvd24gKSB7XHJcbiAgICAgIGxheWVyRGl2LmFkZEV2ZW50TGlzdGVuZXIoICdtb3VzZWRvd24nLCAoKSA9PiB7IG9uTW91c2VEb3duKCBsYXllciApIH0gKVxyXG4gICAgfVxyXG5cclxuICAgIGlmICggb25Nb3VzZVVwICkge1xyXG4gICAgICBsYXllckRpdi5hZGRFdmVudExpc3RlbmVyKCAnbW91c2V1cCcsICgpID0+IHsgb25Nb3VzZVVwKCBsYXllciApIH0gKVxyXG4gICAgfVxyXG5cclxuICAgIGlmICggYmFja2dyb3VuZEltYWdlICkge1xyXG4gICAgICB0aGlzLnNldExheWVyQmFja2dyb3VuZEltYWdlKCBsYXllckRpdiwgYmFja2dyb3VuZEltYWdlIClcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gbGF5ZXJEaXY7XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIHN0YXRpYyBzZXRMYXllckJhY2tncm91bmRJbWFnZSggbGF5ZXJEaXY6IEhUTUxEaXZFbGVtZW50LCBiYWNrZ3JvdW5kSW1hZ2U6IHN0cmluZyApIHtcclxuICAgIGNvbnN0IGltYWdlRWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoICdpbWcnICk7XHJcbiAgICBpbWFnZUVsZW1lbnQuc3JjID0gYmFja2dyb3VuZEltYWdlO1xyXG4gICAgaW1hZ2VFbGVtZW50LnN0eWxlLnVzZXJTZWxlY3QgPSAnbm9uZSc7XHJcbiAgICBpbWFnZUVsZW1lbnQuc3R5bGUubWF4V2lkdGggPSAnMTAwJSc7XHJcbiAgICBpbWFnZUVsZW1lbnQuc3R5bGUuaGVpZ2h0ID0gJ2F1dG8nO1xyXG4gICAgaW1hZ2VFbGVtZW50Lm1ha2VDb3ZlcigpO1xyXG5cclxuICAgIGxheWVyRGl2Lmluc2VydEFkamFjZW50RWxlbWVudCggJ2FmdGVyYmVnaW4nLCBpbWFnZUVsZW1lbnQgKTtcclxuICB9XHJcbn1cclxuXHJcblxyXG4iLCJpbXBvcnQgeyBMYXllciwgTGF5ZXJDb25maWcgfSBmcm9tICcuL0xheWVyJztcclxuaW1wb3J0IHsgQ29tcG9uZW50IH0gZnJvbSAnLi9Db21wb25lbnQnO1xyXG5cclxuZXhwb3J0IHR5cGUgU2NlbmVDb25maWcgPSB7XHJcbiAgY29udGFpbmVyOiBIVE1MRWxlbWVudDtcclxuICBsYXllcnM6IExheWVyW107XHJcbiAgY29tcG9uZW50cz86IENvbXBvbmVudFtdO1xyXG4gIG1haW5MYXllckNvbmZpZz86IExheWVyQ29uZmlnO1xyXG59O1xyXG5cclxuZXhwb3J0IGNsYXNzIFNjZW5lIHtcclxuICBwdWJsaWMgY29udGFpbmVyOiBIVE1MRWxlbWVudDtcclxuICBwdWJsaWMgZWxlbWVudDogSFRNTEVsZW1lbnQ7XHJcbiAgcHVibGljIGxheWVyczogTGF5ZXJbXTtcclxuICBwdWJsaWMgY29tcG9uZW50czogQ29tcG9uZW50W107XHJcbiAgcHVibGljIG1haW5MYXllcj86IExheWVyO1xyXG4gIHB1YmxpYyBtYWluTGF5ZXJDb25maWc/OiBMYXllckNvbmZpZztcclxuXHJcbiAgY29uc3RydWN0b3IoIHsgY29udGFpbmVyLCBsYXllcnMsIGNvbXBvbmVudHMsIG1haW5MYXllckNvbmZpZyB9OiBTY2VuZUNvbmZpZyApIHtcclxuICAgIHRoaXMuY29udGFpbmVyID0gY29udGFpbmVyO1xyXG5cclxuICAgIHRoaXMubWFpbkxheWVyQ29uZmlnID0gbWFpbkxheWVyQ29uZmlnO1xyXG4gICAgdGhpcy5sYXllcnMgPSBsYXllcnM7XHJcbiAgICB0aGlzLmNvbXBvbmVudHMgPSBjb21wb25lbnRzIHx8IFtdO1xyXG5cclxuICAgIHRoaXMuZWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoICdkaXYnICk7XHJcblxyXG4gICAgdGhpcy5jb21wb25lbnRzLmZvckVhY2goIGMgPT4gdGhpcy5lbGVtZW50Lmluc2VydEFkamFjZW50RWxlbWVudCggJ2JlZm9yZWVuZCcsIGMuY29udGFpbmVyICkgKVxyXG4gIH1cclxuXHJcbiAgcHVibGljIGFzeW5jIGJ1aWxkKCkge1xyXG4gICAgdGhpcy5jb250YWluZXIuY2xhc3NMaXN0LmFkZCggJ3NjZW5lLWNvbnRhaW5lcicgKTtcclxuICAgIHRoaXMuZWxlbWVudC5jbGFzc0xpc3QuYWRkKCAnc2NlbmUnICk7XHJcbiAgICB0aGlzLnNldHVwTGF5ZXJzKCk7XHJcbiAgICB0aGlzLnNldEVsZW1lbnRTdHlsZSgpO1xyXG4gICAgdGhpcy5jb250YWluZXIuaW5zZXJ0QWRqYWNlbnRFbGVtZW50KCAnYmVmb3JlZW5kJywgdGhpcy5lbGVtZW50ICk7XHJcbiAgICB0aGlzLmNvbXBvbmVudHMuZm9yRWFjaCggYXN5bmMgYyA9PiBhd2FpdCBjLmJ1aWxkKCB0aGlzICkgKTtcclxuICB9XHJcblxyXG4gIHB1YmxpYyBnZXRNYWluTGF5ZXIoKSB7XHJcblxyXG4gIH1cclxuXHJcbiAgcHVibGljIGdldCBzY2VuZUNvdW50ZXIoKTogbnVtYmVyIHtcclxuICAgIHJldHVybiB0aGlzLmNvbnRhaW5lci5xdWVyeVNlbGVjdG9yQWxsKCBgIyR7IHRoaXMuY29udGFpbmVyLmlkIH0gPiAuc2NlbmVgICkubGVuZ3RoO1xyXG4gIH1cclxuXHJcbiAgc2V0dXBMYXllcnMoKSB7XHJcbiAgICBpZiAoICF0aGlzLmNvbnRhaW5lci5pZCApIHtcclxuICAgICAgdGhpcy5jb250YWluZXIuaWQgPSBgc2NlbmVDb250YWluZXIkeyB0aGlzLmNvbnRhaW5lci5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCAnc2NlbmUtY29udGFpbmVyJyApLmxlbmd0aCB9YDtcclxuICAgICAgdGhpcy5lbGVtZW50LmlkID0gYHNjZW5lJHsgdGhpcy5zY2VuZUNvdW50ZXIgfWA7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0aGlzLmVsZW1lbnQuaWQgPSBgJHsgdGhpcy5jb250YWluZXIuaWQgfSR7IHRoaXMuc2NlbmVDb3VudGVyIH1gO1xyXG4gICAgfVxyXG5cclxuICAgIHRoaXMubGF5ZXJzLmZvckVhY2goIGwgPT4ge1xyXG4gICAgICBsLnNldFBhcmVudCggdGhpcy5lbGVtZW50ICk7XHJcbiAgICB9ICk7XHJcblxyXG4gICAgaWYgKCB0aGlzLm1haW5MYXllckNvbmZpZyApIHtcclxuICAgICAgdGhpcy5tYWluTGF5ZXIgPSBuZXcgTGF5ZXIoIHsgLi4udGhpcy5tYWluTGF5ZXJDb25maWcsIHByaW9yaXR5OiA5OTkgfSApO1xyXG4gICAgICB0aGlzLm1haW5MYXllci5zZXRBc01haW5MYXllciggdGhpcy5lbGVtZW50ICk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0aGlzLm1haW5MYXllciA9IG5ldyBMYXllciggeyBwcmlvcml0eTogOTk5IH0gKTtcclxuICAgICAgdGhpcy5tYWluTGF5ZXIuc2V0QXNNYWluTGF5ZXIoIHRoaXMuZWxlbWVudCApO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgc2V0RWxlbWVudFN0eWxlKCkge1xyXG4gICAgdGhpcy5jb250YWluZXIuc3R5bGUucG9zaXRpb24gPSAncmVsYXRpdmUnO1xyXG4gICAgdGhpcy5jb250YWluZXIuc3R5bGUuZmxleFdyYXAgPSAnd3JhcCc7XHJcblxyXG4gICAgdGhpcy5lbGVtZW50LnN0eWxlLnBvc2l0aW9uID0gJ3JlbGF0aXZlJztcclxuICAgIHRoaXMuZWxlbWVudC5zdHlsZS5kaXNwbGF5ID0gJ2ZsZXgnO1xyXG4gICAgdGhpcy5lbGVtZW50LnN0eWxlLndpZHRoID0gJzEwMHZ3JztcclxuICAgIHRoaXMuZWxlbWVudC5zdHlsZS5oZWlnaHQgPSAnMTAwdmgnO1xyXG4gICAgdGhpcy5lbGVtZW50LnN0eWxlLmxlZnQgPSAnMCc7XHJcbiAgICB0aGlzLmVsZW1lbnQuc3R5bGUudG9wID0gJzAnO1xyXG4gICAgdGhpcy5lbGVtZW50LnN0eWxlLm92ZXJmbG93ID0gJ2hpZGRlbic7XHJcbiAgfVxyXG59IiwiXHJcbmludGVyZmFjZSBTdHJpbmcge1xyXG4gIHRydW5jYXRlKCBtYXg6IG51bWJlciwgZGVjb3JhdG9yOiBzdHJpbmcgKTogc3RyaW5nO1xyXG4gIHJlbW92ZUFjY2VudHMoKTogc3RyaW5nO1xyXG4gIGNhcGl0YWxpemVGaXJzdExldHRlcigpOiBzdHJpbmc7XHJcbiAgemVyb0JlZm9yZSgpOiBzdHJpbmc7XHJcbiAgaXNOdWxsT3JFbXB0eSgpOiBib29sZWFuO1xyXG59XHJcblxyXG5TdHJpbmcucHJvdG90eXBlLmlzTnVsbE9yRW1wdHkgPSBmdW5jdGlvbiAoKTogYm9vbGVhbiB7XHJcbiAgcmV0dXJuIHR5cGVvZiB0aGlzICE9PSAnc3RyaW5nJyAmJiAhdGhpcyAmJiB0aGlzICE9PSAnJztcclxufTtcclxuXHJcblN0cmluZy5wcm90b3R5cGUudHJ1bmNhdGUgPSBmdW5jdGlvbiAoIG1heDogbnVtYmVyLCBkZWNvcmF0b3I6IHN0cmluZyA9ICcuLi4nICk6IHN0cmluZyB7XHJcbiAgcmV0dXJuICggdGhpcy5sZW5ndGggPiBtYXggPyB0aGlzLnN1YnN0cmluZyggMCwgbWF4ICkgKyBkZWNvcmF0b3IgOiB0aGlzICkudG9TdHJpbmcoKTtcclxufTtcclxuXHJcblN0cmluZy5wcm90b3R5cGUucmVtb3ZlQWNjZW50cyA9IGZ1bmN0aW9uICgpIHtcclxuICByZXR1cm4gdGhpcy5ub3JtYWxpemUoICdORkQnICkucmVwbGFjZSggL1tcXHUwMzAwLVxcdTAzNmZdL2csIFwiXCIgKTtcclxufVxyXG5cclxuU3RyaW5nLnByb3RvdHlwZS5jYXBpdGFsaXplRmlyc3RMZXR0ZXIgPSBmdW5jdGlvbiAoKTogc3RyaW5nIHtcclxuICBpZiAoIHR5cGVvZiB0aGlzICE9PSAnc3RyaW5nJyApIHtcclxuICAgIHJldHVybiAnJztcclxuICB9XHJcblxyXG4gIHJldHVybiB0aGlzLmNoYXJBdCggMCApLnRvVXBwZXJDYXNlKCkgKyB0aGlzLnN1YnN0cmluZyggMSApO1xyXG59XHJcblxyXG5TdHJpbmcucHJvdG90eXBlLnplcm9CZWZvcmUgPSBmdW5jdGlvbiAoKSB7XHJcbiAgcmV0dXJuIHRoaXMucGFkU3RhcnQoIDIsICcwJyApO1xyXG59IiwiLy8gVGhlIG1vZHVsZSBjYWNoZVxudmFyIF9fd2VicGFja19tb2R1bGVfY2FjaGVfXyA9IHt9O1xuXG4vLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcblx0dmFyIGNhY2hlZE1vZHVsZSA9IF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF07XG5cdGlmIChjYWNoZWRNb2R1bGUgIT09IHVuZGVmaW5lZCkge1xuXHRcdHJldHVybiBjYWNoZWRNb2R1bGUuZXhwb3J0cztcblx0fVxuXHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuXHR2YXIgbW9kdWxlID0gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXSA9IHtcblx0XHQvLyBubyBtb2R1bGUuaWQgbmVlZGVkXG5cdFx0Ly8gbm8gbW9kdWxlLmxvYWRlZCBuZWVkZWRcblx0XHRleHBvcnRzOiB7fVxuXHR9O1xuXG5cdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuXHRfX3dlYnBhY2tfbW9kdWxlc19fW21vZHVsZUlkXShtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuXHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuXHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG59XG5cbiIsIi8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG5fX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSAobW9kdWxlKSA9PiB7XG5cdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuXHRcdCgpID0+IChtb2R1bGVbJ2RlZmF1bHQnXSkgOlxuXHRcdCgpID0+IChtb2R1bGUpO1xuXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCB7IGE6IGdldHRlciB9KTtcblx0cmV0dXJuIGdldHRlcjtcbn07IiwiLy8gZGVmaW5lIGdldHRlciBmdW5jdGlvbnMgZm9yIGhhcm1vbnkgZXhwb3J0c1xuX193ZWJwYWNrX3JlcXVpcmVfXy5kID0gKGV4cG9ydHMsIGRlZmluaXRpb24pID0+IHtcblx0Zm9yKHZhciBrZXkgaW4gZGVmaW5pdGlvbikge1xuXHRcdGlmKF9fd2VicGFja19yZXF1aXJlX18ubyhkZWZpbml0aW9uLCBrZXkpICYmICFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywga2V5KSkge1xuXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIGtleSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGRlZmluaXRpb25ba2V5XSB9KTtcblx0XHR9XG5cdH1cbn07IiwiX193ZWJwYWNrX3JlcXVpcmVfXy5vID0gKG9iaiwgcHJvcCkgPT4gKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIHByb3ApKSIsIi8vIGRlZmluZSBfX2VzTW9kdWxlIG9uIGV4cG9ydHNcbl9fd2VicGFja19yZXF1aXJlX18uciA9IChleHBvcnRzKSA9PiB7XG5cdGlmKHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnICYmIFN5bWJvbC50b1N0cmluZ1RhZykge1xuXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBTeW1ib2wudG9TdHJpbmdUYWcsIHsgdmFsdWU6ICdNb2R1bGUnIH0pO1xuXHR9XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG59OyIsImltcG9ydCB7IFNjZW5lLCBTY2VuZUNvbmZpZyB9IGZyb20gJy4vU2NlbmUnO1xyXG5cclxuZXhwb3J0IGNsYXNzIEFuaW1hdGVkU2NlbmUgZXh0ZW5kcyBTY2VuZSB7XHJcbiAgY29uc3RydWN0b3IoIHNjZW5lQ29uZmlnOiBTY2VuZUNvbmZpZyApIHtcclxuICAgIHN1cGVyKCBzY2VuZUNvbmZpZyApO1xyXG4gIH1cclxufSJdLCJuYW1lcyI6WyJIVE1MRWxlbWVudCIsInByb3RvdHlwZSIsInJlbW92ZUFsbENoaWxkcmVuIiwidGhpcyIsImhhc0NoaWxkTm9kZXMiLCJmaXJzdENoaWxkIiwicmVtb3ZlQ2hpbGQiLCJtYWtlQ292ZXIiLCJzdHlsZSIsImRpc3BsYXkiLCJ3aWR0aCIsImhlaWdodCIsInBvc2l0aW9uIiwidG9wIiwibGVmdCIsIkxheWVyIiwiZWxlbWVudCIsInByaW9yaXR5IiwiYmFja2dyb3VuZFN0eWxlIiwiYmFja2dyb3VuZEltYWdlIiwiZmlsdGVyIiwiY2xhc3NMaXN0IiwiY3Vyc29yIiwib25DbGljayIsIm9uTW91c2VPdmVyIiwib25Nb3VzZURvd24iLCJvbk1vdXNlVXAiLCJjb25zdHJ1Y3RvciIsImdldExheWVyRWxlbWVudCIsInNldFBhcmVudCIsImluc2VydEFkamFjZW50RWxlbWVudCIsInBhcmVudEVsZW1lbnQiLCJpZCIsInBhcmVudElkIiwibnVtTGF5ZXJzIiwiZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSIsImxlbmd0aCIsImNhcGl0YWxpemVGaXJzdExldHRlciIsInNldEFzTWFpbkxheWVyIiwibGF5ZXIiLCJsYXllckRpdiIsImRvY3VtZW50IiwiY3JlYXRlRWxlbWVudCIsImFkZCIsInpJbmRleCIsInRvU3RyaW5nIiwiYmFja2dyb3VuZCIsImFkZEV2ZW50TGlzdGVuZXIiLCJzZXRMYXllckJhY2tncm91bmRJbWFnZSIsImltYWdlRWxlbWVudCIsInNyYyIsInVzZXJTZWxlY3QiLCJtYXhXaWR0aCIsIlNjZW5lIiwiY29udGFpbmVyIiwibGF5ZXJzIiwiY29tcG9uZW50cyIsIm1haW5MYXllciIsIm1haW5MYXllckNvbmZpZyIsImZvckVhY2giLCJjIiwiYnVpbGQiLCJzZXR1cExheWVycyIsInNldEVsZW1lbnRTdHlsZSIsImFzeW5jIiwiZ2V0TWFpbkxheWVyIiwic2NlbmVDb3VudGVyIiwicXVlcnlTZWxlY3RvckFsbCIsImwiLCJmbGV4V3JhcCIsIm92ZXJmbG93IiwiU3RyaW5nIiwiaXNOdWxsT3JFbXB0eSIsInRydW5jYXRlIiwibWF4IiwiZGVjb3JhdG9yIiwic3Vic3RyaW5nIiwicmVtb3ZlQWNjZW50cyIsIm5vcm1hbGl6ZSIsInJlcGxhY2UiLCJjaGFyQXQiLCJ0b1VwcGVyQ2FzZSIsInplcm9CZWZvcmUiLCJwYWRTdGFydCIsIl9fd2VicGFja19tb2R1bGVfY2FjaGVfXyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsImNhY2hlZE1vZHVsZSIsInVuZGVmaW5lZCIsImV4cG9ydHMiLCJtb2R1bGUiLCJfX3dlYnBhY2tfbW9kdWxlc19fIiwibiIsImdldHRlciIsIl9fZXNNb2R1bGUiLCJkIiwiYSIsImRlZmluaXRpb24iLCJrZXkiLCJvIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJlbnVtZXJhYmxlIiwiZ2V0Iiwib2JqIiwicHJvcCIsImhhc093blByb3BlcnR5IiwiY2FsbCIsInIiLCJTeW1ib2wiLCJ0b1N0cmluZ1RhZyIsInZhbHVlIiwiQW5pbWF0ZWRTY2VuZSIsInNjZW5lQ29uZmlnIiwic3VwZXIiXSwic291cmNlUm9vdCI6IiJ9