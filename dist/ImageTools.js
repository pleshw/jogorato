var ImageTools;(()=>{"use strict";var t={605:(t,e,n)=>{n.d(e,{getColorPaletteByContext:()=>o});var r=n(676),a=n(173);function i(t,e){return new a.ColorRGBA(e[t],e[t+1],e[t+2],e[t+3]/255)}function o(t,e=0){return s(function(t,e=4){const n=t.getImageData(0,0,t.canvas.width,t.canvas.height).data,r=[];for(var a=n.length;a>=0;a-=e)r.push(i(a,n));return r}(t),e)}function s(t,e=0){if(6===e||0===t.length){const e=t.reduce(((t,e)=>a.ColorRGBA.isValid(t)&&a.ColorRGBA.isValid(e)?(a.ColorRGBA.isValid(e)&&(t.r+=e.r,t.g+=e.g,t.b+=e.b,t.a+=e.a),t):a.ColorRGBA.NULL),a.ColorRGBA.NULL);return a.ColorRGBA.NULL.equals(e)?[a.ColorRGBA.NULL]:[new a.ColorRGBA(Math.round(e.r/t.length),Math.round(e.g/t.length),Math.round(e.b/t.length),Math.round(e.a/t.length))]}const n=function(t){let e=Number.MAX_VALUE,n=Number.MAX_VALUE,a=Number.MAX_VALUE,i=Number.MIN_VALUE,o=Number.MIN_VALUE,s=Number.MIN_VALUE;t.forEach((t=>{e=Math.min(e,t.r),n=Math.min(n,t.g),a=Math.min(a,t.b),i=Math.max(i,t.r),o=Math.max(o,t.g),s=Math.max(s,t.b)}));const c=i-e,u=o-n,h=s-a,g=Math.max(c,u,h);return g===c?r.COLOR_CHANNEL.R:g===u?r.COLOR_CHANNEL.G:r.COLOR_CHANNEL.B}(t);t.sort(((t,e)=>{switch(n){case r.COLOR_CHANNEL.R:return t.r-e.r;case r.COLOR_CHANNEL.G:return t.g-e.g;case r.COLOR_CHANNEL.B:return t.b-e.b;default:return t.r-e.r}}));const i=t.length/2;return a.ColorRGBA.getUnique([...s(t.slice(0,i),e+1),...s(t.slice(i+1),e+1)].filter((t=>!t.equals(a.ColorRGBA.NULL))))}},173:(t,e,n)=>{n.d(e,{ColorRGBA:()=>a});var r=n(19);class a{r;g;b;a;constructor(t,e,n,a=1){this.r=(0,r.clamp)(t,0,255),this.g=(0,r.clamp)(e,0,255),this.b=(0,r.clamp)(n,0,255),this.a=(0,r.clamp)(a,0,255)}toString(){return`${this.r}, ${this.g}, ${this.b}, ${this.a}`}toStringWithoutAlpha(){return`${this.r}, ${this.g}, ${this.b}`}asArray({noAlpha:t=!1}={}){return t?[this.r,this.g,this.b]:[this.r,this.g,this.b,this.a]}getCopy(){return new a(this.r,this.g,this.b,this.a)}static increaseSaturation(t,e){e/=100;const n=Math.max(...t.asArray({noAlpha:!0})),a=t.getCopy();return a.r=Math.floor((0,r.clamp)(t.r===n?t.r+t.r*e:t.r-t.r*e,0,255)),a.g=Math.floor((0,r.clamp)(t.g===n?t.g+t.g*e:t.g-t.g*e,0,255)),a.b=Math.floor((0,r.clamp)(t.b===n?t.b+t.b*e:t.b-t.b*e,0,255)),a}static getUnique(t,e=!0){return t.filter(((t,e,n)=>n.findIndex((e=>JSON.stringify(t)===JSON.stringify(e)))===e)).filter((t=>!e||a.isValid(t)&&t.a>0))}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b,yield this.a}equals(t){return this.r===t.r&&this.g===t.g&&this.b===t.b&&this.a===t.a}static isValid(t){return!("number"!=typeof t.r||Number.isNaN(t.r)||"number"!=typeof t.g||Number.isNaN(t.g)||"number"!=typeof t.b||Number.isNaN(t.b)||"number"!=typeof t.a||Number.isNaN(t.a))}static get BLACK(){return new a(0,0,0)}static get NULL(){return new a(0,0,0,0)}}},234:(t,e,n)=>{n.d(e,{getFileExtension:()=>a});var r=n(902);function a(t){if((0,r.isNullOrEmpty)(t))return"";const e=t.split(".").pop();if(e&&e!==t)return e;const n=t.split("/").pop();return n&&n!==t?n:""}},19:(t,e,n)=>{function r(t=0,e=0,n=100){return Math.max(e,Math.min(t,n))}n.d(e,{clamp:()=>r})},902:(t,e,n)=>{function r(t){return"string"!=typeof t||!t||""===t}n.d(e,{isNullOrEmpty:()=>r})},676:(t,e,n)=>{var r,a,i,o;n.d(e,{COLOR_CHANNEL:()=>o}),function(t){t[t.PIXEL=0]="PIXEL",t[t.PERCENTAGE=1]="PERCENTAGE"}(r||(r={})),function(t){t[t.HORIZONTAL=0]="HORIZONTAL",t[t.VERTICAL=1]="VERTICAL"}(a||(a={})),function(t){t[t.FROM_TOP=0]="FROM_TOP",t[t.FROM_BOTTOM=1]="FROM_BOTTOM"}(i||(i={})),function(t){t[t.R=0]="R",t[t.G=1]="G",t[t.B=2]="B",t[t.A=3]="A"}(o||(o={}))}},e={};function n(r){var a=e[r];if(void 0!==a)return a.exports;var i=e[r]={exports:{}};return t[r](i,i.exports,n),i.exports}n.d=(t,e)=>{for(var r in e)n.o(e,r)&&!n.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})},n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),n.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})};var r={};(()=>{n.r(r),n.d(r,{calculateAspectRatioFit:()=>a,drawImageOnCanvas:()=>m,getCanvasResizeImage:()=>g,getGradientByImageInputId:()=>f,getGradientByImageURL:()=>y,getGradientFromPalette:()=>b,getImageByBlob:()=>c,getImageByInputId:()=>s,getImageByURL:()=>o,getImagePaletteByInputId:()=>d,getImagePaletteByURL:()=>l,getImageResizeDimensionsKeepAspectRatio:()=>i,previewImage:()=>C,resizeImage:()=>w,resizeImageFromInput:()=>u,resizeImageFromURL:()=>h,setElementBackgroundGradientByCanvasContext:()=>p});var t=n(605),e=n(234);function a(t,e){const n=Math.min(e.width/t.width,e.height/t.height);return{width:t.width*n,height:t.height*n}}function i({srcDimensions:t,outputDimensions:e}){if(e.width&&e.width>0){const n=e.width/t.width;return{width:e.width,height:t.height*n}}if(e.height&&e.height>0){const n=e.height/t.height;return{width:t.width*n,height:e.height}}return{width:t.width,height:t.height}}async function o(t){return new Promise((async n=>{const r=new Image;r.src=await fetch(t).then((t=>t.blob())).then((t=>URL.createObjectURL(t))),r.setAttribute("type",(0,e.getFileExtension)(t)),r.onload=()=>{n(r)}}))}async function s(t){return new Promise((async n=>{const r=new Image;let a=document.getElementById(t).files;a&&a.length>0&&(r.src=URL.createObjectURL(a.item(0)),r.setAttribute("type",(0,e.getFileExtension)(a.item(0).type)),r.onload=()=>{n(r)})}))}async function c(t){return new Promise((async e=>{const n=new Image;return n.src=URL.createObjectURL(t),n.onload=()=>{e(n)},n}))}async function u(t,e){return await s(t).then((t=>w(t,e)))}async function h(t,e){return await o(t).then((t=>w(t,e)))}async function g(t,e,n){const r=n&&n.resultCanvasId&&document.getElementById(n.resultCanvasId)||document.createElement("canvas"),a=n&&n.resultCanvasContext?n.resultCanvasContext:r.getContext("2d"),o=i({srcDimensions:t,outputDimensions:e});r.width=o.width,r.height=o.height;const s=n&&n.resizeCanvasId&&document.getElementById(n.resizeCanvasId)||document.createElement("canvas"),c=n&&n.resizeCanvasContext?n.resizeCanvasContext:r.getContext("2d");return s.width=o.width,s.height=o.height,c.drawImage(t,0,0,s.width,s.height),c.drawImage(t,0,0,s.width,s.height),a.drawImage(s,0,0,s.width,s.height,0,0,r.width,r.height),{canvas:r,context:a}}async function l(e,n=2){const r=await o(e),a=(await m(r)).context;return(0,t.getColorPaletteByContext)(a,n)}async function d(e,n=2){const r=await s(e),a=(await m(r)).context;return(0,t.getColorPaletteByContext)(a,n)}async function m(t){const e=document.createElement("canvas");e.width=t.width,e.height=t.height;const n=e.getContext("2d",{alpha:!0,willReadFrequently:!0});return n.drawImage(t,0,0),{canvas:e,context:n}}async function y(t){return b(await l(t))}async function f(t){return b(await d(t))}function b(t){return t.map((t=>`rgba(${t.toString()})`)).join(", ").trim()}function p(e,n){const r=b((0,t.getColorPaletteByContext)(n,2));e.style.backgroundImage=`linear-gradient(${r})`}async function w(t,e){const n=await(await g(t,e)).canvas;return new Promise((async e=>{n.toBlob((t=>e(t)),`image/${t.getAttribute("type")||"png"}`)}))}function C({defaultImageSrc:t,uploadImageInputId:e,previewImageElementId:n}){let r;e&&(r=document.getElementById(e).files);const a=document.getElementById(n);if(!r||r.length<1)return a.src=t,void(a.style.cursor="default");{const t=URL.createObjectURL(r.item(0));a.src=t,a.onclick=e=>window.open(t,"_blank"),a.style.cursor="pointer"}}})(),ImageTools=r})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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SSxnQkFDckJrSCxLQUFNLE1BQ05DLE1BQ0wsQ0FFTyxTQUFTQyxFQUE2Q0MsRUFBc0JDLEdBQ2pGLE1BQ01DLEVBQWFULEdBREUsSUFBQTdLLDBCQUEwQnFMLEVBQWUsSUFHOURELEVBQVFHLE1BQU1DLGdCQUFrQixtQkFBb0JGLElBQ3RELENBR096RCxlQUFlMkIsRUFBYXRCLEVBQXVCcUIsR0FDeEQsTUFBTWtDLGNBQWtDL0IsRUFBc0J4QixFQUFLcUIsSUFBcUJqSixPQUV4RixPQUFPLElBQUkwSCxTQUFTSCxNQUFRSSxJQUMxQndELEVBQWtCQyxRQUFRbkssR0FBSzBHLEVBQVMxRyxJQUFNLFNBQVUyRyxFQUFJeUQsYUFBYyxTQUFZLFFBQVUsR0FFcEcsQ0FFTyxTQUFTQyxHQUFjLGdCQUFFQyxFQUFlLG1CQUFFQyxFQUFrQixzQkFBRUMsSUFDbkUsSUFBSWhELEVBQ0MrQyxJQUNIL0MsRUFBYUMsU0FBU0MsZUFBZ0I2QyxHQUEyQzVDLE9BR25GLE1BQU04QyxFQUFzQmhELFNBQVNDLGVBQWdCOEMsR0FFckQsSUFBTWhELEdBQVlBLEVBQVNuSSxPQUFTLEVBR2xDLE9BRkFvTCxFQUFvQjVELElBQU15RCxPQUMxQkcsRUFBb0JULE1BQU1VLE9BQVMsV0FFOUIsQ0FDTCxNQUFNQyxFQUFVekQsSUFBSUMsZ0JBQWlCSyxFQUFTSSxLQUFNLElBQ3BENkMsRUFBb0I1RCxJQUFNOEQsRUFDMUJGLEVBQW9CRyxRQUFVQyxHQUFLQyxPQUFPQyxLQUFNSixFQUFTLFVBQ3pERixFQUFvQlQsTUFBTVUsT0FBUyxTLENBRXZDLEMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9DYW52YXNUb29scy50cyIsIndlYnBhY2s6Ly8vLi9Db2xvclJHQkEudHMiLCJ3ZWJwYWNrOi8vLy4vRmlsZVRvb2xzLnRzIiwid2VicGFjazovLy8uL01hdGhUb29scy50cyIsIndlYnBhY2s6Ly8vLi9TdHJpbmdUb29scy50cyIsIndlYnBhY2s6Ly8vLi90eXBlcy50cyIsIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vL3dlYnBhY2svcnVudGltZS9kZWZpbmUgcHJvcGVydHkgZ2V0dGVycyIsIndlYnBhY2s6Ly8vd2VicGFjay9ydW50aW1lL2hhc093blByb3BlcnR5IHNob3J0aGFuZCIsIndlYnBhY2s6Ly8vd2VicGFjay9ydW50aW1lL21ha2UgbmFtZXNwYWNlIG9iamVjdCIsIndlYnBhY2s6Ly8vLi9JbWFnZVRvb2xzLnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFBvaW50MkQgfSBmcm9tICcuL01hdGhUb29scyc7XHJcbmltcG9ydCB7IENPTE9SX0NIQU5ORUwgfSBmcm9tICcuL3R5cGVzJztcclxuaW1wb3J0IHsgQ29sb3JSR0JBIH0gZnJvbSBcIi4vQ29sb3JSR0JBXCI7XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gZ2V0UGl4ZWxQb3NpdGlvbkJ5Q2FudmFzV2lkdGgoIHBpeGVsSW5kZXg6IG51bWJlciwgY2FudmFzV2lkdGg6IG51bWJlciwgbnVtYmVyT2ZDb2xvckNoYW5uZWxzOiBudW1iZXIgPSA0ICk6IFBvaW50MkQge1xyXG4gIHJldHVybiB7XHJcbiAgICB4OiAoIHBpeGVsSW5kZXggLyBudW1iZXJPZkNvbG9yQ2hhbm5lbHMgKSAlIGNhbnZhc1dpZHRoLFxyXG4gICAgeTogTWF0aC5mbG9vciggTWF0aC5mbG9vciggcGl4ZWxJbmRleCAvIGNhbnZhc1dpZHRoICkgLyBudW1iZXJPZkNvbG9yQ2hhbm5lbHMgKVxyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGdldFBpeGVsQ29sb3JGcm9tQ2FudmFzKCBwaXhlbEluZGV4OiBudW1iZXIsIHBpeGVsQXJyYXk6IFVpbnQ4Q2xhbXBlZEFycmF5ICk6IENvbG9yUkdCQSB7XHJcbiAgcmV0dXJuIG5ldyBDb2xvclJHQkEoXHJcbiAgICBwaXhlbEFycmF5W3BpeGVsSW5kZXhdLFxyXG4gICAgcGl4ZWxBcnJheVtwaXhlbEluZGV4ICsgMV0sXHJcbiAgICBwaXhlbEFycmF5W3BpeGVsSW5kZXggKyAyXSxcclxuICAgIHBpeGVsQXJyYXlbcGl4ZWxJbmRleCArIDNdIC8gMjU1ICk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBnZXRDb2xvckFycmF5QnlDb250ZXh0KCBjb250ZXh0OiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQsIG51bWJlck9mQ29sb3JDaGFubmVsczogbnVtYmVyID0gNCApOiBDb2xvclJHQkFbXSB7XHJcbiAgY29uc3QgcGl4ZWxBcnJheSA9IGNvbnRleHRcclxuICAgIC5nZXRJbWFnZURhdGEoIDAsIDAsIGNvbnRleHQuY2FudmFzLndpZHRoLCBjb250ZXh0LmNhbnZhcy5oZWlnaHQgKVxyXG4gICAgLmRhdGE7XHJcblxyXG4gIGNvbnN0IGNvbG9yQXJyYXk6IENvbG9yUkdCQVtdID0gW107XHJcbiAgZm9yICggdmFyIGkgPSBwaXhlbEFycmF5Lmxlbmd0aDsgaSA+PSAwOyBpIC09IG51bWJlck9mQ29sb3JDaGFubmVscyApIHtcclxuICAgIGNvbG9yQXJyYXkucHVzaCggZ2V0UGl4ZWxDb2xvckZyb21DYW52YXMoIGksIHBpeGVsQXJyYXkgKSApO1xyXG4gIH1cclxuXHJcbiAgcmV0dXJuIGNvbG9yQXJyYXk7XHJcbn1cclxuXHJcbi8vLyBGaW5kIHRoZSBjb2xvciBjaGFubmVsICggcmVkLCBncmVlbiBvciBibHVlKSBpbiB0aGUgaW1hZ2Ugd2l0aCB0aGUgYmlnZ2VzdCByYW5nZVxyXG5leHBvcnQgZnVuY3Rpb24gZmluZEJpZ2dlc3RDb2xvclJhbmdlKCByZ2JWYWx1ZXM6IENvbG9yUkdCQVtdICkge1xyXG4gIGxldCByTWluID0gTnVtYmVyLk1BWF9WQUxVRTtcclxuICBsZXQgZ01pbiA9IE51bWJlci5NQVhfVkFMVUU7XHJcbiAgbGV0IGJNaW4gPSBOdW1iZXIuTUFYX1ZBTFVFO1xyXG5cclxuICBsZXQgck1heCA9IE51bWJlci5NSU5fVkFMVUU7XHJcbiAgbGV0IGdNYXggPSBOdW1iZXIuTUlOX1ZBTFVFO1xyXG4gIGxldCBiTWF4ID0gTnVtYmVyLk1JTl9WQUxVRTtcclxuXHJcbiAgcmdiVmFsdWVzLmZvckVhY2goICggcGl4ZWwgKSA9PiB7XHJcbiAgICByTWluID0gTWF0aC5taW4oIHJNaW4sIHBpeGVsLnIgKTtcclxuICAgIGdNaW4gPSBNYXRoLm1pbiggZ01pbiwgcGl4ZWwuZyApO1xyXG4gICAgYk1pbiA9IE1hdGgubWluKCBiTWluLCBwaXhlbC5iICk7XHJcblxyXG4gICAgck1heCA9IE1hdGgubWF4KCByTWF4LCBwaXhlbC5yICk7XHJcbiAgICBnTWF4ID0gTWF0aC5tYXgoIGdNYXgsIHBpeGVsLmcgKTtcclxuICAgIGJNYXggPSBNYXRoLm1heCggYk1heCwgcGl4ZWwuYiApO1xyXG4gIH0gKTtcclxuXHJcbiAgY29uc3QgclJhbmdlID0gck1heCAtIHJNaW47XHJcbiAgY29uc3QgZ1JhbmdlID0gZ01heCAtIGdNaW47XHJcbiAgY29uc3QgYlJhbmdlID0gYk1heCAtIGJNaW47XHJcblxyXG4gIGNvbnN0IGJpZ2dlc3RSYW5nZSA9IE1hdGgubWF4KCByUmFuZ2UsIGdSYW5nZSwgYlJhbmdlICk7XHJcbiAgaWYgKCBiaWdnZXN0UmFuZ2UgPT09IHJSYW5nZSApIHtcclxuICAgIHJldHVybiBDT0xPUl9DSEFOTkVMLlI7XHJcbiAgfSBlbHNlIGlmICggYmlnZ2VzdFJhbmdlID09PSBnUmFuZ2UgKSB7XHJcbiAgICByZXR1cm4gQ09MT1JfQ0hBTk5FTC5HO1xyXG4gIH0gZWxzZSB7XHJcbiAgICByZXR1cm4gQ09MT1JfQ0hBTk5FTC5CO1xyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGdldENvbG9yUGFsZXR0ZUJ5Q29udGV4dCggY29udGV4dDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJELCBkZXB0aDogbnVtYmVyID0gMCApOiBDb2xvclJHQkFbXSB7XHJcbiAgcmV0dXJuIGdldENvbG9yUGFsZXR0ZSggZ2V0Q29sb3JBcnJheUJ5Q29udGV4dCggY29udGV4dCApLCBkZXB0aCApO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gZ2V0Q29sb3JQYWxldHRlKCByZ2JWYWx1ZXM6IENvbG9yUkdCQVtdLCBkZXB0aDogbnVtYmVyID0gMCApOiBDb2xvclJHQkFbXSB7XHJcbiAgLy8vIFRyYW5zZm9ybWFuZG8gZXNzYSBwYXJ0ZSBkYSBhcnJheSBkZSBjb3JlcyBlbSB2w6FyaW9zIFwicmFuZ2VzXCIgZGUgY29yZXMgZGlmZXJlbnRlc1xyXG4gIGNvbnN0IE1BWF9ERVBUSCA9IDY7XHJcbiAgaWYgKCBkZXB0aCA9PT0gTUFYX0RFUFRIIHx8IHJnYlZhbHVlcy5sZW5ndGggPT09IDAgKSB7XHJcbiAgICBjb25zdCBjb2xvciA9IHJnYlZhbHVlcy5yZWR1Y2UoXHJcbiAgICAgICggcHJldiwgY3VyciApID0+IHtcclxuICAgICAgICBpZiAoICFDb2xvclJHQkEuaXNWYWxpZCggcHJldiApIHx8ICFDb2xvclJHQkEuaXNWYWxpZCggY3VyciApICkge1xyXG4gICAgICAgICAgcmV0dXJuIENvbG9yUkdCQS5OVUxMO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKCBDb2xvclJHQkEuaXNWYWxpZCggY3VyciApICkge1xyXG4gICAgICAgICAgcHJldi5yICs9IGN1cnIucjtcclxuICAgICAgICAgIHByZXYuZyArPSBjdXJyLmc7XHJcbiAgICAgICAgICBwcmV2LmIgKz0gY3Vyci5iO1xyXG4gICAgICAgICAgcHJldi5hICs9IGN1cnIuYTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiBwcmV2O1xyXG4gICAgICB9LFxyXG4gICAgICBDb2xvclJHQkEuTlVMTFxyXG4gICAgKTtcclxuICAgIGlmICggIUNvbG9yUkdCQS5OVUxMLmVxdWFscyggY29sb3IgKSApIHtcclxuICAgICAgcmV0dXJuIFtuZXcgQ29sb3JSR0JBKFxyXG4gICAgICAgIE1hdGgucm91bmQoIGNvbG9yLnIgLyByZ2JWYWx1ZXMubGVuZ3RoICksXHJcbiAgICAgICAgTWF0aC5yb3VuZCggY29sb3IuZyAvIHJnYlZhbHVlcy5sZW5ndGggKSxcclxuICAgICAgICBNYXRoLnJvdW5kKCBjb2xvci5iIC8gcmdiVmFsdWVzLmxlbmd0aCApLFxyXG4gICAgICAgIE1hdGgucm91bmQoIGNvbG9yLmEgLyByZ2JWYWx1ZXMubGVuZ3RoIClcclxuICAgICAgKV07XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICByZXR1cm4gW0NvbG9yUkdCQS5OVUxMXTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8vLyBFbmNvbnRyYW5kbyBvIGNhbmFsIGRlIGNvciBxdWUgbWFpcyBhcGFyZWNlXHJcbiAgY29uc3QgY29tcG9uZW50VG9Tb3J0QnkgPSBmaW5kQmlnZ2VzdENvbG9yUmFuZ2UoIHJnYlZhbHVlcyApO1xyXG5cclxuICAvLy8gT3JkZW5hbmRvIGEgYXJyYXkgcGVsbyBjYW5hbCBkZSBjb3IgcHJlZG9taW5hbnRlXHJcbiAgcmdiVmFsdWVzLnNvcnQoICggcDEsIHAyICkgPT4ge1xyXG4gICAgc3dpdGNoICggY29tcG9uZW50VG9Tb3J0QnkgKSB7XHJcbiAgICAgIGNhc2UgQ09MT1JfQ0hBTk5FTC5SOlxyXG4gICAgICAgIHJldHVybiBwMS5yIC0gcDIuclxyXG4gICAgICBjYXNlIENPTE9SX0NIQU5ORUwuRzpcclxuICAgICAgICByZXR1cm4gcDEuZyAtIHAyLmdcclxuICAgICAgY2FzZSBDT0xPUl9DSEFOTkVMLkI6XHJcbiAgICAgICAgcmV0dXJuIHAxLmIgLSBwMi5iXHJcbiAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgcmV0dXJuIHAxLnIgLSBwMi5yXHJcbiAgICB9XHJcbiAgfSApO1xyXG5cclxuICAvLy8gRGl2aWRpbmRvIGEgYXJyYXkgZW0gZG9pcyBlIHVzYW5kbyByZWN1cnPDo28gcGFyYSBtZWxob3JhciBvIGRlc2VtcGVuaG9cclxuICBjb25zdCBtaWQgPSByZ2JWYWx1ZXMubGVuZ3RoIC8gMjtcclxuICByZXR1cm4gQ29sb3JSR0JBLmdldFVuaXF1ZSggW1xyXG4gICAgLi4uZ2V0Q29sb3JQYWxldHRlKCByZ2JWYWx1ZXMuc2xpY2UoIDAsIG1pZCApLCBkZXB0aCArIDEgKSxcclxuICAgIC4uLmdldENvbG9yUGFsZXR0ZSggcmdiVmFsdWVzLnNsaWNlKCBtaWQgKyAxICksIGRlcHRoICsgMSApLFxyXG4gIF0uZmlsdGVyKCBjID0+ICFjLmVxdWFscyggQ29sb3JSR0JBLk5VTEwgKSApICk7XHJcbn0iLCJpbXBvcnQgeyBjbGFtcCB9IGZyb20gJy4vTWF0aFRvb2xzJztcclxuaW1wb3J0IHsgQ29tcGFyYWJsZSB9IGZyb20gJy4vdHlwZXMnO1xyXG5cclxuZXhwb3J0IGNsYXNzIENvbG9yUkdCQSBpbXBsZW1lbnRzIENvbXBhcmFibGU8Q29sb3JSR0JBPiB7XHJcbiAgcHVibGljIHI6IG51bWJlcjtcclxuICBwdWJsaWMgZzogbnVtYmVyO1xyXG4gIHB1YmxpYyBiOiBudW1iZXI7XHJcbiAgcHVibGljIGE6IG51bWJlcjtcclxuXHJcbiAgY29uc3RydWN0b3IoIHI6IG51bWJlciwgZzogbnVtYmVyLCBiOiBudW1iZXIsIGE6IG51bWJlciA9IDEgKSB7XHJcbiAgICB0aGlzLnIgPSBjbGFtcCggciwgMCwgMjU1ICk7XHJcbiAgICB0aGlzLmcgPSBjbGFtcCggZywgMCwgMjU1ICk7XHJcbiAgICB0aGlzLmIgPSBjbGFtcCggYiwgMCwgMjU1ICk7XHJcbiAgICB0aGlzLmEgPSBjbGFtcCggYSwgMCwgMjU1ICk7XHJcbiAgfVxyXG5cclxuICB0b1N0cmluZygpOiBzdHJpbmcge1xyXG4gICAgcmV0dXJuIGAkeyB0aGlzLnIgfSwgJHsgdGhpcy5nIH0sICR7IHRoaXMuYiB9LCAkeyB0aGlzLmEgfWA7XHJcbiAgfVxyXG5cclxuICB0b1N0cmluZ1dpdGhvdXRBbHBoYSgpOiBzdHJpbmcge1xyXG4gICAgcmV0dXJuIGAkeyB0aGlzLnIgfSwgJHsgdGhpcy5nIH0sICR7IHRoaXMuYiB9YDtcclxuICB9XHJcblxyXG4gIGFzQXJyYXkoIHsgbm9BbHBoYSA9IGZhbHNlIH06IHsgbm9BbHBoYT86IGJvb2xlYW47IH0gPSB7fSApOiBudW1iZXJbXSB7XHJcbiAgICBpZiAoIG5vQWxwaGEgKSB7XHJcbiAgICAgIHJldHVybiBbdGhpcy5yLCB0aGlzLmcsIHRoaXMuYl07XHJcbiAgICB9XHJcbiAgICByZXR1cm4gW3RoaXMuciwgdGhpcy5nLCB0aGlzLmIsIHRoaXMuYV07XHJcbiAgfVxyXG5cclxuICBnZXRDb3B5KCkge1xyXG4gICAgcmV0dXJuIG5ldyBDb2xvclJHQkEoIHRoaXMuciwgdGhpcy5nLCB0aGlzLmIsIHRoaXMuYSApO1xyXG4gIH1cclxuXHJcbiAgc3RhdGljIGluY3JlYXNlU2F0dXJhdGlvbiggY29sb3I6IENvbG9yUkdCQSwgcGVyY2VudGFnZTogbnVtYmVyICkge1xyXG4gICAgcGVyY2VudGFnZSA9IHBlcmNlbnRhZ2UgLyAxMDA7XHJcblxyXG4gICAgY29uc3QgbWF4VmFsdWUgPSBNYXRoLm1heCggLi4uY29sb3IuYXNBcnJheSggeyBub0FscGhhOiB0cnVlIH0gKSApO1xyXG4gICAgY29uc3QgY29weUNvbG9yID0gY29sb3IuZ2V0Q29weSgpO1xyXG5cclxuICAgIGNvcHlDb2xvci5yID0gTWF0aC5mbG9vciggY2xhbXAoIGNvbG9yLnIgPT09IG1heFZhbHVlID8gY29sb3IuciArICggY29sb3IuciAqIHBlcmNlbnRhZ2UgKSA6IGNvbG9yLnIgLSAoIGNvbG9yLnIgKiBwZXJjZW50YWdlICksIDAsIDI1NSApICk7XHJcbiAgICBjb3B5Q29sb3IuZyA9IE1hdGguZmxvb3IoIGNsYW1wKCBjb2xvci5nID09PSBtYXhWYWx1ZSA/IGNvbG9yLmcgKyAoIGNvbG9yLmcgKiBwZXJjZW50YWdlICkgOiBjb2xvci5nIC0gKCBjb2xvci5nICogcGVyY2VudGFnZSApLCAwLCAyNTUgKSApO1xyXG4gICAgY29weUNvbG9yLmIgPSBNYXRoLmZsb29yKCBjbGFtcCggY29sb3IuYiA9PT0gbWF4VmFsdWUgPyBjb2xvci5iICsgKCBjb2xvci5iICogcGVyY2VudGFnZSApIDogY29sb3IuYiAtICggY29sb3IuYiAqIHBlcmNlbnRhZ2UgKSwgMCwgMjU1ICkgKTtcclxuXHJcbiAgICByZXR1cm4gY29weUNvbG9yO1xyXG4gIH1cclxuXHJcbiAgc3RhdGljIGdldFVuaXF1ZSggYXJyOiBDb2xvclJHQkFbXSwgcmVtb3ZlVHJhbnNwYXJlbnRQaXhlbHM6IGJvb2xlYW4gPSB0cnVlICkge1xyXG4gICAgcmV0dXJuIGFyclxyXG4gICAgICAuZmlsdGVyKCAoIHYsIGksIGEgKSA9PiBhLmZpbmRJbmRleCggdjIgPT4gKCBKU09OLnN0cmluZ2lmeSggdiApID09PSBKU09OLnN0cmluZ2lmeSggdjIgKSApICkgPT09IGkgKVxyXG4gICAgICAuZmlsdGVyKCBjID0+ICFyZW1vdmVUcmFuc3BhcmVudFBpeGVscyB8fCAoIENvbG9yUkdCQS5pc1ZhbGlkKCBjICkgJiYgYy5hID4gMCApICk7XHJcbiAgfVxyXG5cclxuICAqW1N5bWJvbC5pdGVyYXRvcl0oKSB7XHJcbiAgICB5aWVsZCB0aGlzLnI7XHJcbiAgICB5aWVsZCB0aGlzLmc7XHJcbiAgICB5aWVsZCB0aGlzLmI7XHJcbiAgICB5aWVsZCB0aGlzLmE7XHJcbiAgfVxyXG5cclxuICBlcXVhbHMoIGNvbG9yMjogQ29sb3JSR0JBICk6IGJvb2xlYW4ge1xyXG4gICAgcmV0dXJuIHRoaXMuciA9PT0gY29sb3IyLnJcclxuICAgICAgJiYgdGhpcy5nID09PSBjb2xvcjIuZ1xyXG4gICAgICAmJiB0aGlzLmIgPT09IGNvbG9yMi5iXHJcbiAgICAgICYmIHRoaXMuYSA9PT0gY29sb3IyLmE7XHJcbiAgfVxyXG5cclxuICBzdGF0aWMgaXNWYWxpZCggY29sb3I6IENvbG9yUkdCQSApOiBib29sZWFuIHtcclxuICAgIHJldHVybiB0eXBlb2YgY29sb3IuciA9PT0gJ251bWJlcicgJiYgIU51bWJlci5pc05hTiggY29sb3IuciApXHJcbiAgICAgICYmIHR5cGVvZiBjb2xvci5nID09PSAnbnVtYmVyJyAmJiAhTnVtYmVyLmlzTmFOKCBjb2xvci5nIClcclxuICAgICAgJiYgdHlwZW9mIGNvbG9yLmIgPT09ICdudW1iZXInICYmICFOdW1iZXIuaXNOYU4oIGNvbG9yLmIgKVxyXG4gICAgICAmJiB0eXBlb2YgY29sb3IuYSA9PT0gJ251bWJlcicgJiYgIU51bWJlci5pc05hTiggY29sb3IuYSApO1xyXG4gIH1cclxuXHJcbiAgc3RhdGljIGdldCBCTEFDSygpOiBDb2xvclJHQkEge1xyXG4gICAgcmV0dXJuIG5ldyBDb2xvclJHQkEoIDAsIDAsIDAgKTtcclxuICB9XHJcblxyXG4gIHN0YXRpYyBnZXQgTlVMTCgpOiBDb2xvclJHQkEge1xyXG4gICAgcmV0dXJuIG5ldyBDb2xvclJHQkEoIDAsIDAsIDAsIDAgKTtcclxuICB9XHJcbn1cclxuIiwiXHJcbi8vLyBodHRwczovL3N0YWNrb3ZlcmZsb3cuY29tL3F1ZXN0aW9ucy8xNjI0NTc2Ny9jcmVhdGluZy1hLWJsb2ItZnJvbS1hLWJhc2U2NC1zdHJpbmctaW4tamF2YXNjcmlwdFxyXG4vLy8gRGl2aWRlIHVtIGFycXVpdm8gYmluw6FyaW8gZW0gdsOhcmlhcyBwYXJ0ZXMsIHBhcmEgcXVlIGEgY29udmVyc8OjbyBzZWphIG90aW1pemFkYSwgZSByZXRvcm5hIHVtYSBibG9iIGNvbSBvIGFycXVpdm9cclxuXHJcbmltcG9ydCB7IGlzTnVsbE9yRW1wdHkgfSBmcm9tICcuL1N0cmluZ1Rvb2xzJztcclxuXHJcbi8vLyBAcGFyYW0gb25Qcm9ncmVzc28gVW0gY2FsbGJhY2sgcXVlIHJlY2ViZSBhIHBvcmNlbnRhZ2VtIGRlIHByb2dyZXNzbyBhdHVhbCBkYSBjb252ZXJzw6NvXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBiYXNlNjRUb0Jsb2IoIHRleHRvQmFzZTY0OiBzdHJpbmcsIGNvbnRlbnRUeXBlOiBzdHJpbmcsIHRhbWFuaG9QYXJ0ZXMgPSAxMDI0LCBvblByb2dyZXNzID0gKCBwcm9ncmVzc29BdHVhbDogbnVtYmVyICkgPT4geyBjb25zb2xlLmxvZyggcHJvZ3Jlc3NvQXR1YWwgKSB9ICkge1xyXG4gIGNvbnN0IGJ5dGVBcnJheXMgPSBuZXcgQXJyYXk8VWludDhBcnJheT4oKTtcclxuICBjb25zdCBmaWxlU2l6ZSA9IHRleHRvQmFzZTY0Lmxlbmd0aDtcclxuXHJcbiAgLy8vIHByZWVuY2hlIGBieXRlQXJyYXlzYCBjb20gb3MgYnl0ZXMgZG8gYXJxdWl2byBwZWdhbmRvIHVtYSBwYXJ0ZSBkZSBcInRhbWFuaG9QYXJ0ZXNcIiBwb3IgdmV6XHJcbiAgZm9yICggbGV0IG9mZnNldCA9IDA7IG9mZnNldCA8IGZpbGVTaXplOyBvZmZzZXQgKz0gdGFtYW5ob1BhcnRlcyApIHtcclxuICAgIC8vLyBwZWdhbmRvIHVtIHBhcnRlIGRlIHRhbWFuaG8ge3RhbWFuaG9QYXJ0ZXN9IGRvIGFycXVpdm9cclxuICAgIGNvbnN0IGNodW5rID0gdGV4dG9CYXNlNjQuc2xpY2UoIG9mZnNldCwgb2Zmc2V0ICsgdGFtYW5ob1BhcnRlcyApO1xyXG5cclxuICAgIC8vLyBjb252ZXJ0ZW5kbyBhIHBhcnRlIGVtIHVtIGFycmF5IGNvbSBjYWRhIGJ5dGUgZGVzc2UgcGVkYcOnbyBkbyBhcnF1aXZvXHJcbiAgICBjb25zdCBhcnJCeXRlc0NodW5rID0gbmV3IEFycmF5PG51bWJlcj4oIGNodW5rLmxlbmd0aCApO1xyXG4gICAgZm9yICggbGV0IGkgPSAwOyBpIDwgY2h1bmsubGVuZ3RoOyBpKysgKSB7XHJcbiAgICAgIGFyckJ5dGVzQ2h1bmtbaV0gPSBjaHVuay5jaGFyQ29kZUF0KCBpICk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8vIHRyYW5zZm9ybWFuZG8gZXNzZSBhcnJheSBlbSB1bSBhcnJheSBjb20gY2FtcG9zIGRvIHRhbWFuaG8gZGUgdW0gYnl0ZVxyXG4gICAgLy8vIGUgdW5pbmRvIGFzIHBhcnRlcyBqw6EgY29uY2x1w61kYXMgZG8gYXJxdWl2b1xyXG4gICAgYnl0ZUFycmF5cy5wdXNoKCBuZXcgVWludDhBcnJheSggYXJyQnl0ZXNDaHVuayApICk7XHJcblxyXG4gICAgLy8vIENoYW1hbmRvIGNhbGxiYWNrIHF1ZSBleGliZSBvIHByb2dyZXNzbyBxdWFuZG8gbyBwYXNzbyBhdHVhbCBmb3IgY29uY2x1w61kb1xyXG4gICAgYXdhaXQgb25Qcm9ncmVzcyggKCBvZmZzZXQgLyBmaWxlU2l6ZSApICogMTAwICk7XHJcbiAgfVxyXG5cclxuICByZXR1cm4gbmV3IEJsb2IoIGJ5dGVBcnJheXMsIHsgdHlwZTogY29udGVudFR5cGUgfSApO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gZG93bmxvYWRGaWxlRnJvbUJsb2IoIGJsb2I6IEJsb2IsIHRpdGxlOiBzdHJpbmcgKSB7XHJcbiAgbGV0IGZpbGUgPSBVUkwuY3JlYXRlT2JqZWN0VVJMKCBibG9iICk7XHJcblxyXG4gIGlmICggZmlsZSApIHtcclxuICAgIGxldCBhID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCggJ2EnICk7XHJcbiAgICBhLmhyZWYgPSBmaWxlO1xyXG4gICAgYS5kb3dubG9hZCA9IHRpdGxlO1xyXG4gICAgYS5jbGljaygpO1xyXG4gICAgYS5yZW1vdmUoKTtcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBnZXRGaWxlRXh0ZW5zaW9uKCBmaWxlTmFtZTogc3RyaW5nICk6IHN0cmluZyB7XHJcbiAgaWYgKCBpc051bGxPckVtcHR5KCBmaWxlTmFtZSApICkgcmV0dXJuICcnO1xyXG5cclxuICBjb25zdCBkZWZhdWx0RmlsZVNyYyA9IGZpbGVOYW1lLnNwbGl0KCAnLicgKS5wb3AoKTtcclxuICBpZiAoIGRlZmF1bHRGaWxlU3JjICYmIGRlZmF1bHRGaWxlU3JjICE9PSBmaWxlTmFtZSApIHtcclxuICAgIHJldHVybiBkZWZhdWx0RmlsZVNyYztcclxuICB9XHJcblxyXG4gIGNvbnN0IGZpbGVUeXBlU3RyID0gZmlsZU5hbWUuc3BsaXQoICcvJyApLnBvcCgpO1xyXG4gIGlmICggZmlsZVR5cGVTdHIgJiYgZmlsZVR5cGVTdHIgIT09IGZpbGVOYW1lICkge1xyXG4gICAgcmV0dXJuIGZpbGVUeXBlU3RyO1xyXG4gIH1cclxuXHJcbiAgcmV0dXJuICcnO1xyXG59IiwiZXhwb3J0IGNvbnN0IHJlZ2V4TnVtYmVyUGF0dGVybiA9IC8tP1xcZCtcXC4/XFxkKi9nO1xyXG5cclxuZXhwb3J0IGludGVyZmFjZSBQb2ludDJEIHtcclxuICB4OiBudW1iZXI7XHJcbiAgeTogbnVtYmVyO1xyXG59XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIERpbWVuc2lvbnMge1xyXG4gIHdpZHRoOiBudW1iZXI7XHJcbiAgaGVpZ2h0OiBudW1iZXI7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBpbmRleFRvUm93KCBpbmRleDogbnVtYmVyLCBncmlkV2lkdGg6IG51bWJlciApIHtcclxuICByZXR1cm4gTWF0aC5mbG9vciggaW5kZXggLyBncmlkV2lkdGggKTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGluZGV4VG9Db2woIGluZGV4OiBudW1iZXIsIGdyaWRXaWR0aDogbnVtYmVyICkge1xyXG4gIHJldHVybiBpbmRleCAlIGdyaWRXaWR0aDtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIHJvd0NvbFRvSW5kZXgoIHJvdzogbnVtYmVyLCBjb2w6IG51bWJlciwgd2lkdGg6IG51bWJlciApIHtcclxuICByZXR1cm4gKCByb3cgKiB3aWR0aCApICsgY29sO1xyXG59XHJcblxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGxlcnAoIG1pbjogbnVtYmVyLCBtYXg6IG51bWJlciwgYW1vdW50OiBudW1iZXIgKTogbnVtYmVyIHtcclxuICByZXR1cm4gKCAxIC0gYW1vdW50ICkgKiBtaW4gKyBhbW91bnQgKiBtYXg7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBpbnZlcnNlTGVycCggYTogbnVtYmVyLCBiOiBudW1iZXIsIHZhbDogbnVtYmVyICk6IG51bWJlciB7XHJcbiAgcmV0dXJuICggdmFsIC0gYSApIC8gKCBiIC0gYSApO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gcmVtYXAoIGluTWluOiBudW1iZXIsIGluTWF4OiBudW1iZXIsIG91dE1pbjogbnVtYmVyLCBvdXRNYXg6IG51bWJlciwgdmFsOiBudW1iZXIgKTogbnVtYmVyIHtcclxuICByZXR1cm4gbGVycCggb3V0TWluLCBvdXRNYXgsIGludmVyc2VMZXJwKCBpbk1pbiwgaW5NYXgsIHZhbCApICk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBnZXRSYW5kb21JbnRFeGNsdXNpdmUoIG1pbjogbnVtYmVyLCBtYXg6IG51bWJlciApIHtcclxuICByZXR1cm4gTWF0aC5mbG9vciggTWF0aC5yYW5kb20oKSAqICggbWF4IC0gbWluICkgKyBtaW4gKTtcclxufVxyXG5cclxuXHJcblxyXG5leHBvcnQgZnVuY3Rpb24gZ2V0UmFuZG9tSW50SW5jbHVzaXZlKCBtaW46IG51bWJlciwgbWF4OiBudW1iZXIgKSB7XHJcbiAgbWluID0gTWF0aC5jZWlsKCBtaW4gKTtcclxuICBtYXggPSBNYXRoLmZsb29yKCBtYXggKTtcclxuICByZXR1cm4gTWF0aC5mbG9vciggTWF0aC5yYW5kb20oKSAqICggbWF4IC0gbWluICsgMSApICkgKyBtaW47XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBnZXRSYW5kb21Gcm9tQXJyYXk8VD4oIGFycjogQXJyYXk8VD4gKSB7XHJcbiAgcmV0dXJuIGFycltnZXRSYW5kb21JbnRFeGNsdXNpdmUoIDAsIGFyci5sZW5ndGggKV07XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBjbGFtcCggbnVtOiBudW1iZXIgPSAwLCBtaW46IG51bWJlciA9IDAsIG1heDogbnVtYmVyID0gMTAwICk6IG51bWJlciB7XHJcbiAgcmV0dXJuIE1hdGgubWF4KCBtaW4sIE1hdGgubWluKCBudW0sIG1heCApICk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBtaW51dGVzVG9NaWxsaXNlY29uZHMoIG1zOiBudW1iZXIgKSB7XHJcbiAgcmV0dXJuIG1zICogNjAwMDA7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBtaWxsaXNlY29uZHNUb01pbnV0ZXMoIG1zOiBudW1iZXIgKSB7XHJcbiAgcmV0dXJuIG1zIC8gNjAwMDA7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBtaWxsaXNlY29uZHNUb0hvdXJzKCBtczogbnVtYmVyICkge1xyXG4gIHJldHVybiBtcyAvIDMuNmUrNjtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIG1pbGxpc2Vjb25kc1RvRGF5cyggbXM6IG51bWJlciApIHtcclxuICByZXR1cm4gbXMgLyA4LjY0ZSs3O1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gbWVnYWJ5dGVUb0J5dGUoIG1iOiBudW1iZXIgKSB7XHJcbiAgcmV0dXJuIG1iICogMTAyNCAqIDEwMjQ7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBieXRlVG9NZWdhYnl0ZSggYjogbnVtYmVyICkge1xyXG4gIHJldHVybiBiIC8gMTAyNCAvIDEwMjQ7XHJcbn0iLCJleHBvcnQgZnVuY3Rpb24gcmVtb3ZlQWNjZW50cyggc3RyOiBzdHJpbmcgKSB7XHJcbiAgcmV0dXJuIHN0ci5ub3JtYWxpemUoICdORkQnICkucmVwbGFjZSggL1tcXHUwMzAwLVxcdTAzNmZdL2csIFwiXCIgKTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGNhcGl0YWxpemVGaXJzdExldHRlciggc3RyOiBzdHJpbmcgKTogc3RyaW5nIHtcclxuICBpZiAoIHR5cGVvZiBzdHIgIT09ICdzdHJpbmcnICkge1xyXG4gICAgcmV0dXJuICcnO1xyXG4gIH1cclxuICByZXR1cm4gc3RyLmNoYXJBdCggMCApLnRvVXBwZXJDYXNlKCkgKyBzdHIuc3Vic3RyaW5nKCAxICk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBzZWFyY2hUZXJtKCBzdHJpbmdBcnJheTogc3RyaW5nW10sIHNlYXJjaFRlcm06IHN0cmluZyApOiBzdHJpbmdbXSB7XHJcbiAgcmV0dXJuIHN0cmluZ0FycmF5XHJcbiAgICAuZmlsdGVyKCAoIHY6IHN0cmluZyApID0+IHYudG9Mb3dlckNhc2UoKS5pbmRleE9mKCBzZWFyY2hUZXJtLnRvTG93ZXJDYXNlKCkgKSA+IC0xIClcclxuICAgIC5zbGljZSggMCwgMTAgKVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gemVyb0JlZm9yZSggbjogbnVtYmVyICkge1xyXG4gIHJldHVybiBuLnRvU3RyaW5nKCkucGFkU3RhcnQoIDIsICcwJyApO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gaXNOdWxsT3JFbXB0eSggc3RyOiBzdHJpbmcgKSB7XHJcbiAgcmV0dXJuIHR5cGVvZiBzdHIgIT09ICdzdHJpbmcnIHx8ICFzdHIgfHwgc3RyID09PSAnJ1xyXG59IiwiaW1wb3J0IHsgSVBvaW50MkQgfSBmcm9tICcuL2ludGVyZmFjZXMnO1xyXG5cclxuZXhwb3J0IGVudW0gQ09OVkVSU0lPTl9VTklUIHsgUElYRUwsIFBFUkNFTlRBR0UgfVxyXG5leHBvcnQgZW51bSBESVJFQ1RJT05fUkVGRVJFTkNFIHsgSE9SSVpPTlRBTCwgVkVSVElDQUwgfVxyXG5leHBvcnQgZW51bSBWRVJUSUNBTF9SRUZFUkVOQ0UgeyBGUk9NX1RPUCwgRlJPTV9CT1RUT00gfVxyXG5cclxuZXhwb3J0IGVudW0gQ09MT1JfQ0hBTk5FTCB7IFIsIEcsIEIsIEEgfTtcclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgQ29tcGFyYWJsZTxUPiB7XHJcbiAgZXF1YWxzKCBiOiBUICk6IGJvb2xlYW47XHJcbn1cclxuXHJcblxyXG5leHBvcnQgY2xhc3MgQ1NTUG9zaXRpb24gaW1wbGVtZW50cyBJUG9pbnQyRCB7XHJcbiAgcHVibGljIHg6IG51bWJlcjtcclxuICBwdWJsaWMgeTogbnVtYmVyO1xyXG4gIHByaXZhdGUgdHlwZTogQ09OVkVSU0lPTl9VTklUO1xyXG4gIHB1YmxpYyB2ZXJ0aWNhbFJlZmVyZW5jZTogVkVSVElDQUxfUkVGRVJFTkNFO1xyXG5cclxuICBjb25zdHJ1Y3RvciggeyB4LCB5LCB2ZXJ0aWNhbFJlZmVyZW5jZSA9IFZFUlRJQ0FMX1JFRkVSRU5DRS5GUk9NX1RPUCwgdHlwZSA9IENPTlZFUlNJT05fVU5JVC5QSVhFTCB9OiB7IHg6IG51bWJlcjsgeTogbnVtYmVyOyB2ZXJ0aWNhbFJlZmVyZW5jZT86IFZFUlRJQ0FMX1JFRkVSRU5DRTsgdHlwZT86IENPTlZFUlNJT05fVU5JVDsgfSApIHtcclxuICAgIFt0aGlzLngsIHRoaXMueSwgdGhpcy52ZXJ0aWNhbFJlZmVyZW5jZSwgdGhpcy50eXBlXSA9IFt4LCB5LCB2ZXJ0aWNhbFJlZmVyZW5jZSwgdHlwZV07XHJcbiAgfVxyXG5cclxuICBnZXQgaG9yaXpvbnRhbCgpOiBzdHJpbmcge1xyXG4gICAgc3dpdGNoICggdGhpcy50eXBlICkge1xyXG4gICAgICBjYXNlIENPTlZFUlNJT05fVU5JVC5QSVhFTDpcclxuICAgICAgICByZXR1cm4gYCR7IHRoaXMueCB9cHhgO1xyXG4gICAgICBjYXNlIENPTlZFUlNJT05fVU5JVC5QRVJDRU5UQUdFOlxyXG4gICAgICAgIHJldHVybiBgJHsgdGhpcy54IH0lYDtcclxuICAgICAgZGVmYXVsdDpcclxuICAgICAgICByZXR1cm4gYCR7IHRoaXMueCB9cHhgO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgZ2V0IHZlcnRpY2FsKCk6IHN0cmluZyB7XHJcbiAgICBzd2l0Y2ggKCB0aGlzLnR5cGUgKSB7XHJcbiAgICAgIGNhc2UgQ09OVkVSU0lPTl9VTklULlBJWEVMOlxyXG4gICAgICAgIHJldHVybiBgJHsgdGhpcy55IH1weGA7XHJcbiAgICAgIGNhc2UgQ09OVkVSU0lPTl9VTklULlBFUkNFTlRBR0U6XHJcbiAgICAgICAgcmV0dXJuIGAkeyB0aGlzLnkgfSVgO1xyXG4gICAgICBkZWZhdWx0OlxyXG4gICAgICAgIHJldHVybiBgJHsgdGhpcy55IH1weGA7XHJcbiAgICB9XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgdHlwZSBDb2xsaXNpb25EaXJlY3Rpb25DaGVjayA9IHtcclxuICB0b3A6IGJvb2xlYW47XHJcbiAgcmlnaHQ6IGJvb2xlYW47XHJcbiAgY2VudGVyOiBib29sZWFuO1xyXG4gIGJvdHRvbTogYm9vbGVhbjtcclxuICBsZWZ0OiBib29sZWFuO1xyXG59O1xyXG5cclxuZXhwb3J0IHR5cGUgQ29sbGlzaW9uQm9yZGVyRGlzdGFuY2UgPSB7XHJcbiAgdG9wOiBudW1iZXI7XHJcbiAgcmlnaHQ6IG51bWJlcjtcclxuICBib3R0b206IG51bWJlcjtcclxuICBsZWZ0OiBudW1iZXI7XHJcbn1cclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgSUNvbGxpc2lvbkV2ZW50IHtcclxuICB0YXJnZXRDbGFzczogc3RyaW5nO1xyXG4gIGF1dG9JbnNlcnRUYXJnZXRDbGFzczogYm9vbGVhbjtcclxuICBvbkNvbGxpZGluZyggZHJhZ2dhYmxlOiBIVE1MRWxlbWVudCwgdGFyZ2V0OiBIVE1MRWxlbWVudCwgY29sbGlkaW5nQXQ6IENvbGxpc2lvbkRpcmVjdGlvbkNoZWNrLCBkaXN0YW5jZUZyb21Cb3JkZXI6IENvbGxpc2lvbkJvcmRlckRpc3RhbmNlICk6IFByb21pc2U8dm9pZD47XHJcbiAgb25Ob3RDb2xsaWRpbmcoIGRyYWdnYWJsZTogSFRNTEVsZW1lbnQsIHRhcmdldDogSFRNTEVsZW1lbnQgKTogUHJvbWlzZTx2b2lkPjtcclxufVxyXG5cclxuZXhwb3J0IHR5cGUgQ29sbGlzaW9uVHJpZ2dlck9wdGlvbnMgPSB7XHJcbiAgdHJpZ2dlckVsZW1lbnQ6IEhUTUxFbGVtZW50O1xyXG4gIGV2ZW50czogSUNvbGxpc2lvbkV2ZW50W107XHJcbn07XHJcblxyXG5leHBvcnQgY2xhc3MgQ29sbGlzaW9uQm9yZGVyRGlzdGFuY2VFeHRyYXMge1xyXG4gIGNvbGxpc2lvbkJvcmRlckRpc3RhbmNlczogQ29sbGlzaW9uQm9yZGVyRGlzdGFuY2U7XHJcblxyXG4gIGNvbnN0cnVjdG9yKCBjb2xsaXNpb25Cb3JkZXJEaXN0YW5jZTogQ29sbGlzaW9uQm9yZGVyRGlzdGFuY2UgKSB7XHJcbiAgICB0aGlzLmNvbGxpc2lvbkJvcmRlckRpc3RhbmNlcyA9IGNvbGxpc2lvbkJvcmRlckRpc3RhbmNlO1xyXG4gIH1cclxuXHJcbiAgcHVibGljIGFueUdyZWF0ZXJUaGFuKCBudW06IG51bWJlciApOiBib29sZWFuIHtcclxuICAgIHJldHVybiB0aGlzLmNvbGxpc2lvbkJvcmRlckRpc3RhbmNlcy50b3AgPiBudW1cclxuICAgICAgfHwgdGhpcy5jb2xsaXNpb25Cb3JkZXJEaXN0YW5jZXMucmlnaHQgPiBudW1cclxuICAgICAgfHwgdGhpcy5jb2xsaXNpb25Cb3JkZXJEaXN0YW5jZXMuYm90dG9tID4gbnVtXHJcbiAgICAgIHx8IHRoaXMuY29sbGlzaW9uQm9yZGVyRGlzdGFuY2VzLmxlZnQgPiBudW07XHJcbiAgfVxyXG5cclxuICBwdWJsaWMgYW55TG93ZXJUaGFuKCBudW06IG51bWJlciApOiBib29sZWFuIHtcclxuICAgIHJldHVybiB0aGlzLmNvbGxpc2lvbkJvcmRlckRpc3RhbmNlcy50b3AgPCBudW1cclxuICAgICAgfHwgdGhpcy5jb2xsaXNpb25Cb3JkZXJEaXN0YW5jZXMucmlnaHQgPCBudW1cclxuICAgICAgfHwgdGhpcy5jb2xsaXNpb25Cb3JkZXJEaXN0YW5jZXMuYm90dG9tIDwgbnVtXHJcbiAgICAgIHx8IHRoaXMuY29sbGlzaW9uQm9yZGVyRGlzdGFuY2VzLmxlZnQgPCBudW07XHJcbiAgfVxyXG5cclxuICBwdWJsaWMgYW55RXF1YWxzKCBudW06IG51bWJlciApOiBib29sZWFuIHtcclxuICAgIHJldHVybiB0aGlzLmNvbGxpc2lvbkJvcmRlckRpc3RhbmNlcy50b3AgPT09IG51bVxyXG4gICAgICB8fCB0aGlzLmNvbGxpc2lvbkJvcmRlckRpc3RhbmNlcy5yaWdodCA9PT0gbnVtXHJcbiAgICAgIHx8IHRoaXMuY29sbGlzaW9uQm9yZGVyRGlzdGFuY2VzLmJvdHRvbSA9PT0gbnVtXHJcbiAgICAgIHx8IHRoaXMuY29sbGlzaW9uQm9yZGVyRGlzdGFuY2VzLmxlZnQgPT09IG51bTtcclxuICB9XHJcbn0iLCIvLyBUaGUgbW9kdWxlIGNhY2hlXG52YXIgX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fID0ge307XG5cbi8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG5mdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuXHR2YXIgY2FjaGVkTW9kdWxlID0gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXTtcblx0aWYgKGNhY2hlZE1vZHVsZSAhPT0gdW5kZWZpbmVkKSB7XG5cdFx0cmV0dXJuIGNhY2hlZE1vZHVsZS5leHBvcnRzO1xuXHR9XG5cdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG5cdHZhciBtb2R1bGUgPSBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdID0ge1xuXHRcdC8vIG5vIG1vZHVsZS5pZCBuZWVkZWRcblx0XHQvLyBubyBtb2R1bGUubG9hZGVkIG5lZWRlZFxuXHRcdGV4cG9ydHM6IHt9XG5cdH07XG5cblx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG5cdF9fd2VicGFja19tb2R1bGVzX19bbW9kdWxlSWRdKG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG5cdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG5cdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbn1cblxuIiwiLy8gZGVmaW5lIGdldHRlciBmdW5jdGlvbnMgZm9yIGhhcm1vbnkgZXhwb3J0c1xuX193ZWJwYWNrX3JlcXVpcmVfXy5kID0gKGV4cG9ydHMsIGRlZmluaXRpb24pID0+IHtcblx0Zm9yKHZhciBrZXkgaW4gZGVmaW5pdGlvbikge1xuXHRcdGlmKF9fd2VicGFja19yZXF1aXJlX18ubyhkZWZpbml0aW9uLCBrZXkpICYmICFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywga2V5KSkge1xuXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIGtleSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGRlZmluaXRpb25ba2V5XSB9KTtcblx0XHR9XG5cdH1cbn07IiwiX193ZWJwYWNrX3JlcXVpcmVfXy5vID0gKG9iaiwgcHJvcCkgPT4gKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIHByb3ApKSIsIi8vIGRlZmluZSBfX2VzTW9kdWxlIG9uIGV4cG9ydHNcbl9fd2VicGFja19yZXF1aXJlX18uciA9IChleHBvcnRzKSA9PiB7XG5cdGlmKHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnICYmIFN5bWJvbC50b1N0cmluZ1RhZykge1xuXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBTeW1ib2wudG9TdHJpbmdUYWcsIHsgdmFsdWU6ICdNb2R1bGUnIH0pO1xuXHR9XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG59OyIsImltcG9ydCB7IGdldENvbG9yUGFsZXR0ZUJ5Q29udGV4dCB9IGZyb20gJy4vQ2FudmFzVG9vbHMnO1xyXG5pbXBvcnQgeyBnZXRGaWxlRXh0ZW5zaW9uIH0gZnJvbSAnLi9GaWxlVG9vbHMnO1xyXG5pbXBvcnQgeyBEaW1lbnNpb25zIH0gZnJvbSAnLi9NYXRoVG9vbHMnO1xyXG5pbXBvcnQgeyBDb2xvclJHQkEgfSBmcm9tICcuL0NvbG9yUkdCQSc7XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gY2FsY3VsYXRlQXNwZWN0UmF0aW9GaXQoIHNyY0RpbWVuc2lvbnM6IERpbWVuc2lvbnMsIG91dHB1dERpbWVuc2lvbnM6IERpbWVuc2lvbnMgKTogRGltZW5zaW9ucyB7XHJcbiAgY29uc3QgcmF0aW86IG51bWJlciA9IE1hdGgubWluKCBvdXRwdXREaW1lbnNpb25zLndpZHRoIC8gc3JjRGltZW5zaW9ucy53aWR0aCwgb3V0cHV0RGltZW5zaW9ucy5oZWlnaHQgLyBzcmNEaW1lbnNpb25zLmhlaWdodCApO1xyXG5cclxuICByZXR1cm4geyB3aWR0aDogc3JjRGltZW5zaW9ucy53aWR0aCAqIHJhdGlvLCBoZWlnaHQ6IHNyY0RpbWVuc2lvbnMuaGVpZ2h0ICogcmF0aW8gfTtcclxufVxyXG5cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBnZXRJbWFnZVJlc2l6ZURpbWVuc2lvbnNLZWVwQXNwZWN0UmF0aW8oIHsgc3JjRGltZW5zaW9ucywgb3V0cHV0RGltZW5zaW9ucyB9OiB7IHNyY0RpbWVuc2lvbnM6IERpbWVuc2lvbnM7IG91dHB1dERpbWVuc2lvbnM6IERpbWVuc2lvbnM7IH0gKTogRGltZW5zaW9ucyB7XHJcbiAgaWYgKCBvdXRwdXREaW1lbnNpb25zLndpZHRoICYmIG91dHB1dERpbWVuc2lvbnMud2lkdGggPiAwICkge1xyXG4gICAgY29uc3QgcmF0aW86IG51bWJlciA9IG91dHB1dERpbWVuc2lvbnMud2lkdGggLyBzcmNEaW1lbnNpb25zLndpZHRoO1xyXG5cclxuICAgIHJldHVybiB7XHJcbiAgICAgIHdpZHRoOiBvdXRwdXREaW1lbnNpb25zLndpZHRoLFxyXG4gICAgICBoZWlnaHQ6IHNyY0RpbWVuc2lvbnMuaGVpZ2h0ICogcmF0aW9cclxuICAgIH07XHJcbiAgfSBlbHNlIGlmICggb3V0cHV0RGltZW5zaW9ucy5oZWlnaHQgJiYgb3V0cHV0RGltZW5zaW9ucy5oZWlnaHQgPiAwICkge1xyXG4gICAgY29uc3QgcmF0aW86IG51bWJlciA9IG91dHB1dERpbWVuc2lvbnMuaGVpZ2h0IC8gc3JjRGltZW5zaW9ucy5oZWlnaHQ7XHJcblxyXG4gICAgcmV0dXJuIHtcclxuICAgICAgd2lkdGg6IHNyY0RpbWVuc2lvbnMud2lkdGggKiByYXRpbyxcclxuICAgICAgaGVpZ2h0OiBvdXRwdXREaW1lbnNpb25zLmhlaWdodFxyXG4gICAgfTtcclxuICB9XHJcblxyXG4gIHJldHVybiB7XHJcbiAgICB3aWR0aDogc3JjRGltZW5zaW9ucy53aWR0aCxcclxuICAgIGhlaWdodDogc3JjRGltZW5zaW9ucy5oZWlnaHRcclxuICB9O1xyXG59XHJcblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0SW1hZ2VCeVVSTCggaW1hZ2VTcmM6IHN0cmluZyApOiBQcm9taXNlPEhUTUxJbWFnZUVsZW1lbnQ+IHtcclxuICByZXR1cm4gbmV3IFByb21pc2UoIGFzeW5jICggcmVzb2x2ZSApID0+IHtcclxuICAgIGNvbnN0IGltZyA9IG5ldyBJbWFnZSgpO1xyXG4gICAgaW1nLnNyYyA9IGF3YWl0IGZldGNoKCBpbWFnZVNyYyApXHJcbiAgICAgIC50aGVuKCByZXNwb25zZSA9PiByZXNwb25zZS5ibG9iKCkgKVxyXG4gICAgICAudGhlbiggYmxvYiA9PiBVUkwuY3JlYXRlT2JqZWN0VVJMKCBibG9iICkgKTtcclxuXHJcbiAgICBpbWcuc2V0QXR0cmlidXRlKCAndHlwZScsIGdldEZpbGVFeHRlbnNpb24oIGltYWdlU3JjICkgKVxyXG5cclxuICAgIGltZy5vbmxvYWQgPSAoKSA9PiB7XHJcbiAgICAgIHJlc29sdmUoIGltZyApO1xyXG4gICAgfVxyXG4gIH0gKVxyXG59XHJcblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0SW1hZ2VCeUlucHV0SWQoIGlucHV0SWQ6IHN0cmluZyApOiBQcm9taXNlPEhUTUxJbWFnZUVsZW1lbnQ+IHtcclxuICByZXR1cm4gbmV3IFByb21pc2UoIGFzeW5jICggcmVzb2x2ZSApID0+IHtcclxuICAgIGNvbnN0IGltZyA9IG5ldyBJbWFnZSgpO1xyXG4gICAgbGV0IGZpbGVMaXN0ID0gKCBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCggaW5wdXRJZCApIGFzIEhUTUxJbnB1dEVsZW1lbnQgKS5maWxlcztcclxuXHJcbiAgICBpZiAoIGZpbGVMaXN0ICYmIGZpbGVMaXN0Lmxlbmd0aCA+IDAgKSB7XHJcbiAgICAgIGltZy5zcmMgPSBVUkwuY3JlYXRlT2JqZWN0VVJMKCBmaWxlTGlzdC5pdGVtKCAwICkhICk7XHJcblxyXG4gICAgICBpbWcuc2V0QXR0cmlidXRlKCAndHlwZScsIGdldEZpbGVFeHRlbnNpb24oIGZpbGVMaXN0Lml0ZW0oIDAgKSEudHlwZSApICk7XHJcbiAgICAgIGltZy5vbmxvYWQgPSAoKSA9PiB7XHJcbiAgICAgICAgcmVzb2x2ZSggaW1nICk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9IClcclxufVxyXG5cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldEltYWdlQnlCbG9iKCBibG9iOiBCbG9iICk6IFByb21pc2U8SFRNTEltYWdlRWxlbWVudD4ge1xyXG4gIHJldHVybiBuZXcgUHJvbWlzZSggYXN5bmMgKCByZXNvbHZlICkgPT4ge1xyXG4gICAgY29uc3QgaW1nID0gbmV3IEltYWdlKCk7XHJcblxyXG4gICAgaW1nLnNyYyA9IFVSTC5jcmVhdGVPYmplY3RVUkwoIGJsb2IgKTtcclxuXHJcbiAgICBpbWcub25sb2FkID0gKCkgPT4ge1xyXG4gICAgICByZXNvbHZlKCBpbWcgKTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gaW1nO1xyXG4gIH0gKTtcclxufVxyXG5cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHJlc2l6ZUltYWdlRnJvbUlucHV0KCBpbnB1dElkOiBzdHJpbmcsIHJlc2l6ZURpbWVuc2lvbnM6IERpbWVuc2lvbnMgKTogUHJvbWlzZTxCbG9iIHwgbnVsbD4ge1xyXG4gIHJldHVybiBhd2FpdCBnZXRJbWFnZUJ5SW5wdXRJZCggaW5wdXRJZCApLnRoZW4oIGltZyA9PiByZXNpemVJbWFnZSggaW1nLCByZXNpemVEaW1lbnNpb25zICkgKTtcclxufVxyXG5cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHJlc2l6ZUltYWdlRnJvbVVSTCggaW1hZ2VTcmM6IHN0cmluZywgcmVzaXplRGltZW5zaW9uczogRGltZW5zaW9ucyApOiBQcm9taXNlPEJsb2IgfCBudWxsPiB7XHJcbiAgcmV0dXJuIGF3YWl0IGdldEltYWdlQnlVUkwoIGltYWdlU3JjICkudGhlbiggaW1nID0+IHJlc2l6ZUltYWdlKCBpbWcsIHJlc2l6ZURpbWVuc2lvbnMgKSApO1xyXG59XHJcblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0Q2FudmFzUmVzaXplSW1hZ2UoIGltZzogSFRNTEltYWdlRWxlbWVudCwgcmVzaXplRGltZW5zaW9uczogRGltZW5zaW9ucywgY2FudmFzQ29uZmlnPzogeyByZXN1bHRDYW52YXNDb250ZXh0PzogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJELCByZXNpemVDYW52YXNDb250ZXh0PzogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJELCByZXN1bHRDYW52YXNJZD86IHN0cmluZywgcmVzaXplQ2FudmFzSWQ/OiBzdHJpbmcgfSApOiBQcm9taXNlPHsgY2FudmFzOiBIVE1MQ2FudmFzRWxlbWVudCwgY29udGV4dDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEIH0+IHtcclxuICBjb25zdCByZXN1bHRDYW52YXMgPSBjYW52YXNDb25maWcgJiYgY2FudmFzQ29uZmlnLnJlc3VsdENhbnZhc0lkXHJcbiAgICA/ICggZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoIGNhbnZhc0NvbmZpZy5yZXN1bHRDYW52YXNJZCApIHx8IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoIFwiY2FudmFzXCIgKSApIGFzIEhUTUxDYW52YXNFbGVtZW50XHJcbiAgICA6IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoIFwiY2FudmFzXCIgKSBhcyBIVE1MQ2FudmFzRWxlbWVudDtcclxuXHJcbiAgY29uc3QgcmVzdWx0Q29udGV4dCA9IGNhbnZhc0NvbmZpZyAmJiBjYW52YXNDb25maWcucmVzdWx0Q2FudmFzQ29udGV4dFxyXG4gICAgPyBjYW52YXNDb25maWcucmVzdWx0Q2FudmFzQ29udGV4dFxyXG4gICAgOiByZXN1bHRDYW52YXMuZ2V0Q29udGV4dCggXCIyZFwiICkhO1xyXG5cclxuICBjb25zdCByZXN1bHREaW1lbnNpb25zID0gZ2V0SW1hZ2VSZXNpemVEaW1lbnNpb25zS2VlcEFzcGVjdFJhdGlvKCB7XHJcbiAgICBzcmNEaW1lbnNpb25zOiBpbWcsXHJcbiAgICBvdXRwdXREaW1lbnNpb25zOiByZXNpemVEaW1lbnNpb25zXHJcbiAgfSApO1xyXG5cclxuICByZXN1bHRDYW52YXMud2lkdGggPSByZXN1bHREaW1lbnNpb25zLndpZHRoO1xyXG4gIHJlc3VsdENhbnZhcy5oZWlnaHQgPSByZXN1bHREaW1lbnNpb25zLmhlaWdodDtcclxuXHJcbiAgY29uc3QgcmVzaXplQ2FudmFzID0gY2FudmFzQ29uZmlnICYmIGNhbnZhc0NvbmZpZy5yZXNpemVDYW52YXNJZFxyXG4gICAgPyAoIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCBjYW52YXNDb25maWcucmVzaXplQ2FudmFzSWQgKSB8fCBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCBcImNhbnZhc1wiICkgKSBhcyBIVE1MQ2FudmFzRWxlbWVudFxyXG4gICAgOiBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCBcImNhbnZhc1wiICkgYXMgSFRNTENhbnZhc0VsZW1lbnQ7XHJcblxyXG4gIGNvbnN0IHJlc2l6ZUNhbnZhc0NvbnRleHQgPSBjYW52YXNDb25maWcgJiYgY2FudmFzQ29uZmlnLnJlc2l6ZUNhbnZhc0NvbnRleHRcclxuICAgID8gY2FudmFzQ29uZmlnLnJlc2l6ZUNhbnZhc0NvbnRleHRcclxuICAgIDogcmVzdWx0Q2FudmFzLmdldENvbnRleHQoIFwiMmRcIiApITtcclxuXHJcbiAgcmVzaXplQ2FudmFzLndpZHRoID0gcmVzdWx0RGltZW5zaW9ucy53aWR0aDtcclxuICByZXNpemVDYW52YXMuaGVpZ2h0ID0gcmVzdWx0RGltZW5zaW9ucy5oZWlnaHQ7XHJcbiAgcmVzaXplQ2FudmFzQ29udGV4dC5kcmF3SW1hZ2UoIGltZywgMCwgMCwgcmVzaXplQ2FudmFzLndpZHRoLCByZXNpemVDYW52YXMuaGVpZ2h0ICk7XHJcblxyXG4gIHJlc2l6ZUNhbnZhc0NvbnRleHQuZHJhd0ltYWdlKCBpbWcsIDAsIDAsIHJlc2l6ZUNhbnZhcy53aWR0aCwgcmVzaXplQ2FudmFzLmhlaWdodCApO1xyXG5cclxuICByZXN1bHRDb250ZXh0LmRyYXdJbWFnZShcclxuICAgIHJlc2l6ZUNhbnZhcyxcclxuICAgIDAsXHJcbiAgICAwLFxyXG4gICAgcmVzaXplQ2FudmFzLndpZHRoLFxyXG4gICAgcmVzaXplQ2FudmFzLmhlaWdodCxcclxuICAgIDAsXHJcbiAgICAwLFxyXG4gICAgcmVzdWx0Q2FudmFzLndpZHRoLFxyXG4gICAgcmVzdWx0Q2FudmFzLmhlaWdodCApO1xyXG5cclxuICByZXR1cm4ge1xyXG4gICAgY2FudmFzOiByZXN1bHRDYW52YXMsXHJcbiAgICBjb250ZXh0OiByZXN1bHRDb250ZXh0XHJcbiAgfTtcclxufVxyXG5cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldEltYWdlUGFsZXR0ZUJ5VVJMKCBpbWFnZVNyYzogc3RyaW5nLCBkZXB0aDogbnVtYmVyID0gMiApIHtcclxuICBjb25zdCBpbWcgPSBhd2FpdCBnZXRJbWFnZUJ5VVJMKCBpbWFnZVNyYyApO1xyXG5cclxuICBjb25zdCBjb250ZXh0ID0gKCBhd2FpdCBkcmF3SW1hZ2VPbkNhbnZhcyggaW1nICkgKS5jb250ZXh0O1xyXG5cclxuICByZXR1cm4gZ2V0Q29sb3JQYWxldHRlQnlDb250ZXh0KCBjb250ZXh0LCBkZXB0aCApO1xyXG59XHJcblxyXG5cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldEltYWdlUGFsZXR0ZUJ5SW5wdXRJZCggaW5wdXRJZDogc3RyaW5nLCBkZXB0aDogbnVtYmVyID0gMiApIHtcclxuICBjb25zdCBpbWcgPSBhd2FpdCBnZXRJbWFnZUJ5SW5wdXRJZCggaW5wdXRJZCApO1xyXG5cclxuICBjb25zdCBjb250ZXh0ID0gKCBhd2FpdCBkcmF3SW1hZ2VPbkNhbnZhcyggaW1nICkgKS5jb250ZXh0O1xyXG5cclxuICByZXR1cm4gZ2V0Q29sb3JQYWxldHRlQnlDb250ZXh0KCBjb250ZXh0LCBkZXB0aCApO1xyXG59XHJcblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZHJhd0ltYWdlT25DYW52YXMoIGltZzogSFRNTEltYWdlRWxlbWVudCApIHtcclxuICBjb25zdCBjYW52YXMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCAnY2FudmFzJyApO1xyXG4gIGNhbnZhcy53aWR0aCA9IGltZy53aWR0aDtcclxuICBjYW52YXMuaGVpZ2h0ID0gaW1nLmhlaWdodDtcclxuXHJcbiAgY29uc3QgY29udGV4dCA9IGNhbnZhcy5nZXRDb250ZXh0KCBcIjJkXCIsIHtcclxuICAgIGFscGhhOiB0cnVlLFxyXG4gICAgd2lsbFJlYWRGcmVxdWVudGx5OiB0cnVlXHJcbiAgfSApITtcclxuXHJcbiAgY29udGV4dC5kcmF3SW1hZ2UoIGltZywgMCwgMCApO1xyXG5cclxuICByZXR1cm4ge1xyXG4gICAgY2FudmFzOiBjYW52YXMsXHJcbiAgICBjb250ZXh0OiBjb250ZXh0XHJcbiAgfTtcclxufVxyXG5cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldEdyYWRpZW50QnlJbWFnZVVSTCggaW1hZ2VTcmM6IHN0cmluZyApOiBQcm9taXNlPHN0cmluZz4ge1xyXG4gIGNvbnN0IHBhbGV0dGVCeVVSTCA9IGF3YWl0IGdldEltYWdlUGFsZXR0ZUJ5VVJMKCBpbWFnZVNyYyApO1xyXG4gIHJldHVybiBnZXRHcmFkaWVudEZyb21QYWxldHRlKCBwYWxldHRlQnlVUkwgKTtcclxufVxyXG5cclxuXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXRHcmFkaWVudEJ5SW1hZ2VJbnB1dElkKCBpbnB1dElkOiBzdHJpbmcgKSB7XHJcbiAgY29uc3QgcGFsZXR0ZUJ5SW5wdXRJZCA9IGF3YWl0IGdldEltYWdlUGFsZXR0ZUJ5SW5wdXRJZCggaW5wdXRJZCApO1xyXG4gIHJldHVybiBnZXRHcmFkaWVudEZyb21QYWxldHRlKCBwYWxldHRlQnlJbnB1dElkICk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBnZXRHcmFkaWVudEZyb21QYWxldHRlKCBpbWFnZVBhbGV0dGU6IENvbG9yUkdCQVtdICk6IHN0cmluZyB7XHJcbiAgcmV0dXJuIGltYWdlUGFsZXR0ZVxyXG4gICAgLm1hcCggYyA9PiBgcmdiYSgkeyBjLnRvU3RyaW5nKCkgfSlgIClcclxuICAgIC5qb2luKCAnLCAnIClcclxuICAgIC50cmltKCk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBzZXRFbGVtZW50QmFja2dyb3VuZEdyYWRpZW50QnlDYW52YXNDb250ZXh0KCBlbGVtZW50OiBIVE1MRWxlbWVudCwgY2FudmFzQ29udGV4dDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEICk6IHZvaWQge1xyXG4gIGNvbnN0IGltYWdlUGFsZXR0ZSA9IGdldENvbG9yUGFsZXR0ZUJ5Q29udGV4dCggY2FudmFzQ29udGV4dCwgMiApO1xyXG4gIGNvbnN0IGJnR3JhZGllbnQgPSBnZXRHcmFkaWVudEZyb21QYWxldHRlKCBpbWFnZVBhbGV0dGUgKTtcclxuXHJcbiAgZWxlbWVudC5zdHlsZS5iYWNrZ3JvdW5kSW1hZ2UgPSBgbGluZWFyLWdyYWRpZW50KCR7IGJnR3JhZGllbnQgfSlgO1xyXG59XHJcblxyXG4vLy8gYWRhcHRhw6fDo28gZGU6IGh0dHBzOi8vd3d3LmRlbGZ0c3RhY2suY29tL2hvd3RvL2phdmFzY3JpcHQvamF2YXNjcmlwdC1yZXNpemUtaW1hZ2VzL1xyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gcmVzaXplSW1hZ2UoIGltZzogSFRNTEltYWdlRWxlbWVudCwgcmVzaXplRGltZW5zaW9uczogRGltZW5zaW9ucyApOiBQcm9taXNlPEJsb2IgfCBudWxsPiB7XHJcbiAgY29uc3QgcmVzdWx0SW1hZ2VDYW52YXMgPSBhd2FpdCAoIGF3YWl0IGdldENhbnZhc1Jlc2l6ZUltYWdlKCBpbWcsIHJlc2l6ZURpbWVuc2lvbnMgKSApLmNhbnZhcztcclxuXHJcbiAgcmV0dXJuIG5ldyBQcm9taXNlKCBhc3luYyAoIHJlc29sdmUgKSA9PiB7XHJcbiAgICByZXN1bHRJbWFnZUNhbnZhcy50b0Jsb2IoIGIgPT4gcmVzb2x2ZSggYiEgKSwgYGltYWdlLyR7IGltZy5nZXRBdHRyaWJ1dGUoICd0eXBlJyApIHx8ICdwbmcnIH1gICk7XHJcbiAgfSApO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gcHJldmlld0ltYWdlKCB7IGRlZmF1bHRJbWFnZVNyYywgdXBsb2FkSW1hZ2VJbnB1dElkLCBwcmV2aWV3SW1hZ2VFbGVtZW50SWQgfTogeyBkZWZhdWx0SW1hZ2VTcmM6IHN0cmluZzsgdXBsb2FkSW1hZ2VJbnB1dElkPzogc3RyaW5nOyBwcmV2aWV3SW1hZ2VFbGVtZW50SWQ6IHN0cmluZzsgfSApIHtcclxuICBsZXQgZmlsZUxpc3Q7XHJcbiAgaWYgKCB1cGxvYWRJbWFnZUlucHV0SWQgKSB7XHJcbiAgICBmaWxlTGlzdCA9ICggZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoIHVwbG9hZEltYWdlSW5wdXRJZCApIGFzIEhUTUxJbnB1dEVsZW1lbnQgKS5maWxlcztcclxuICB9XHJcblxyXG4gIGNvbnN0IHByZXZpZXdJbWFnZUVsZW1lbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCggcHJldmlld0ltYWdlRWxlbWVudElkICkhIGFzIEhUTUxJbWFnZUVsZW1lbnQ7XHJcblxyXG4gIGlmICggIWZpbGVMaXN0IHx8IGZpbGVMaXN0Lmxlbmd0aCA8IDEgKSB7XHJcbiAgICBwcmV2aWV3SW1hZ2VFbGVtZW50LnNyYyA9IGRlZmF1bHRJbWFnZVNyYztcclxuICAgIHByZXZpZXdJbWFnZUVsZW1lbnQuc3R5bGUuY3Vyc29yID0gJ2RlZmF1bHQnO1xyXG4gICAgcmV0dXJuO1xyXG4gIH0gZWxzZSB7XHJcbiAgICBjb25zdCBibG9iVVJMID0gVVJMLmNyZWF0ZU9iamVjdFVSTCggZmlsZUxpc3QuaXRlbSggMCApISApO1xyXG4gICAgcHJldmlld0ltYWdlRWxlbWVudC5zcmMgPSBibG9iVVJMO1xyXG4gICAgcHJldmlld0ltYWdlRWxlbWVudC5vbmNsaWNrID0gXyA9PiB3aW5kb3cub3BlbiggYmxvYlVSTCwgJ19ibGFuaycgKTtcclxuICAgIHByZXZpZXdJbWFnZUVsZW1lbnQuc3R5bGUuY3Vyc29yID0gJ3BvaW50ZXInO1xyXG4gIH1cclxufVxyXG5cclxuIl0sIm5hbWVzIjpbImdldFBpeGVsQ29sb3JGcm9tQ2FudmFzIiwicGl4ZWxJbmRleCIsInBpeGVsQXJyYXkiLCJDb2xvclJHQkEiLCJnZXRDb2xvclBhbGV0dGVCeUNvbnRleHQiLCJjb250ZXh0IiwiZGVwdGgiLCJnZXRDb2xvclBhbGV0dGUiLCJudW1iZXJPZkNvbG9yQ2hhbm5lbHMiLCJnZXRJbWFnZURhdGEiLCJjYW52YXMiLCJ3aWR0aCIsImhlaWdodCIsImRhdGEiLCJjb2xvckFycmF5IiwiaSIsImxlbmd0aCIsInB1c2giLCJnZXRDb2xvckFycmF5QnlDb250ZXh0IiwicmdiVmFsdWVzIiwiY29sb3IiLCJyZWR1Y2UiLCJwcmV2IiwiY3VyciIsImlzVmFsaWQiLCJyIiwiZyIsImIiLCJhIiwiTlVMTCIsImVxdWFscyIsIk1hdGgiLCJyb3VuZCIsImNvbXBvbmVudFRvU29ydEJ5Iiwick1pbiIsIk51bWJlciIsIk1BWF9WQUxVRSIsImdNaW4iLCJiTWluIiwick1heCIsIk1JTl9WQUxVRSIsImdNYXgiLCJiTWF4IiwiZm9yRWFjaCIsInBpeGVsIiwibWluIiwibWF4IiwiclJhbmdlIiwiZ1JhbmdlIiwiYlJhbmdlIiwiYmlnZ2VzdFJhbmdlIiwiQ09MT1JfQ0hBTk5FTCIsIlIiLCJHIiwiQiIsImZpbmRCaWdnZXN0Q29sb3JSYW5nZSIsInNvcnQiLCJwMSIsInAyIiwibWlkIiwiZ2V0VW5pcXVlIiwic2xpY2UiLCJmaWx0ZXIiLCJjIiwiY29uc3RydWN0b3IiLCJ0aGlzIiwiY2xhbXAiLCJ0b1N0cmluZyIsInRvU3RyaW5nV2l0aG91dEFscGhhIiwiYXNBcnJheSIsIm5vQWxwaGEiLCJnZXRDb3B5IiwiaW5jcmVhc2VTYXR1cmF0aW9uIiwicGVyY2VudGFnZSIsIm1heFZhbHVlIiwiY29weUNvbG9yIiwiZmxvb3IiLCJhcnIiLCJyZW1vdmVUcmFuc3BhcmVudFBpeGVscyIsInYiLCJmaW5kSW5kZXgiLCJ2MiIsIkpTT04iLCJzdHJpbmdpZnkiLCJTeW1ib2wiLCJpdGVyYXRvciIsImNvbG9yMiIsImlzTmFOIiwiQkxBQ0siLCJnZXRGaWxlRXh0ZW5zaW9uIiwiZmlsZU5hbWUiLCJpc051bGxPckVtcHR5IiwiZGVmYXVsdEZpbGVTcmMiLCJzcGxpdCIsInBvcCIsImZpbGVUeXBlU3RyIiwibnVtIiwic3RyIiwiQ09OVkVSU0lPTl9VTklUIiwiRElSRUNUSU9OX1JFRkVSRU5DRSIsIlZFUlRJQ0FMX1JFRkVSRU5DRSIsIl9fd2VicGFja19tb2R1bGVfY2FjaGVfXyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsImNhY2hlZE1vZHVsZSIsInVuZGVmaW5lZCIsImV4cG9ydHMiLCJtb2R1bGUiLCJfX3dlYnBhY2tfbW9kdWxlc19fIiwiZCIsImRlZmluaXRpb24iLCJrZXkiLCJvIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJlbnVtZXJhYmxlIiwiZ2V0Iiwib2JqIiwicHJvcCIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwiY2FsbCIsInRvU3RyaW5nVGFnIiwidmFsdWUiLCJjYWxjdWxhdGVBc3BlY3RSYXRpb0ZpdCIsInNyY0RpbWVuc2lvbnMiLCJvdXRwdXREaW1lbnNpb25zIiwicmF0aW8iLCJnZXRJbWFnZVJlc2l6ZURpbWVuc2lvbnNLZWVwQXNwZWN0UmF0aW8iLCJhc3luYyIsImdldEltYWdlQnlVUkwiLCJpbWFnZVNyYyIsIlByb21pc2UiLCJyZXNvbHZlIiwiaW1nIiwiSW1hZ2UiLCJzcmMiLCJmZXRjaCIsInRoZW4iLCJyZXNwb25zZSIsImJsb2IiLCJVUkwiLCJjcmVhdGVPYmplY3RVUkwiLCJzZXRBdHRyaWJ1dGUiLCJvbmxvYWQiLCJnZXRJbWFnZUJ5SW5wdXRJZCIsImlucHV0SWQiLCJmaWxlTGlzdCIsImRvY3VtZW50IiwiZ2V0RWxlbWVudEJ5SWQiLCJmaWxlcyIsIml0ZW0iLCJ0eXBlIiwiZ2V0SW1hZ2VCeUJsb2IiLCJyZXNpemVJbWFnZUZyb21JbnB1dCIsInJlc2l6ZURpbWVuc2lvbnMiLCJyZXNpemVJbWFnZSIsInJlc2l6ZUltYWdlRnJvbVVSTCIsImdldENhbnZhc1Jlc2l6ZUltYWdlIiwiY2FudmFzQ29uZmlnIiwicmVzdWx0Q2FudmFzIiwicmVzdWx0Q2FudmFzSWQiLCJjcmVhdGVFbGVtZW50IiwicmVzdWx0Q29udGV4dCIsInJlc3VsdENhbnZhc0NvbnRleHQiLCJnZXRDb250ZXh0IiwicmVzdWx0RGltZW5zaW9ucyIsInJlc2l6ZUNhbnZhcyIsInJlc2l6ZUNhbnZhc0lkIiwicmVzaXplQ2FudmFzQ29udGV4dCIsImRyYXdJbWFnZSIsImdldEltYWdlUGFsZXR0ZUJ5VVJMIiwiZHJhd0ltYWdlT25DYW52YXMiLCJnZXRJbWFnZVBhbGV0dGVCeUlucHV0SWQiLCJhbHBoYSIsIndpbGxSZWFkRnJlcXVlbnRseSIsImdldEdyYWRpZW50QnlJbWFnZVVSTCIsImdldEdyYWRpZW50RnJvbVBhbGV0dGUiLCJnZXRHcmFkaWVudEJ5SW1hZ2VJbnB1dElkIiwiaW1hZ2VQYWxldHRlIiwibWFwIiwiam9pbiIsInRyaW0iLCJzZXRFbGVtZW50QmFja2dyb3VuZEdyYWRpZW50QnlDYW52YXNDb250ZXh0IiwiZWxlbWVudCIsImNhbnZhc0NvbnRleHQiLCJiZ0dyYWRpZW50Iiwic3R5bGUiLCJiYWNrZ3JvdW5kSW1hZ2UiLCJyZXN1bHRJbWFnZUNhbnZhcyIsInRvQmxvYiIsImdldEF0dHJpYnV0ZSIsInByZXZpZXdJbWFnZSIsImRlZmF1bHRJbWFnZVNyYyIsInVwbG9hZEltYWdlSW5wdXRJZCIsInByZXZpZXdJbWFnZUVsZW1lbnRJZCIsInByZXZpZXdJbWFnZUVsZW1lbnQiLCJjdXJzb3IiLCJibG9iVVJMIiwib25jbGljayIsIl8iLCJ3aW5kb3ciLCJvcGVuIl0sInNvdXJjZVJvb3QiOiIifQ==