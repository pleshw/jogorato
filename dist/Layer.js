var Layer;(()=>{"use strict";var e={631:()=>{HTMLElement.prototype.removeAllChildren=function(){for(;this.hasChildNodes();)this.firstChild&&this.removeChild(this.firstChild)},HTMLElement.prototype.makeCover=function(){this.style.display="flex",this.style.width="100%",this.style.height="100%",this.style.position="absolute",this.style.top="0",this.style.left="0"}},936:()=>{String.prototype.isNullOrEmpty=function(){return"string"!=typeof this&&!this&&""!==this},String.prototype.truncate=function(e,t="..."){return(this.length>e?this.substring(0,e)+t:this).toString()},String.prototype.removeAccents=function(){return this.normalize("NFD").replace(/[\u0300-\u036f]/g,"")},String.prototype.capitalizeFirstLetter=function(){return"string"!=typeof this?"":this.charAt(0).toUpperCase()+this.substring(1)},String.prototype.zeroBefore=function(){return this.padStart(2,"0")}}},t={};function r(s){var i=t[s];if(void 0!==i)return i.exports;var n=t[s]={exports:{}};return e[s](n,n.exports,r),n.exports}r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var s in t)r.o(t,s)&&!r.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:t[s]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var s={};(()=>{r.r(s),r.d(s,{Layer:()=>e}),r(631),r(936);class e{element;priority;backgroundStyle;backgroundImage;filter;classList;cursor;onClick;onMouseOver;onMouseDown;onMouseUp;constructor({priority:t,backgroundStyle:r,backgroundImage:s,filter:i,cursor:n,onClick:o,onMouseOver:l,onMouseDown:a,onMouseUp:h,classList:u}){this.priority=t,this.filter=i,this.backgroundStyle=r,this.backgroundImage=s,this.cursor=n,this.classList=u,this.onClick=o,this.onMouseOver=l,this.onMouseDown=a,this.onMouseUp=h,this.element=e.getLayerElement(this,this.priority,this.classList,this.backgroundStyle,this.backgroundImage,this.filter,this.cursor,this.onClick,this.onMouseOver,this.onMouseDown,this.onMouseUp)}setParent(e){if(e.insertAdjacentElement("beforeend",this.element),this.element.parentElement&&this.element.parentElement.id){const e=this.element.parentElement.id,t=this.element.parentElement.getElementsByClassName("layer").length-1;this.element.id=`layer${t}${e.capitalizeFirstLetter()}`}}setAsMainLayer(e){if(e.insertAdjacentElement("beforeend",this.element),this.element.parentElement&&this.element.parentElement.id){const e=this.element.parentElement.id;this.element.id=`mainLayer${e.capitalizeFirstLetter()}`}}static getLayerElement(e,t,r,s,i,n,o,l,a,h,u){const c=document.createElement("div");return c.classList.add(...r||[]),c.classList.add("layer"),c.makeCover(),c.style.zIndex=t>0?t.toString():"0",s&&(c.style.background=s),n&&(c.style.filter=n),o&&(c.style.cursor=o),l&&c.addEventListener("click",(()=>{l(e)})),a&&c.addEventListener("mouseover",(()=>{a(e)})),h&&c.addEventListener("mousedown",(()=>{h(e)})),u&&c.addEventListener("mouseup",(()=>{u(e)})),i&&this.setLayerBackgroundImage(c,i),c}static setLayerBackgroundImage(e,t){const r=document.createElement("img");r.src=t,r.style.userSelect="none",r.style.maxWidth="100%",r.style.height="auto",r.makeCover(),e.insertAdjacentElement("afterbegin",r)}}})(),Layer=s})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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VDJFLEVBQVMxRSxNQUFNOEUsT0FBU3pCLEVBQVcsRUFBSUEsRUFBU3ZDLFdBQWEsSUFFeER3QyxJQUNIb0IsRUFBUzFFLE1BQU0rRSxXQUFhekIsR0FHekJFLElBQ0hrQixFQUFTMUUsTUFBTXdELE9BQVNBLEdBR3JCRSxJQUNIZ0IsRUFBUzFFLE1BQU0wRCxPQUFTQSxHQUdyQkMsR0FDSGUsRUFBU00saUJBQWtCLFNBQVMsS0FBUXJCLEVBQVNjLEVBQU8sSUFHekRiLEdBQ0hjLEVBQVNNLGlCQUFrQixhQUFhLEtBQVFwQixFQUFhYSxFQUFPLElBR2pFWixHQUNIYSxFQUFTTSxpQkFBa0IsYUFBYSxLQUFRbkIsRUFBYVksRUFBTyxJQUdqRVgsR0FDSFksRUFBU00saUJBQWtCLFdBQVcsS0FBUWxCLEVBQVdXLEVBQU8sSUFHN0RsQixHQUNINUQsS0FBS3NGLHdCQUF5QlAsRUFBVW5CLEdBR25DbUIsQ0FDVCxDQUVRLDhCQUFPTyxDQUF5QlAsRUFBMEJuQixHQUNoRSxNQUFNMkIsRUFBZVAsU0FBU0MsY0FBZSxPQUM3Q00sRUFBYUMsSUFBTTVCLEVBQ25CMkIsRUFBYWxGLE1BQU1vRixXQUFhLE9BQ2hDRixFQUFhbEYsTUFBTXFGLFNBQVcsT0FDOUJILEVBQWFsRixNQUFNRyxPQUFTLE9BQzVCK0UsRUFBYW5GLFlBRWIyRSxFQUFTUixzQkFBdUIsYUFBY2dCLEVBQ2hELEUiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ET01FeHRlbnNpb25zLnRzIiwid2VicGFjazovLy8uL1N0cmluZ0V4dGVuc2lvbnMudHMiLCJ3ZWJwYWNrOi8vL3dlYnBhY2svYm9vdHN0cmFwIiwid2VicGFjazovLy93ZWJwYWNrL3J1bnRpbWUvY29tcGF0IGdldCBkZWZhdWx0IGV4cG9ydCIsIndlYnBhY2s6Ly8vd2VicGFjay9ydW50aW1lL2RlZmluZSBwcm9wZXJ0eSBnZXR0ZXJzIiwid2VicGFjazovLy93ZWJwYWNrL3J1bnRpbWUvaGFzT3duUHJvcGVydHkgc2hvcnRoYW5kIiwid2VicGFjazovLy93ZWJwYWNrL3J1bnRpbWUvbWFrZSBuYW1lc3BhY2Ugb2JqZWN0Iiwid2VicGFjazovLy8uL0xheWVyLnRzIl0sInNvdXJjZXNDb250ZW50IjpbImludGVyZmFjZSBIVE1MRWxlbWVudCB7XHJcbiAgcmVtb3ZlQWxsQ2hpbGRyZW4oKTogdm9pZDtcclxuICBtYWtlQ292ZXIoKTogdm9pZDtcclxufVxyXG5cclxuSFRNTEVsZW1lbnQucHJvdG90eXBlLnJlbW92ZUFsbENoaWxkcmVuID0gZnVuY3Rpb24gKCkge1xyXG4gIHdoaWxlICggdGhpcy5oYXNDaGlsZE5vZGVzKCkgKSB7XHJcbiAgICBpZiAoIHRoaXMuZmlyc3RDaGlsZCApIHtcclxuICAgICAgdGhpcy5yZW1vdmVDaGlsZCggdGhpcy5maXJzdENoaWxkICk7XHJcbiAgICB9XHJcbiAgfVxyXG59XHJcblxyXG5IVE1MRWxlbWVudC5wcm90b3R5cGUubWFrZUNvdmVyID0gZnVuY3Rpb24gKCkge1xyXG4gIHRoaXMuc3R5bGUuZGlzcGxheSA9ICdmbGV4JztcclxuICB0aGlzLnN0eWxlLndpZHRoID0gJzEwMCUnO1xyXG4gIHRoaXMuc3R5bGUuaGVpZ2h0ID0gJzEwMCUnO1xyXG4gIHRoaXMuc3R5bGUucG9zaXRpb24gPSAnYWJzb2x1dGUnO1xyXG4gIHRoaXMuc3R5bGUudG9wID0gJzAnO1xyXG4gIHRoaXMuc3R5bGUubGVmdCA9ICcwJztcclxufVxyXG4iLCJcclxuaW50ZXJmYWNlIFN0cmluZyB7XHJcbiAgdHJ1bmNhdGUoIG1heDogbnVtYmVyLCBkZWNvcmF0b3I6IHN0cmluZyApOiBzdHJpbmc7XHJcbiAgcmVtb3ZlQWNjZW50cygpOiBzdHJpbmc7XHJcbiAgY2FwaXRhbGl6ZUZpcnN0TGV0dGVyKCk6IHN0cmluZztcclxuICB6ZXJvQmVmb3JlKCk6IHN0cmluZztcclxuICBpc051bGxPckVtcHR5KCk6IGJvb2xlYW47XHJcbn1cclxuXHJcblN0cmluZy5wcm90b3R5cGUuaXNOdWxsT3JFbXB0eSA9IGZ1bmN0aW9uICgpOiBib29sZWFuIHtcclxuICByZXR1cm4gdHlwZW9mIHRoaXMgIT09ICdzdHJpbmcnICYmICF0aGlzICYmIHRoaXMgIT09ICcnO1xyXG59O1xyXG5cclxuU3RyaW5nLnByb3RvdHlwZS50cnVuY2F0ZSA9IGZ1bmN0aW9uICggbWF4OiBudW1iZXIsIGRlY29yYXRvcjogc3RyaW5nID0gJy4uLicgKTogc3RyaW5nIHtcclxuICByZXR1cm4gKCB0aGlzLmxlbmd0aCA+IG1heCA/IHRoaXMuc3Vic3RyaW5nKCAwLCBtYXggKSArIGRlY29yYXRvciA6IHRoaXMgKS50b1N0cmluZygpO1xyXG59O1xyXG5cclxuU3RyaW5nLnByb3RvdHlwZS5yZW1vdmVBY2NlbnRzID0gZnVuY3Rpb24gKCkge1xyXG4gIHJldHVybiB0aGlzLm5vcm1hbGl6ZSggJ05GRCcgKS5yZXBsYWNlKCAvW1xcdTAzMDAtXFx1MDM2Zl0vZywgXCJcIiApO1xyXG59XHJcblxyXG5TdHJpbmcucHJvdG90eXBlLmNhcGl0YWxpemVGaXJzdExldHRlciA9IGZ1bmN0aW9uICgpOiBzdHJpbmcge1xyXG4gIGlmICggdHlwZW9mIHRoaXMgIT09ICdzdHJpbmcnICkge1xyXG4gICAgcmV0dXJuICcnO1xyXG4gIH1cclxuXHJcbiAgcmV0dXJuIHRoaXMuY2hhckF0KCAwICkudG9VcHBlckNhc2UoKSArIHRoaXMuc3Vic3RyaW5nKCAxICk7XHJcbn1cclxuXHJcblN0cmluZy5wcm90b3R5cGUuemVyb0JlZm9yZSA9IGZ1bmN0aW9uICgpIHtcclxuICByZXR1cm4gdGhpcy5wYWRTdGFydCggMiwgJzAnICk7XHJcbn0iLCIvLyBUaGUgbW9kdWxlIGNhY2hlXG52YXIgX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fID0ge307XG5cbi8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG5mdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuXHR2YXIgY2FjaGVkTW9kdWxlID0gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXTtcblx0aWYgKGNhY2hlZE1vZHVsZSAhPT0gdW5kZWZpbmVkKSB7XG5cdFx0cmV0dXJuIGNhY2hlZE1vZHVsZS5leHBvcnRzO1xuXHR9XG5cdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG5cdHZhciBtb2R1bGUgPSBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdID0ge1xuXHRcdC8vIG5vIG1vZHVsZS5pZCBuZWVkZWRcblx0XHQvLyBubyBtb2R1bGUubG9hZGVkIG5lZWRlZFxuXHRcdGV4cG9ydHM6IHt9XG5cdH07XG5cblx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG5cdF9fd2VicGFja19tb2R1bGVzX19bbW9kdWxlSWRdKG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG5cdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG5cdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbn1cblxuIiwiLy8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbl9fd2VicGFja19yZXF1aXJlX18ubiA9IChtb2R1bGUpID0+IHtcblx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG5cdFx0KCkgPT4gKG1vZHVsZVsnZGVmYXVsdCddKSA6XG5cdFx0KCkgPT4gKG1vZHVsZSk7XG5cdF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsIHsgYTogZ2V0dGVyIH0pO1xuXHRyZXR1cm4gZ2V0dGVyO1xufTsiLCIvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9ucyBmb3IgaGFybW9ueSBleHBvcnRzXG5fX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSAoZXhwb3J0cywgZGVmaW5pdGlvbikgPT4ge1xuXHRmb3IodmFyIGtleSBpbiBkZWZpbml0aW9uKSB7XG5cdFx0aWYoX193ZWJwYWNrX3JlcXVpcmVfXy5vKGRlZmluaXRpb24sIGtleSkgJiYgIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBrZXkpKSB7XG5cdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywga2V5LCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZGVmaW5pdGlvbltrZXldIH0pO1xuXHRcdH1cblx0fVxufTsiLCJfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSAob2JqLCBwcm9wKSA9PiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwgcHJvcCkpIiwiLy8gZGVmaW5lIF9fZXNNb2R1bGUgb24gZXhwb3J0c1xuX193ZWJwYWNrX3JlcXVpcmVfXy5yID0gKGV4cG9ydHMpID0+IHtcblx0aWYodHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgU3ltYm9sLnRvU3RyaW5nVGFnKSB7XG5cdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFN5bWJvbC50b1N0cmluZ1RhZywgeyB2YWx1ZTogJ01vZHVsZScgfSk7XG5cdH1cblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcbn07IiwiaW1wb3J0ICcuL0RPTUV4dGVuc2lvbnMnO1xyXG5pbXBvcnQgJy4vU3RyaW5nRXh0ZW5zaW9ucyc7XHJcblxyXG5leHBvcnQgdHlwZSBMYXllckNvbmZpZyA9IHtcclxuICBwcmlvcml0eTogbnVtYmVyO1xyXG4gIGJhY2tncm91bmRTdHlsZT86IHN0cmluZztcclxuICBiYWNrZ3JvdW5kSW1hZ2U/OiBzdHJpbmcsXHJcbiAgY2xhc3NMaXN0Pzogc3RyaW5nW10sXHJcbiAgZmlsdGVyPzogc3RyaW5nO1xyXG4gIGN1cnNvcj86IHN0cmluZztcclxuICBvbkNsaWNrPzogKCBsYXllcjogTGF5ZXIgKSA9PiB2b2lkO1xyXG4gIG9uTW91c2VPdmVyPzogKCBsYXllcjogTGF5ZXIgKSA9PiB2b2lkO1xyXG4gIG9uTW91c2VEb3duPzogKCBsYXllcjogTGF5ZXIgKSA9PiB2b2lkO1xyXG4gIG9uTW91c2VVcD86ICggbGF5ZXI6IExheWVyICkgPT4gdm9pZDtcclxufTtcclxuXHJcbmV4cG9ydCBjbGFzcyBMYXllciB7XHJcbiAgcHVibGljIGVsZW1lbnQ6IEhUTUxFbGVtZW50O1xyXG4gIHB1YmxpYyBwcmlvcml0eTogbnVtYmVyO1xyXG4gIHB1YmxpYyBiYWNrZ3JvdW5kU3R5bGU/OiBzdHJpbmc7XHJcbiAgcHVibGljIGJhY2tncm91bmRJbWFnZT86IHN0cmluZztcclxuICBwdWJsaWMgZmlsdGVyPzogc3RyaW5nO1xyXG4gIHB1YmxpYyBjbGFzc0xpc3Q/OiBzdHJpbmdbXTtcclxuXHJcbiAgcHVibGljIGN1cnNvcj86IHN0cmluZztcclxuICBvbkNsaWNrPzogKCBsYXllcjogTGF5ZXIgKSA9PiB2b2lkO1xyXG4gIG9uTW91c2VPdmVyPzogKCBsYXllcjogTGF5ZXIgKSA9PiB2b2lkO1xyXG4gIG9uTW91c2VEb3duPzogKCBsYXllcjogTGF5ZXIgKSA9PiB2b2lkO1xyXG4gIG9uTW91c2VVcD86ICggbGF5ZXI6IExheWVyICkgPT4gdm9pZDtcclxuXHJcbiAgY29uc3RydWN0b3IoIHsgcHJpb3JpdHksIGJhY2tncm91bmRTdHlsZSwgYmFja2dyb3VuZEltYWdlLCBmaWx0ZXIsIGN1cnNvciwgb25DbGljaywgb25Nb3VzZU92ZXIsIG9uTW91c2VEb3duLCBvbk1vdXNlVXAsIGNsYXNzTGlzdCB9OiBMYXllckNvbmZpZyApIHtcclxuICAgIHRoaXMucHJpb3JpdHkgPSBwcmlvcml0eTtcclxuICAgIHRoaXMuZmlsdGVyID0gZmlsdGVyO1xyXG4gICAgdGhpcy5iYWNrZ3JvdW5kU3R5bGUgPSBiYWNrZ3JvdW5kU3R5bGU7XHJcbiAgICB0aGlzLmJhY2tncm91bmRJbWFnZSA9IGJhY2tncm91bmRJbWFnZTtcclxuICAgIHRoaXMuY3Vyc29yID0gY3Vyc29yO1xyXG4gICAgdGhpcy5jbGFzc0xpc3QgPSBjbGFzc0xpc3Q7XHJcbiAgICB0aGlzLm9uQ2xpY2sgPSBvbkNsaWNrO1xyXG4gICAgdGhpcy5vbk1vdXNlT3ZlciA9IG9uTW91c2VPdmVyO1xyXG4gICAgdGhpcy5vbk1vdXNlRG93biA9IG9uTW91c2VEb3duO1xyXG4gICAgdGhpcy5vbk1vdXNlVXAgPSBvbk1vdXNlVXA7XHJcbiAgICB0aGlzLmVsZW1lbnQgPSBMYXllci5nZXRMYXllckVsZW1lbnQoXHJcbiAgICAgIHRoaXMsXHJcbiAgICAgIHRoaXMucHJpb3JpdHksXHJcbiAgICAgIHRoaXMuY2xhc3NMaXN0LFxyXG4gICAgICB0aGlzLmJhY2tncm91bmRTdHlsZSxcclxuICAgICAgdGhpcy5iYWNrZ3JvdW5kSW1hZ2UsXHJcbiAgICAgIHRoaXMuZmlsdGVyLFxyXG4gICAgICB0aGlzLmN1cnNvcixcclxuICAgICAgdGhpcy5vbkNsaWNrLFxyXG4gICAgICB0aGlzLm9uTW91c2VPdmVyLFxyXG4gICAgICB0aGlzLm9uTW91c2VEb3duLFxyXG4gICAgICB0aGlzLm9uTW91c2VVcFxyXG4gICAgKTtcclxuICB9XHJcblxyXG4gIHB1YmxpYyBzZXRQYXJlbnQoIGVsZW1lbnQ6IEhUTUxFbGVtZW50ICkge1xyXG4gICAgZWxlbWVudC5pbnNlcnRBZGphY2VudEVsZW1lbnQoICdiZWZvcmVlbmQnLCB0aGlzLmVsZW1lbnQgKTtcclxuXHJcbiAgICBpZiAoIHRoaXMuZWxlbWVudC5wYXJlbnRFbGVtZW50ICYmIHRoaXMuZWxlbWVudC5wYXJlbnRFbGVtZW50LmlkICkge1xyXG4gICAgICBjb25zdCBwYXJlbnRJZCA9IHRoaXMuZWxlbWVudC5wYXJlbnRFbGVtZW50LmlkO1xyXG4gICAgICBjb25zdCBudW1MYXllcnMgPSB0aGlzLmVsZW1lbnQucGFyZW50RWxlbWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCAnbGF5ZXInICkubGVuZ3RoIC0gMTtcclxuICAgICAgdGhpcy5lbGVtZW50LmlkID0gYGxheWVyJHsgbnVtTGF5ZXJzIH0keyBwYXJlbnRJZC5jYXBpdGFsaXplRmlyc3RMZXR0ZXIoKSB9YDtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHB1YmxpYyBzZXRBc01haW5MYXllciggZWxlbWVudDogSFRNTEVsZW1lbnQgKSB7XHJcbiAgICBlbGVtZW50Lmluc2VydEFkamFjZW50RWxlbWVudCggJ2JlZm9yZWVuZCcsIHRoaXMuZWxlbWVudCApO1xyXG5cclxuICAgIGlmICggdGhpcy5lbGVtZW50LnBhcmVudEVsZW1lbnQgJiYgdGhpcy5lbGVtZW50LnBhcmVudEVsZW1lbnQuaWQgKSB7XHJcbiAgICAgIGNvbnN0IHBhcmVudElkID0gdGhpcy5lbGVtZW50LnBhcmVudEVsZW1lbnQuaWQ7XHJcbiAgICAgIHRoaXMuZWxlbWVudC5pZCA9IGBtYWluTGF5ZXIkeyBwYXJlbnRJZC5jYXBpdGFsaXplRmlyc3RMZXR0ZXIoKSB9YDtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHByaXZhdGUgc3RhdGljIGdldExheWVyRWxlbWVudCggbGF5ZXI6IExheWVyLCBwcmlvcml0eTogbnVtYmVyLCBjbGFzc0xpc3Q/OiBzdHJpbmdbXSwgYmFja2dyb3VuZFN0eWxlPzogc3RyaW5nLCBiYWNrZ3JvdW5kSW1hZ2U/OiBzdHJpbmcsIGZpbHRlcj86IHN0cmluZywgY3Vyc29yPzogc3RyaW5nLCBvbkNsaWNrPzogKCBsYXllcjogTGF5ZXIgKSA9PiB2b2lkLCBvbk1vdXNlT3Zlcj86ICggbGF5ZXI6IExheWVyICkgPT4gdm9pZCwgb25Nb3VzZURvd24/OiAoIGxheWVyOiBMYXllciApID0+IHZvaWQsIG9uTW91c2VVcD86ICggbGF5ZXI6IExheWVyICkgPT4gdm9pZCApOiBIVE1MRWxlbWVudCB7XHJcbiAgICBjb25zdCBsYXllckRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoICdkaXYnICk7XHJcblxyXG4gICAgbGF5ZXJEaXYuY2xhc3NMaXN0LmFkZCggLi4uKCBjbGFzc0xpc3QgfHwgW10gKSApO1xyXG4gICAgbGF5ZXJEaXYuY2xhc3NMaXN0LmFkZCggJ2xheWVyJyApO1xyXG4gICAgbGF5ZXJEaXYubWFrZUNvdmVyKCk7XHJcbiAgICBsYXllckRpdi5zdHlsZS56SW5kZXggPSBwcmlvcml0eSA+IDAgPyBwcmlvcml0eS50b1N0cmluZygpIDogJzAnO1xyXG5cclxuICAgIGlmICggYmFja2dyb3VuZFN0eWxlICkge1xyXG4gICAgICBsYXllckRpdi5zdHlsZS5iYWNrZ3JvdW5kID0gYmFja2dyb3VuZFN0eWxlO1xyXG4gICAgfVxyXG5cclxuICAgIGlmICggZmlsdGVyICkge1xyXG4gICAgICBsYXllckRpdi5zdHlsZS5maWx0ZXIgPSBmaWx0ZXI7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKCBjdXJzb3IgKSB7XHJcbiAgICAgIGxheWVyRGl2LnN0eWxlLmN1cnNvciA9IGN1cnNvcjtcclxuICAgIH1cclxuXHJcbiAgICBpZiAoIG9uQ2xpY2sgKSB7XHJcbiAgICAgIGxheWVyRGl2LmFkZEV2ZW50TGlzdGVuZXIoICdjbGljaycsICgpID0+IHsgb25DbGljayggbGF5ZXIgKSB9IClcclxuICAgIH1cclxuXHJcbiAgICBpZiAoIG9uTW91c2VPdmVyICkge1xyXG4gICAgICBsYXllckRpdi5hZGRFdmVudExpc3RlbmVyKCAnbW91c2VvdmVyJywgKCkgPT4geyBvbk1vdXNlT3ZlciggbGF5ZXIgKSB9IClcclxuICAgIH1cclxuXHJcbiAgICBpZiAoIG9uTW91c2VEb3duICkge1xyXG4gICAgICBsYXllckRpdi5hZGRFdmVudExpc3RlbmVyKCAnbW91c2Vkb3duJywgKCkgPT4geyBvbk1vdXNlRG93biggbGF5ZXIgKSB9IClcclxuICAgIH1cclxuXHJcbiAgICBpZiAoIG9uTW91c2VVcCApIHtcclxuICAgICAgbGF5ZXJEaXYuYWRkRXZlbnRMaXN0ZW5lciggJ21vdXNldXAnLCAoKSA9PiB7IG9uTW91c2VVcCggbGF5ZXIgKSB9IClcclxuICAgIH1cclxuXHJcbiAgICBpZiAoIGJhY2tncm91bmRJbWFnZSApIHtcclxuICAgICAgdGhpcy5zZXRMYXllckJhY2tncm91bmRJbWFnZSggbGF5ZXJEaXYsIGJhY2tncm91bmRJbWFnZSApXHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIGxheWVyRGl2O1xyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBzdGF0aWMgc2V0TGF5ZXJCYWNrZ3JvdW5kSW1hZ2UoIGxheWVyRGl2OiBIVE1MRGl2RWxlbWVudCwgYmFja2dyb3VuZEltYWdlOiBzdHJpbmcgKSB7XHJcbiAgICBjb25zdCBpbWFnZUVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCAnaW1nJyApO1xyXG4gICAgaW1hZ2VFbGVtZW50LnNyYyA9IGJhY2tncm91bmRJbWFnZTtcclxuICAgIGltYWdlRWxlbWVudC5zdHlsZS51c2VyU2VsZWN0ID0gJ25vbmUnO1xyXG4gICAgaW1hZ2VFbGVtZW50LnN0eWxlLm1heFdpZHRoID0gJzEwMCUnO1xyXG4gICAgaW1hZ2VFbGVtZW50LnN0eWxlLmhlaWdodCA9ICdhdXRvJztcclxuICAgIGltYWdlRWxlbWVudC5tYWtlQ292ZXIoKTtcclxuXHJcbiAgICBsYXllckRpdi5pbnNlcnRBZGphY2VudEVsZW1lbnQoICdhZnRlcmJlZ2luJywgaW1hZ2VFbGVtZW50ICk7XHJcbiAgfVxyXG59XHJcblxyXG5cclxuIl0sIm5hbWVzIjpbIkhUTUxFbGVtZW50IiwicHJvdG90eXBlIiwicmVtb3ZlQWxsQ2hpbGRyZW4iLCJ0aGlzIiwiaGFzQ2hpbGROb2RlcyIsImZpcnN0Q2hpbGQiLCJyZW1vdmVDaGlsZCIsIm1ha2VDb3ZlciIsInN0eWxlIiwiZGlzcGxheSIsIndpZHRoIiwiaGVpZ2h0IiwicG9zaXRpb24iLCJ0b3AiLCJsZWZ0IiwiU3RyaW5nIiwiaXNOdWxsT3JFbXB0eSIsInRydW5jYXRlIiwibWF4IiwiZGVjb3JhdG9yIiwibGVuZ3RoIiwic3Vic3RyaW5nIiwidG9TdHJpbmciLCJyZW1vdmVBY2NlbnRzIiwibm9ybWFsaXplIiwicmVwbGFjZSIsImNhcGl0YWxpemVGaXJzdExldHRlciIsImNoYXJBdCIsInRvVXBwZXJDYXNlIiwiemVyb0JlZm9yZSIsInBhZFN0YXJ0IiwiX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiY2FjaGVkTW9kdWxlIiwidW5kZWZpbmVkIiwiZXhwb3J0cyIsIm1vZHVsZSIsIl9fd2VicGFja19tb2R1bGVzX18iLCJuIiwiZ2V0dGVyIiwiX19lc01vZHVsZSIsImQiLCJhIiwiZGVmaW5pdGlvbiIsImtleSIsIm8iLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImVudW1lcmFibGUiLCJnZXQiLCJvYmoiLCJwcm9wIiwiaGFzT3duUHJvcGVydHkiLCJjYWxsIiwiciIsIlN5bWJvbCIsInRvU3RyaW5nVGFnIiwidmFsdWUiLCJMYXllciIsImVsZW1lbnQiLCJwcmlvcml0eSIsImJhY2tncm91bmRTdHlsZSIsImJhY2tncm91bmRJbWFnZSIsImZpbHRlciIsImNsYXNzTGlzdCIsImN1cnNvciIsIm9uQ2xpY2siLCJvbk1vdXNlT3ZlciIsIm9uTW91c2VEb3duIiwib25Nb3VzZVVwIiwiY29uc3RydWN0b3IiLCJnZXRMYXllckVsZW1lbnQiLCJzZXRQYXJlbnQiLCJpbnNlcnRBZGphY2VudEVsZW1lbnQiLCJwYXJlbnRFbGVtZW50IiwiaWQiLCJwYXJlbnRJZCIsIm51bUxheWVycyIsImdldEVsZW1lbnRzQnlDbGFzc05hbWUiLCJzZXRBc01haW5MYXllciIsImxheWVyIiwibGF5ZXJEaXYiLCJkb2N1bWVudCIsImNyZWF0ZUVsZW1lbnQiLCJhZGQiLCJ6SW5kZXgiLCJiYWNrZ3JvdW5kIiwiYWRkRXZlbnRMaXN0ZW5lciIsInNldExheWVyQmFja2dyb3VuZEltYWdlIiwiaW1hZ2VFbGVtZW50Iiwic3JjIiwidXNlclNlbGVjdCIsIm1heFdpZHRoIl0sInNvdXJjZVJvb3QiOiIifQ==