var AudioTools;(()=>{"use strict";var t={28:(t,e,n)=>{n.d(e,{hideElement:()=>o});const r=new Map;function o(t){t.style.display="block",t.style.position="absolute",t.style.zIndex="-1",t.style.opacity="0",t.style.width="0px !important",t.style.height="0px !important",t.setAttribute("hidden","")}new Map,window.addEventListener("keydown",(t=>{for(const e of r)t.code===e[0]&&e[1].forEach((e=>e(t)))}))},234:(t,e,n)=>{n.d(e,{getFileExtension:()=>o});var r=n(902);function o(t){if((0,r.isNullOrEmpty)(t))return"";const e=t.split(".").pop();if(e&&e!==t)return e;const n=t.split("/").pop();return n&&n!==t?n:""}},936:()=>{String.prototype.isNullOrEmpty=function(){return"string"!=typeof this&&!this&&""!==this},String.prototype.truncate=function(t,e="..."){return(this.length>t?this.substring(0,t)+e:this).toString()},String.prototype.removeAccents=function(){return this.normalize("NFD").replace(/[\u0300-\u036f]/g,"")},String.prototype.capitalizeFirstLetter=function(){return"string"!=typeof this?"":this.charAt(0).toUpperCase()+this.substring(1)},String.prototype.zeroBefore=function(){return this.padStart(2,"0")}},902:(t,e,n)=>{function r(t){return"string"!=typeof t||!t||""===t}n.d(e,{isNullOrEmpty:()=>r})}},e={};function n(r){var o=e[r];if(void 0!==o)return o.exports;var i=e[r]={exports:{}};return t[r](i,i.exports,n),i.exports}n.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return n.d(e,{a:e}),e},n.d=(t,e)=>{for(var r in e)n.o(e,r)&&!n.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})},n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),n.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})};var r={};(()=>{n.r(r),n.d(r,{audioElementHTML:()=>i,createInvisiblePlayer:()=>o,playButtonCSS:()=>s,sourceElementHTML:()=>a}),n(936);var t=n(28),e=n(234);function o(e,n){const r=document.createElement("div");r.classList.add("audio-container"),r.insertAdjacentHTML("afterbegin",i(e,n));const o=r.childNodes[0],a=function(t,e){const n=document.createElement("button");return n.classList.add("play-button"),setTimeout((()=>{t.paused&&n.classList.add("paused")}),300),n.addEventListener("click",(()=>{t.paused?(t.play(),n.classList.remove("paused")):(t.pause(),n.classList.add("paused"))})),function(t,e,n){e.addEventListener("play",(()=>{t.classList.remove("paused"),n&&n.onPlay&&n.onPlay(e),n&&n.onplay&&n.onplay(e)})),e.addEventListener("pause",(()=>{t.classList.add("paused"),n&&n.onPause&&n.onPause(e),n&&n.onpause&&n.onpause(e)}))}(n,t,e),n}(o,n);return r.insertAdjacentElement("beforeend",a),document.body.insertAdjacentElement("afterbegin",r),(0,t.hideElement)(o),(0,t.hideElement)(a),r}function i(t,e){return`<audio controls ${e?function(t){return` ${t.id?'id="'+t.id+'"':""} ${t.autoPlay||t.autoplay?"autoplay":""} ${t.muted?"muted":""} ${t.loop?"loop":""} ${t.preload?'preload="'+t.preload+'"':""}`.trimEnd()}(e):""}>\n    ${t.map((t=>a(t))).reduce(((t,e)=>t+e),"")}\n  </audio>`}function a(t){return`<source src="${t}" type="audio/${(0,e.getFileExtension)(t)}">`}function s(){return"\n    .play-button {\n      margin: 0;\n      padding: 0;\n      display: flex;\n      border: 0;\n      background: transparent;\n      box-sizing: border-box;\n      width: 0;\n      height: 34px;\n      border-color: transparent transparent transparent #202020;\n      transition: 100ms all ease;\n      cursor: pointer;\n      border-style: double;\n      border-width: 0px 0 0px 30px;\n    }\n\n    .play-button.paused {\n      border-style: solid;\n      border-width: 23px 0px 23px 34px;\n    }\n\n    .play-button:hover {\n      border-color: transparent transparent transparent #404040;\n    }\n  "}})(),AudioTools=r})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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LEdBQ3RELE1BQU8sbUJBQW9CQSxFQVM3QixTQUEyQ0EsR0FPekMsTUFBTyxJQU5TQSxFQUFheUIsR0FBSyxPQUFTekIsRUFBYXlCLEdBQUssSUFBTSxNQUM3Q3pCLEVBQWEwQixVQUFZMUIsRUFBYTJCLFNBQVcsV0FBYSxNQUNqRTNCLEVBQWE0QixNQUFRLFFBQVUsTUFDaEM1QixFQUFhNkIsS0FBTyxPQUFTLE1BQzFCN0IsRUFBYThCLFFBQVUsWUFBYzlCLEVBQWE4QixRQUFVLElBQU0sS0FFSUMsU0FDN0YsQ0FqQjRDQyxDQUFrQ2hDLEdBQWlCLFlBQ3hGRCxFQUFXa0MsS0FBS0MsR0FBT0MsRUFBbUJELEtBQVFFLFFBQVEsQ0FBRUMsRUFBS0MsSUFBVUQsRUFBTUMsR0FBTSxpQkFFOUYsQ0FFTyxTQUFTSCxFQUFtQkQsR0FDakMsTUFBTyxnQkFBaUJBLG1CQUFzQixJQUFBekYsa0JBQWtCeUYsTUFDbEUsQ0ErRE8sU0FBU0ssSUFDZCxNQUFPLGdtQkEwQlQsQyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL0RPTVRvb2xzLnRzIiwid2VicGFjazovLy8uL0ZpbGVUb29scy50cyIsIndlYnBhY2s6Ly8vLi9TdHJpbmdFeHRlbnNpb25zLnRzIiwid2VicGFjazovLy8uL1N0cmluZ1Rvb2xzLnRzIiwid2VicGFjazovLy93ZWJwYWNrL2Jvb3RzdHJhcCIsIndlYnBhY2s6Ly8vd2VicGFjay9ydW50aW1lL2NvbXBhdCBnZXQgZGVmYXVsdCBleHBvcnQiLCJ3ZWJwYWNrOi8vL3dlYnBhY2svcnVudGltZS9kZWZpbmUgcHJvcGVydHkgZ2V0dGVycyIsIndlYnBhY2s6Ly8vd2VicGFjay9ydW50aW1lL2hhc093blByb3BlcnR5IHNob3J0aGFuZCIsIndlYnBhY2s6Ly8vd2VicGFjay9ydW50aW1lL21ha2UgbmFtZXNwYWNlIG9iamVjdCIsIndlYnBhY2s6Ly8vLi9BdWRpb1Rvb2xzLnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFBvaW50MkQsIHJlZ2V4TnVtYmVyUGF0dGVybiB9IGZyb20gJy4vTWF0aFRvb2xzJztcclxuaW1wb3J0IHsgQ29sbGlzaW9uRGlyZWN0aW9uQ2hlY2ssIENvbGxpc2lvbkJvcmRlckRpc3RhbmNlIH0gZnJvbSAnLi90eXBlcyc7XHJcblxyXG5leHBvcnQgdHlwZSBLZXlib2FyZEV2ZW50Q2FsbGJhY2sgPSAoIGV2dDogS2V5Ym9hcmRFdmVudCApID0+IHZvaWQ7XHJcblxyXG5leHBvcnQgY29uc3QgZGljdEtleXNCeUFjdGlvbiA9IG5ldyBNYXA8c3RyaW5nLCBLZXlib2FyZEV2ZW50Q2FsbGJhY2tbXT4oKTtcclxuZXhwb3J0IGZ1bmN0aW9uIGFkZEFjdGlvbktleSgga2V5OiBzdHJpbmcsIGV2ZW50OiBLZXlib2FyZEV2ZW50Q2FsbGJhY2sgKSB7XHJcbiAgaWYgKCBkaWN0S2V5c0J5QWN0aW9uLmhhcygga2V5ICkgKSB7XHJcbiAgICBkaWN0S2V5c0J5QWN0aW9uLnNldCgga2V5LCBbZXZlbnQsIC4uLmRpY3RLZXlzQnlBY3Rpb24uZ2V0KCBrZXkgKSFdIClcclxuICB9IGVsc2Uge1xyXG4gICAgZGljdEtleXNCeUFjdGlvbi5zZXQoIGtleSwgW2V2ZW50XSApXHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gY2hlY2tFbGVtZW50Q29sbGlzaW9uKCBlbGVtZW50MTogSFRNTEVsZW1lbnQsIGVsZW1lbnQyOiBIVE1MRWxlbWVudCApOiBib29sZWFuIHtcclxuICBjb25zdCByZWN0MSA9IGVsZW1lbnQxLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xyXG4gIGNvbnN0IHJlY3QyID0gZWxlbWVudDIuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XHJcblxyXG4gIHJldHVybiAhKFxyXG4gICAgcmVjdDEudG9wID4gcmVjdDIuYm90dG9tIHx8XHJcbiAgICByZWN0MS5yaWdodCA8IHJlY3QyLmxlZnQgfHxcclxuICAgIHJlY3QxLmJvdHRvbSA8IHJlY3QyLnRvcCB8fFxyXG4gICAgcmVjdDEubGVmdCA+IHJlY3QyLnJpZ2h0XHJcbiAgKTtcclxufVxyXG5cclxuLy8vIEdldCB0aGUgZGVmYXVsdCBhdHRyaWJ1dGVzIGZyb20gdGhlIHRhcmdldCBlbGVtZW50XHJcbi8vLyBJZiBoYXZlIG5vdCBkZWZhdWx0IGF0dHJpYnV0ZSB3aXRoIHRoaXMgQGF0dHJpYnV0ZU5hbWUgb24gbWFwIHdpbGwgc2V0IHRoZSBjdXJyZW50IGF0dHJpYnV0ZSBhcyBkZWZhdWx0XHJcbi8vLyBJZiBoYXZlIG5vdCBkZWZhdWx0IGF0dHJpYnV0ZSB3aXRoIHRoaXMgQGF0dHJpYnV0ZU5hbWUgd2lsbCByZXR1cm4gYW4gZW1wdHkgc3RyaW5nXHJcbmV4cG9ydCBjb25zdCBtYXBEZWZhdWx0QXR0cmlidXRlc0J5RWxlbWVudCA9IG5ldyBNYXA8SFRNTEVsZW1lbnQsIE1hcDxzdHJpbmcsIHN0cmluZz4+KCk7XHJcbmV4cG9ydCBmdW5jdGlvbiBnZXREZWZhdWx0QXR0cmlidXRlRm9yVGFyZ2V0KCB0YXJnZXQ6IEhUTUxFbGVtZW50LCBhdHRyaWJ1dGVOYW1lOiBzdHJpbmcgKTogc3RyaW5nIHtcclxuICBpZiAoICFtYXBEZWZhdWx0QXR0cmlidXRlc0J5RWxlbWVudC5oYXMoIHRhcmdldCApICkge1xyXG4gICAgbWFwRGVmYXVsdEF0dHJpYnV0ZXNCeUVsZW1lbnQuc2V0KCB0YXJnZXQsIG5ldyBNYXA8c3RyaW5nLCBzdHJpbmc+KCkgKTtcclxuICB9XHJcblxyXG4gIGxldCByZXN1bHQ6IHN0cmluZyA9ICcnO1xyXG4gIGNvbnN0IGRlZmF1bHRBdHRyaWJ1dGVWYWx1ZXNCeU5hbWUgPSBtYXBEZWZhdWx0QXR0cmlidXRlc0J5RWxlbWVudC5nZXQoIHRhcmdldCApITtcclxuICBjb25zdCB0YXJnZXREZWZhdWx0QXR0cmlidXRlID0gIWRlZmF1bHRBdHRyaWJ1dGVWYWx1ZXNCeU5hbWUuaGFzKCBhdHRyaWJ1dGVOYW1lICkgPyB0YXJnZXQuZ2V0QXR0cmlidXRlKCBhdHRyaWJ1dGVOYW1lICkgOiBkZWZhdWx0QXR0cmlidXRlVmFsdWVzQnlOYW1lLmdldCggYXR0cmlidXRlTmFtZSApITtcclxuXHJcbiAgcmVzdWx0ID0gdGFyZ2V0RGVmYXVsdEF0dHJpYnV0ZSA/IHRhcmdldERlZmF1bHRBdHRyaWJ1dGUgOiAnJztcclxuICBzZXREZWZhdWx0QXR0cmlidXRlRm9yVGFyZ2V0KCB0YXJnZXQsIGF0dHJpYnV0ZU5hbWUsIHJlc3VsdCApO1xyXG5cclxuICByZXR1cm4gcmVzdWx0O1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gc2V0RGVmYXVsdEF0dHJpYnV0ZUZvclRhcmdldCggdGFyZ2V0OiBIVE1MRWxlbWVudCwgYXR0cmlidXRlTmFtZTogc3RyaW5nLCBuZXdEZWZhdWx0QXR0cmlidXRlOiBzdHJpbmcgKTogdm9pZCB7XHJcbiAgaWYgKCAhbWFwRGVmYXVsdEF0dHJpYnV0ZXNCeUVsZW1lbnQuaGFzKCB0YXJnZXQgKSApIHtcclxuICAgIG1hcERlZmF1bHRBdHRyaWJ1dGVzQnlFbGVtZW50LnNldCggdGFyZ2V0LCBuZXcgTWFwPHN0cmluZywgc3RyaW5nPigpICk7XHJcbiAgfVxyXG5cclxuICBtYXBEZWZhdWx0QXR0cmlidXRlc0J5RWxlbWVudC5nZXQoIHRhcmdldCApIS5zZXQoIGF0dHJpYnV0ZU5hbWUsIG5ld0RlZmF1bHRBdHRyaWJ1dGUgKTtcclxufVxyXG5cclxuLy8vIERpdmlkZSBvIGVsZW1lbnRvIEB0YXJnZXQgZW0gOSBcInF1YWRyYWRvc1wiIGlndWFpcyBlIHJldG9ybmEgZW0gcXVhaXMgcXVhZHJhZG9zIG8gZHJhZ2dhYmxlIGVzdMOhIGNvbGlkaW5kbyBjb20gbyB0YXJnZXRcclxuZXhwb3J0IGZ1bmN0aW9uIGdldENvbGxpc2lvbkRpcmVjdGlvbiggZHJhZ2dhYmxlOiBIVE1MRWxlbWVudCwgdGFyZ2V0OiBIVE1MRWxlbWVudCApOiBDb2xsaXNpb25EaXJlY3Rpb25DaGVjayB7XHJcbiAgY29uc3QgcmVjdDEgPSBkcmFnZ2FibGUuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XHJcbiAgY29uc3QgcmVjdDIgPSB0YXJnZXQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XHJcblxyXG4gIGNvbnN0IGlzVG9wID0gcmVjdDEuYm90dG9tID4gcmVjdDIudG9wICYmIHJlY3QxLnRvcCA8IHJlY3QyLnRvcCArIHJlY3QyLmhlaWdodCAvIDM7XHJcbiAgY29uc3QgaXNSaWdodCA9IHJlY3QxLmxlZnQgPCByZWN0Mi5yaWdodCAmJiByZWN0MS5yaWdodCA+IHJlY3QyLnJpZ2h0IC0gcmVjdDIud2lkdGggLyAzO1xyXG4gIGNvbnN0IGlzQ2VudGVyID0gcmVjdDEudG9wIDwgcmVjdDIuYm90dG9tICYmIHJlY3QxLmJvdHRvbSA+IHJlY3QyLnRvcCAmJiByZWN0MS5sZWZ0IDwgcmVjdDIucmlnaHQgJiYgcmVjdDEucmlnaHQgPiByZWN0Mi5sZWZ0O1xyXG4gIGNvbnN0IGlzQm90dG9tID0gcmVjdDEudG9wIDwgcmVjdDIuYm90dG9tIC0gcmVjdDIuaGVpZ2h0IC8gMyAmJiByZWN0MS5ib3R0b20gPiByZWN0Mi5ib3R0b20gLSByZWN0Mi5oZWlnaHQgLyAzO1xyXG4gIGNvbnN0IGlzTGVmdCA9IHJlY3QxLnJpZ2h0ID4gcmVjdDIubGVmdCAmJiByZWN0MS5sZWZ0IDwgcmVjdDIubGVmdCArIHJlY3QyLndpZHRoIC8gMztcclxuXHJcbiAgcmV0dXJuIHsgdG9wOiBpc1RvcCwgcmlnaHQ6IGlzUmlnaHQsIGNlbnRlcjogaXNDZW50ZXIsIGJvdHRvbTogaXNCb3R0b20sIGxlZnQ6IGlzTGVmdCB9O1xyXG59XHJcblxyXG4vLy8gcmV0dXJuIHRoZSBkaXN0YW5jZSBmcm9tIHRoZSBjZW50ZXIgb2YgdGhlIGRyYWdnYWJsZSB0byB0aGUgY2VudGVyIG9mIHRoZSB0YXJnZXQgZWxlbWVudCBmcm9tIGVhY2ggYm9yZGVyIFxyXG5leHBvcnQgZnVuY3Rpb24gZ2V0RGlzdGFuY2VGcm9tQm9yZGVyKCBkcmFnZ2FibGU6IEhUTUxFbGVtZW50LCB0YXJnZXQ6IEhUTUxFbGVtZW50ICk6IENvbGxpc2lvbkJvcmRlckRpc3RhbmNlIHtcclxuICBjb25zdCByZWN0MSA9IGRyYWdnYWJsZS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcclxuICBjb25zdCByZWN0MiA9IHRhcmdldC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcclxuXHJcbiAgY29uc3QgY2VudGVyID0ge1xyXG4gICAgeDogcmVjdDEubGVmdCArIHJlY3QxLndpZHRoIC8gMixcclxuICAgIHk6IHJlY3QxLnRvcCArIHJlY3QxLmhlaWdodCAvIDIsXHJcbiAgfTtcclxuXHJcbiAgY29uc3QgZGlzdGFuY2VGcm9tQm9yZGVyOiBDb2xsaXNpb25Cb3JkZXJEaXN0YW5jZSA9IHtcclxuICAgIHRvcDogY2VudGVyLnkgLSByZWN0Mi50b3AsXHJcbiAgICByaWdodDogcmVjdDIucmlnaHQgLSBjZW50ZXIueCxcclxuICAgIGJvdHRvbTogcmVjdDIuYm90dG9tIC0gY2VudGVyLnksXHJcbiAgICBsZWZ0OiBjZW50ZXIueCAtIHJlY3QyLmxlZnQsXHJcbiAgfTtcclxuXHJcbiAgcmV0dXJuIGRpc3RhbmNlRnJvbUJvcmRlcjtcclxufVxyXG5cclxud2luZG93LmFkZEV2ZW50TGlzdGVuZXIoICdrZXlkb3duJywgZXZ0ID0+IHtcclxuICBmb3IgKCBjb25zdCBwYWlyIG9mIGRpY3RLZXlzQnlBY3Rpb24gKSB7XHJcbiAgICBpZiAoIGV2dC5jb2RlID09PSBwYWlyWzBdICkge1xyXG4gICAgICBwYWlyWzFdLmZvckVhY2goIGtiRXZlbnQgPT4ga2JFdmVudCggZXZ0ICkgKTtcclxuICAgIH1cclxuICB9XHJcbn0gKTtcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBnZXRUcmFuc2Zvcm1Db29yZHNGcm9tRWxlbWVudCggZWxlbWVudDogSFRNTEVsZW1lbnQgKTogUG9pbnQyRCB7XHJcbiAgY29uc3QgYXJyQ29tcHV0ZWREcmFnZ2FibGVUcmFuc2xhdGUgPSAoIHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKCBlbGVtZW50ICkudHJhbnNmb3JtLm1hdGNoKCByZWdleE51bWJlclBhdHRlcm4gKSA/PyBbMCwgMF0gKS5tYXAoIG4gPT4gK24gKTtcclxuICByZXR1cm4ge1xyXG4gICAgeDogYXJyQ29tcHV0ZWREcmFnZ2FibGVUcmFuc2xhdGVbNF0gIT09IHVuZGVmaW5lZCA/IE1hdGgucm91bmQoIGFyckNvbXB1dGVkRHJhZ2dhYmxlVHJhbnNsYXRlWzRdICkgOiAwLFxyXG4gICAgeTogYXJyQ29tcHV0ZWREcmFnZ2FibGVUcmFuc2xhdGVbNV0gIT09IHVuZGVmaW5lZCA/IE1hdGgucm91bmQoIGFyckNvbXB1dGVkRHJhZ2dhYmxlVHJhbnNsYXRlWzVdICkgOiAwXHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gY2xpY2tFdmVudFRvQ29vcmRpbmF0ZXMoIGV2ZW50OiBNb3VzZUV2ZW50IHwgVG91Y2hFdmVudCApIHtcclxuICBpZiAoIGV2ZW50IGluc3RhbmNlb2YgTW91c2VFdmVudCApIHtcclxuICAgIHJldHVybiB7XHJcbiAgICAgIHg6IGV2ZW50LmNsaWVudFgsXHJcbiAgICAgIHk6IGV2ZW50LmNsaWVudFlcclxuICAgIH07XHJcbiAgfSBlbHNlIGlmICggZXZlbnQgaW5zdGFuY2VvZiBUb3VjaEV2ZW50ICkge1xyXG4gICAgY29uc3QgdG91Y2ggPSBldmVudC5jaGFuZ2VkVG91Y2hlc1swXTtcclxuICAgIHJldHVybiB7XHJcbiAgICAgIHg6IHRvdWNoLmNsaWVudFgsXHJcbiAgICAgIHk6IHRvdWNoLmNsaWVudFlcclxuICAgIH07XHJcbiAgfSBlbHNlIHtcclxuICAgIHRocm93IFwiRXZlbnQgbm90IEZvdW5kXCI7XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gaGlkZUVsZW1lbnQoIGVsZW1lbnQ6IEhUTUxFbGVtZW50ICkge1xyXG4gIGVsZW1lbnQuc3R5bGUuZGlzcGxheSA9ICdibG9jayc7XHJcbiAgZWxlbWVudC5zdHlsZS5wb3NpdGlvbiA9ICdhYnNvbHV0ZSc7XHJcbiAgZWxlbWVudC5zdHlsZS56SW5kZXggPSAnLTEnO1xyXG4gIGVsZW1lbnQuc3R5bGUub3BhY2l0eSA9ICcwJztcclxuICBlbGVtZW50LnN0eWxlLndpZHRoID0gJzBweCAhaW1wb3J0YW50JztcclxuICBlbGVtZW50LnN0eWxlLmhlaWdodCA9ICcwcHggIWltcG9ydGFudCc7XHJcbiAgZWxlbWVudC5zZXRBdHRyaWJ1dGUoICdoaWRkZW4nLCAnJyApO1xyXG59XHJcblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gc2xlZXBBc3luYyggbXM6IG51bWJlciApIHtcclxuICByZXR1cm4gYXdhaXQgbmV3IFByb21pc2U8dm9pZD4oICggcmVzb2x2ZSApID0+IHNldFRpbWVvdXQoICgpID0+IHJlc29sdmUoKSwgbXMgKSApO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gYmluZEVsZW1lbnRzQnlDaGVjayggdHJpZ2dlckVsZW1lbnQ6IEhUTUxJbnB1dEVsZW1lbnQsIHRhcmdldEVsZW1lbnQ6IEhUTUxFbGVtZW50LCBvbkNoZWNrOiBGdW5jdGlvbiwgb25VbmNoZWNrOiBGdW5jdGlvbiApIHtcclxuICBpZiAoIHRyaWdnZXJFbGVtZW50LmNoZWNrZWQgKSB7XHJcbiAgICBvbkNoZWNrKCB0YXJnZXRFbGVtZW50ICk7XHJcbiAgfVxyXG5cclxuICBjb25zdCB0cmlnZ2VyR3JvdXAgPSB0cmlnZ2VyRWxlbWVudC5uYW1lXHJcbiAgICA/IEFycmF5LmZyb20oIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoIGBbbmFtZT1cIiR7IHRyaWdnZXJFbGVtZW50Lm5hbWUgfVwiXWAgKSApXHJcbiAgICA6IFt0cmlnZ2VyRWxlbWVudF07XHJcblxyXG4gIHRyaWdnZXJHcm91cC5mb3JFYWNoKCB0ID0+IHQuYWRkRXZlbnRMaXN0ZW5lciggJ2NoYW5nZScsIGV2dCA9PiB7XHJcbiAgICBpZiAoIHRyaWdnZXJFbGVtZW50LmNoZWNrZWQgKSB7XHJcbiAgICAgIG9uQ2hlY2soIHRhcmdldEVsZW1lbnQsIGV2dCApO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgb25VbmNoZWNrKCB0YXJnZXRFbGVtZW50LCBldnQgKTtcclxuICAgIH1cclxuICB9ICkgKTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGlzTW9iaWxlQnJvd3NlcigpIHtcclxuICByZXR1cm4gL0FuZHJvaWR8aVBob25lL2kudGVzdCggbmF2aWdhdG9yLnVzZXJBZ2VudCApO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gaXNPblNjcmVlbiggZWxlbWVudDogSFRNTEVsZW1lbnQgKSB7XHJcbiAgY29uc3QgcmVjdCA9IGVsZW1lbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XHJcbiAgcmV0dXJuIChcclxuICAgIHJlY3QudG9wID49IDAgJiZcclxuICAgIHJlY3QubGVmdCA+PSAwICYmXHJcbiAgICByZWN0LmJvdHRvbSA8PSAoIHdpbmRvdy5pbm5lckhlaWdodCB8fCBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50SGVpZ2h0ICkgJiZcclxuICAgIHJlY3QucmlnaHQgPD0gKCB3aW5kb3cuaW5uZXJXaWR0aCB8fCBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50V2lkdGggKVxyXG4gICk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBiaW5kRWxlbWVudFZpZXdJZkNoZWNrZWQoIHRyaWdnZXJFbGVtZW50OiBIVE1MSW5wdXRFbGVtZW50LCB0YXJnZXRFbGVtZW50OiBIVE1MSW5wdXRFbGVtZW50LCBvcHRpb25zID0ge1xyXG4gIG9uQ2hlY2s6ICggdHJpZ2dlckVsZW1lbnQ6IEhUTUxJbnB1dEVsZW1lbnQsIHRhcmdldEVsZW1lbnQ6IEhUTUxFbGVtZW50ICkgPT4geyB9LFxyXG4gIG9uVW5jaGVjazogKCB0cmlnZ2VyRWxlbWVudDogSFRNTElucHV0RWxlbWVudCwgdGFyZ2V0RWxlbWVudDogSFRNTEVsZW1lbnQgKSA9PiB7IH1cclxufSApIHtcclxuICBiaW5kRWxlbWVudHNCeUNoZWNrKFxyXG4gICAgdHJpZ2dlckVsZW1lbnQsXHJcbiAgICB0YXJnZXRFbGVtZW50LFxyXG4gICAgKCBlbDogSFRNTEVsZW1lbnQgKSA9PiB7XHJcbiAgICAgIGVsLmNsYXNzTGlzdC5hZGQoICdzaG93JyApO1xyXG4gICAgICBvcHRpb25zLm9uQ2hlY2soIHRyaWdnZXJFbGVtZW50LCB0YXJnZXRFbGVtZW50ICk7XHJcbiAgICB9LFxyXG4gICAgKCBlbDogSFRNTEVsZW1lbnQgKSA9PiB7XHJcbiAgICAgIGVsLmNsYXNzTGlzdC5yZW1vdmUoICdzaG93JyApO1xyXG4gICAgICBvcHRpb25zLm9uVW5jaGVjayggdHJpZ2dlckVsZW1lbnQsIHRhcmdldEVsZW1lbnQgKTtcclxuICAgIH0sXHJcbiAgKTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGdldFZhbHVlRnJvbVJhZGlvR3JvdXAoIGdyb3VwTmFtZTogc3RyaW5nICk6IHN0cmluZyB8IHVuZGVmaW5lZCB7XHJcbiAgY29uc3QgZWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCBgW25hbWU9JHsgZ3JvdXBOYW1lIH1dOmNoZWNrZWRgICkgYXMgSFRNTElucHV0RWxlbWVudDtcclxuICBpZiAoIGVsICkge1xyXG4gICAgcmV0dXJuIGVsLnZhbHVlO1xyXG4gIH1cclxufVxyXG5cclxuXHJcbi8vIFJldG9ybmEgdW1hIGZ1bsOnw6NvIHF1ZSBuw6NvIHZhaSBzZXIgY29tcGxldGFkYSBjYXNvIHNlamEgY2hhbWFkYSBub3ZhbWVudGUgZW0geyBkZWxheSB9IG1pbGlzc2VndW5kb3NcclxuZXhwb3J0IGZ1bmN0aW9uIGRlYm91bmNlRmFjdG9yeSggZnVuYzogRnVuY3Rpb24sIGRlbGF5OiBudW1iZXIgKTogRnVuY3Rpb24ge1xyXG4gIGxldCBpbkRlYm91bmNlOiBudW1iZXI7XHJcbiAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcclxuICAgIGNvbnN0IGNvbnRleHQgPSB3aW5kb3c7XHJcbiAgICBjb25zdCBhcmdzID0gYXJndW1lbnRzO1xyXG4gICAgY2xlYXJUaW1lb3V0KCBpbkRlYm91bmNlICk7XHJcbiAgICBpbkRlYm91bmNlID0gd2luZG93LnNldFRpbWVvdXQoICgpID0+IGZ1bmMuYXBwbHkoIGNvbnRleHQsIGFyZ3MgKSwgZGVsYXkgKTtcclxuICB9O1xyXG59XHJcblxyXG4vLyBSZXRvcm5hIHVtYSBmdW7Dp8OjbyBxdWUgc8OzIHBvZGUgc2VyIGNvbXBsZXRhZGEgdW1hIHZleiBhIGNhZGEgeyBsaW1pdCB9IG1pbGlzc2VndW5kb3MgXHJcbmV4cG9ydCBmdW5jdGlvbiB0aHJvdHRsZUZhY3RvcnkoIGZ1bmM6IEZ1bmN0aW9uLCBsaW1pdDogbnVtYmVyICk6IEZ1bmN0aW9uIHtcclxuICBsZXQgbGFzdEZ1bmM6IG51bWJlcjtcclxuICBsZXQgbGFzdFJhbjogbnVtYmVyO1xyXG4gIHJldHVybiBmdW5jdGlvbiAoKSB7XHJcbiAgICBjb25zdCBjb250ZXh0ID0gd2luZG93O1xyXG4gICAgY29uc3QgYXJncyA9IGFyZ3VtZW50cztcclxuICAgIGlmICggIWxhc3RSYW4gKSB7XHJcbiAgICAgIGZ1bmMuYXBwbHkoIGNvbnRleHQsIGFyZ3MgKTtcclxuICAgICAgbGFzdFJhbiA9IERhdGUubm93KCk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBjbGVhclRpbWVvdXQoIGxhc3RGdW5jICk7XHJcbiAgICAgIGxhc3RGdW5jID0gd2luZG93LnNldFRpbWVvdXQoIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBpZiAoIERhdGUubm93KCkgLSBsYXN0UmFuID49IGxpbWl0ICkge1xyXG4gICAgICAgICAgZnVuYy5hcHBseSggY29udGV4dCwgYXJncyApO1xyXG4gICAgICAgICAgbGFzdFJhbiA9IERhdGUubm93KCk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9LCBsaW1pdCAtICggRGF0ZS5ub3coKSAtIGxhc3RSYW4gKSApO1xyXG4gICAgfVxyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIHNtb290aFNjcm9sbFRvKCBwb3M6IG51bWJlciApOiB2b2lkIHtcclxuICB3aW5kb3cuc2Nyb2xsVG8oIHtcclxuICAgIHRvcDogcG9zLFxyXG4gICAgYmVoYXZpb3I6ICdzbW9vdGgnLFxyXG4gIH0gKTtcclxufVxyXG5cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBzZWxlY3RPcHRpb25CeVRleHQoIGlkU2VsZWN0RWxlbWVudDogc3RyaW5nLCBzZWFyY2hUZXh0OiBzdHJpbmcsIGNvbnRhaW5zOiBib29sZWFuID0gZmFsc2UgKTogdm9pZCB7XHJcbiAgY29uc3Qgc2VsZWN0RWxlbWVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCBpZFNlbGVjdEVsZW1lbnQgKSBhcyBIVE1MU2VsZWN0RWxlbWVudDtcclxuXHJcbiAgaWYgKCAhc2VsZWN0RWxlbWVudCApIHtcclxuICAgIHJldHVybjtcclxuICB9XHJcblxyXG4gIGNvbnN0IG9wdGlvbnNFbGVtZW50b1NlbGVjdCA9IFsuLi5zZWxlY3RFbGVtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoICdvcHRpb24nICldO1xyXG5cclxuICBsZXQgc2VsZWN0ZWRPcHRpb247XHJcbiAgaWYgKCBjb250YWlucyApIHtcclxuICAgIHNlbGVjdGVkT3B0aW9uID0gb3B0aW9uc0VsZW1lbnRvU2VsZWN0XHJcbiAgICAgIC5maWx0ZXIoIGVsID0+IGVsLnRleHRDb250ZW50ICYmIGVsLnRleHRDb250ZW50LnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMoIHNlYXJjaFRleHQudG9Mb3dlckNhc2UoKSApIClbMF0udmFsdWU7XHJcbiAgfSBlbHNlIHtcclxuICAgIHNlbGVjdGVkT3B0aW9uID0gb3B0aW9uc0VsZW1lbnRvU2VsZWN0XHJcbiAgICAgIC5maWx0ZXIoIGVsID0+IGVsLnRleHRDb250ZW50ICYmIGVsLnRleHRDb250ZW50LnRvTG93ZXJDYXNlKCkgPT09IHNlYXJjaFRleHQudG9Mb3dlckNhc2UoKSApWzBdLnZhbHVlO1xyXG4gIH1cclxuXHJcbiAgc2VsZWN0RWxlbWVudC52YWx1ZSA9IHNlbGVjdGVkT3B0aW9uO1xyXG59XHJcblxyXG4iLCJcclxuLy8vIGh0dHBzOi8vc3RhY2tvdmVyZmxvdy5jb20vcXVlc3Rpb25zLzE2MjQ1NzY3L2NyZWF0aW5nLWEtYmxvYi1mcm9tLWEtYmFzZTY0LXN0cmluZy1pbi1qYXZhc2NyaXB0XHJcbi8vLyBEaXZpZGUgdW0gYXJxdWl2byBiaW7DoXJpbyBlbSB2w6FyaWFzIHBhcnRlcywgcGFyYSBxdWUgYSBjb252ZXJzw6NvIHNlamEgb3RpbWl6YWRhLCBlIHJldG9ybmEgdW1hIGJsb2IgY29tIG8gYXJxdWl2b1xyXG5cclxuaW1wb3J0IHsgaXNOdWxsT3JFbXB0eSB9IGZyb20gJy4vU3RyaW5nVG9vbHMnO1xyXG5cclxuLy8vIEBwYXJhbSBvblByb2dyZXNzbyBVbSBjYWxsYmFjayBxdWUgcmVjZWJlIGEgcG9yY2VudGFnZW0gZGUgcHJvZ3Jlc3NvIGF0dWFsIGRhIGNvbnZlcnPDo29cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGJhc2U2NFRvQmxvYiggdGV4dG9CYXNlNjQ6IHN0cmluZywgY29udGVudFR5cGU6IHN0cmluZywgdGFtYW5ob1BhcnRlcyA9IDEwMjQsIG9uUHJvZ3Jlc3MgPSAoIHByb2dyZXNzb0F0dWFsOiBudW1iZXIgKSA9PiB7IGNvbnNvbGUubG9nKCBwcm9ncmVzc29BdHVhbCApIH0gKSB7XHJcbiAgY29uc3QgYnl0ZUFycmF5cyA9IG5ldyBBcnJheTxVaW50OEFycmF5PigpO1xyXG4gIGNvbnN0IGZpbGVTaXplID0gdGV4dG9CYXNlNjQubGVuZ3RoO1xyXG5cclxuICAvLy8gcHJlZW5jaGUgYGJ5dGVBcnJheXNgIGNvbSBvcyBieXRlcyBkbyBhcnF1aXZvIHBlZ2FuZG8gdW1hIHBhcnRlIGRlIFwidGFtYW5ob1BhcnRlc1wiIHBvciB2ZXpcclxuICBmb3IgKCBsZXQgb2Zmc2V0ID0gMDsgb2Zmc2V0IDwgZmlsZVNpemU7IG9mZnNldCArPSB0YW1hbmhvUGFydGVzICkge1xyXG4gICAgLy8vIHBlZ2FuZG8gdW0gcGFydGUgZGUgdGFtYW5obyB7dGFtYW5ob1BhcnRlc30gZG8gYXJxdWl2b1xyXG4gICAgY29uc3QgY2h1bmsgPSB0ZXh0b0Jhc2U2NC5zbGljZSggb2Zmc2V0LCBvZmZzZXQgKyB0YW1hbmhvUGFydGVzICk7XHJcblxyXG4gICAgLy8vIGNvbnZlcnRlbmRvIGEgcGFydGUgZW0gdW0gYXJyYXkgY29tIGNhZGEgYnl0ZSBkZXNzZSBwZWRhw6dvIGRvIGFycXVpdm9cclxuICAgIGNvbnN0IGFyckJ5dGVzQ2h1bmsgPSBuZXcgQXJyYXk8bnVtYmVyPiggY2h1bmsubGVuZ3RoICk7XHJcbiAgICBmb3IgKCBsZXQgaSA9IDA7IGkgPCBjaHVuay5sZW5ndGg7IGkrKyApIHtcclxuICAgICAgYXJyQnl0ZXNDaHVua1tpXSA9IGNodW5rLmNoYXJDb2RlQXQoIGkgKTtcclxuICAgIH1cclxuXHJcbiAgICAvLy8gdHJhbnNmb3JtYW5kbyBlc3NlIGFycmF5IGVtIHVtIGFycmF5IGNvbSBjYW1wb3MgZG8gdGFtYW5obyBkZSB1bSBieXRlXHJcbiAgICAvLy8gZSB1bmluZG8gYXMgcGFydGVzIGrDoSBjb25jbHXDrWRhcyBkbyBhcnF1aXZvXHJcbiAgICBieXRlQXJyYXlzLnB1c2goIG5ldyBVaW50OEFycmF5KCBhcnJCeXRlc0NodW5rICkgKTtcclxuXHJcbiAgICAvLy8gQ2hhbWFuZG8gY2FsbGJhY2sgcXVlIGV4aWJlIG8gcHJvZ3Jlc3NvIHF1YW5kbyBvIHBhc3NvIGF0dWFsIGZvciBjb25jbHXDrWRvXHJcbiAgICBhd2FpdCBvblByb2dyZXNzKCAoIG9mZnNldCAvIGZpbGVTaXplICkgKiAxMDAgKTtcclxuICB9XHJcblxyXG4gIHJldHVybiBuZXcgQmxvYiggYnl0ZUFycmF5cywgeyB0eXBlOiBjb250ZW50VHlwZSB9ICk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBkb3dubG9hZEZpbGVGcm9tQmxvYiggYmxvYjogQmxvYiwgdGl0bGU6IHN0cmluZyApIHtcclxuICBsZXQgZmlsZSA9IFVSTC5jcmVhdGVPYmplY3RVUkwoIGJsb2IgKTtcclxuXHJcbiAgaWYgKCBmaWxlICkge1xyXG4gICAgbGV0IGEgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCAnYScgKTtcclxuICAgIGEuaHJlZiA9IGZpbGU7XHJcbiAgICBhLmRvd25sb2FkID0gdGl0bGU7XHJcbiAgICBhLmNsaWNrKCk7XHJcbiAgICBhLnJlbW92ZSgpO1xyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGdldEZpbGVFeHRlbnNpb24oIGZpbGVOYW1lOiBzdHJpbmcgKTogc3RyaW5nIHtcclxuICBpZiAoIGlzTnVsbE9yRW1wdHkoIGZpbGVOYW1lICkgKSByZXR1cm4gJyc7XHJcblxyXG4gIGNvbnN0IGRlZmF1bHRGaWxlU3JjID0gZmlsZU5hbWUuc3BsaXQoICcuJyApLnBvcCgpO1xyXG4gIGlmICggZGVmYXVsdEZpbGVTcmMgJiYgZGVmYXVsdEZpbGVTcmMgIT09IGZpbGVOYW1lICkge1xyXG4gICAgcmV0dXJuIGRlZmF1bHRGaWxlU3JjO1xyXG4gIH1cclxuXHJcbiAgY29uc3QgZmlsZVR5cGVTdHIgPSBmaWxlTmFtZS5zcGxpdCggJy8nICkucG9wKCk7XHJcbiAgaWYgKCBmaWxlVHlwZVN0ciAmJiBmaWxlVHlwZVN0ciAhPT0gZmlsZU5hbWUgKSB7XHJcbiAgICByZXR1cm4gZmlsZVR5cGVTdHI7XHJcbiAgfVxyXG5cclxuICByZXR1cm4gJyc7XHJcbn0iLCJcclxuaW50ZXJmYWNlIFN0cmluZyB7XHJcbiAgdHJ1bmNhdGUoIG1heDogbnVtYmVyLCBkZWNvcmF0b3I6IHN0cmluZyApOiBzdHJpbmc7XHJcbiAgcmVtb3ZlQWNjZW50cygpOiBzdHJpbmc7XHJcbiAgY2FwaXRhbGl6ZUZpcnN0TGV0dGVyKCk6IHN0cmluZztcclxuICB6ZXJvQmVmb3JlKCk6IHN0cmluZztcclxuICBpc051bGxPckVtcHR5KCk6IGJvb2xlYW47XHJcbn1cclxuXHJcblN0cmluZy5wcm90b3R5cGUuaXNOdWxsT3JFbXB0eSA9IGZ1bmN0aW9uICgpOiBib29sZWFuIHtcclxuICByZXR1cm4gdHlwZW9mIHRoaXMgIT09ICdzdHJpbmcnICYmICF0aGlzICYmIHRoaXMgIT09ICcnO1xyXG59O1xyXG5cclxuU3RyaW5nLnByb3RvdHlwZS50cnVuY2F0ZSA9IGZ1bmN0aW9uICggbWF4OiBudW1iZXIsIGRlY29yYXRvcjogc3RyaW5nID0gJy4uLicgKTogc3RyaW5nIHtcclxuICByZXR1cm4gKCB0aGlzLmxlbmd0aCA+IG1heCA/IHRoaXMuc3Vic3RyaW5nKCAwLCBtYXggKSArIGRlY29yYXRvciA6IHRoaXMgKS50b1N0cmluZygpO1xyXG59O1xyXG5cclxuU3RyaW5nLnByb3RvdHlwZS5yZW1vdmVBY2NlbnRzID0gZnVuY3Rpb24gKCkge1xyXG4gIHJldHVybiB0aGlzLm5vcm1hbGl6ZSggJ05GRCcgKS5yZXBsYWNlKCAvW1xcdTAzMDAtXFx1MDM2Zl0vZywgXCJcIiApO1xyXG59XHJcblxyXG5TdHJpbmcucHJvdG90eXBlLmNhcGl0YWxpemVGaXJzdExldHRlciA9IGZ1bmN0aW9uICgpOiBzdHJpbmcge1xyXG4gIGlmICggdHlwZW9mIHRoaXMgIT09ICdzdHJpbmcnICkge1xyXG4gICAgcmV0dXJuICcnO1xyXG4gIH1cclxuXHJcbiAgcmV0dXJuIHRoaXMuY2hhckF0KCAwICkudG9VcHBlckNhc2UoKSArIHRoaXMuc3Vic3RyaW5nKCAxICk7XHJcbn1cclxuXHJcblN0cmluZy5wcm90b3R5cGUuemVyb0JlZm9yZSA9IGZ1bmN0aW9uICgpIHtcclxuICByZXR1cm4gdGhpcy5wYWRTdGFydCggMiwgJzAnICk7XHJcbn0iLCJleHBvcnQgZnVuY3Rpb24gcmVtb3ZlQWNjZW50cyggc3RyOiBzdHJpbmcgKSB7XHJcbiAgcmV0dXJuIHN0ci5ub3JtYWxpemUoICdORkQnICkucmVwbGFjZSggL1tcXHUwMzAwLVxcdTAzNmZdL2csIFwiXCIgKTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGNhcGl0YWxpemVGaXJzdExldHRlciggc3RyOiBzdHJpbmcgKTogc3RyaW5nIHtcclxuICBpZiAoIHR5cGVvZiBzdHIgIT09ICdzdHJpbmcnICkge1xyXG4gICAgcmV0dXJuICcnO1xyXG4gIH1cclxuICByZXR1cm4gc3RyLmNoYXJBdCggMCApLnRvVXBwZXJDYXNlKCkgKyBzdHIuc3Vic3RyaW5nKCAxICk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBzZWFyY2hUZXJtKCBzdHJpbmdBcnJheTogc3RyaW5nW10sIHNlYXJjaFRlcm06IHN0cmluZyApOiBzdHJpbmdbXSB7XHJcbiAgcmV0dXJuIHN0cmluZ0FycmF5XHJcbiAgICAuZmlsdGVyKCAoIHY6IHN0cmluZyApID0+IHYudG9Mb3dlckNhc2UoKS5pbmRleE9mKCBzZWFyY2hUZXJtLnRvTG93ZXJDYXNlKCkgKSA+IC0xIClcclxuICAgIC5zbGljZSggMCwgMTAgKVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gemVyb0JlZm9yZSggbjogbnVtYmVyICkge1xyXG4gIHJldHVybiBuLnRvU3RyaW5nKCkucGFkU3RhcnQoIDIsICcwJyApO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gaXNOdWxsT3JFbXB0eSggc3RyOiBzdHJpbmcgKSB7XHJcbiAgcmV0dXJuIHR5cGVvZiBzdHIgIT09ICdzdHJpbmcnIHx8ICFzdHIgfHwgc3RyID09PSAnJ1xyXG59IiwiLy8gVGhlIG1vZHVsZSBjYWNoZVxudmFyIF9fd2VicGFja19tb2R1bGVfY2FjaGVfXyA9IHt9O1xuXG4vLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcblx0dmFyIGNhY2hlZE1vZHVsZSA9IF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF07XG5cdGlmIChjYWNoZWRNb2R1bGUgIT09IHVuZGVmaW5lZCkge1xuXHRcdHJldHVybiBjYWNoZWRNb2R1bGUuZXhwb3J0cztcblx0fVxuXHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuXHR2YXIgbW9kdWxlID0gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXSA9IHtcblx0XHQvLyBubyBtb2R1bGUuaWQgbmVlZGVkXG5cdFx0Ly8gbm8gbW9kdWxlLmxvYWRlZCBuZWVkZWRcblx0XHRleHBvcnRzOiB7fVxuXHR9O1xuXG5cdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuXHRfX3dlYnBhY2tfbW9kdWxlc19fW21vZHVsZUlkXShtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuXHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuXHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG59XG5cbiIsIi8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG5fX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSAobW9kdWxlKSA9PiB7XG5cdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuXHRcdCgpID0+IChtb2R1bGVbJ2RlZmF1bHQnXSkgOlxuXHRcdCgpID0+IChtb2R1bGUpO1xuXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCB7IGE6IGdldHRlciB9KTtcblx0cmV0dXJuIGdldHRlcjtcbn07IiwiLy8gZGVmaW5lIGdldHRlciBmdW5jdGlvbnMgZm9yIGhhcm1vbnkgZXhwb3J0c1xuX193ZWJwYWNrX3JlcXVpcmVfXy5kID0gKGV4cG9ydHMsIGRlZmluaXRpb24pID0+IHtcblx0Zm9yKHZhciBrZXkgaW4gZGVmaW5pdGlvbikge1xuXHRcdGlmKF9fd2VicGFja19yZXF1aXJlX18ubyhkZWZpbml0aW9uLCBrZXkpICYmICFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywga2V5KSkge1xuXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIGtleSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGRlZmluaXRpb25ba2V5XSB9KTtcblx0XHR9XG5cdH1cbn07IiwiX193ZWJwYWNrX3JlcXVpcmVfXy5vID0gKG9iaiwgcHJvcCkgPT4gKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIHByb3ApKSIsIi8vIGRlZmluZSBfX2VzTW9kdWxlIG9uIGV4cG9ydHNcbl9fd2VicGFja19yZXF1aXJlX18uciA9IChleHBvcnRzKSA9PiB7XG5cdGlmKHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnICYmIFN5bWJvbC50b1N0cmluZ1RhZykge1xuXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBTeW1ib2wudG9TdHJpbmdUYWcsIHsgdmFsdWU6ICdNb2R1bGUnIH0pO1xuXHR9XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG59OyIsImltcG9ydCAnLi9TdHJpbmdFeHRlbnNpb25zJztcclxuaW1wb3J0IHsgaGlkZUVsZW1lbnQgfSBmcm9tICcuL0RPTVRvb2xzJztcclxuaW1wb3J0IHsgZ2V0RmlsZUV4dGVuc2lvbiB9IGZyb20gJy4vRmlsZVRvb2xzJztcclxuXHJcbmV4cG9ydCB0eXBlIEF1ZGlvUGxheWVyQ29uZmlnID0ge1xyXG4gIGlkPzogc3RyaW5nO1xyXG4gIGF1dG9QbGF5PzogYm9vbGVhbjtcclxuICBhdXRvcGxheT86IGJvb2xlYW47XHJcbiAgbXV0ZWQ/OiBib29sZWFuO1xyXG4gIGxvb3A/OiBib29sZWFuO1xyXG4gIHByZWxvYWQ/OiAnYXV0bycgfCAnbWV0YWRhdGEnIHwgJ25vbmUnO1xyXG4gIG9ucGxheT86ICggYXVkaW9FbGVtZW50OiBIVE1MQXVkaW9FbGVtZW50ICkgPT4gdm9pZDtcclxuICBvbnBhdXNlPzogKCBhdWRpb0VsZW1lbnQ6IEhUTUxBdWRpb0VsZW1lbnQgKSA9PiB2b2lkO1xyXG4gIG9uUGxheT86ICggYXVkaW9FbGVtZW50OiBIVE1MQXVkaW9FbGVtZW50ICkgPT4gdm9pZDtcclxuICBvblBhdXNlPzogKCBhdWRpb0VsZW1lbnQ6IEhUTUxBdWRpb0VsZW1lbnQgKSA9PiB2b2lkO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlSW52aXNpYmxlUGxheWVyKCBhcnJTb3VyY2VzOiBzdHJpbmdbXSwgcGxheWVyQ29uZmlnPzogQXVkaW9QbGF5ZXJDb25maWcgKSB7XHJcbiAgY29uc3QgY29udGFpbmVyRGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCggJ2RpdicgKTtcclxuICBjb250YWluZXJEaXYuY2xhc3NMaXN0LmFkZCggJ2F1ZGlvLWNvbnRhaW5lcicgKTtcclxuICBjb250YWluZXJEaXYuaW5zZXJ0QWRqYWNlbnRIVE1MKCAnYWZ0ZXJiZWdpbicsIGF1ZGlvRWxlbWVudEhUTUwoIGFyclNvdXJjZXMsIHBsYXllckNvbmZpZyApICk7XHJcblxyXG4gIGNvbnN0IGF1ZGlvRWxlbWVudCA9IGNvbnRhaW5lckRpdi5jaGlsZE5vZGVzWzBdIGFzIEhUTUxBdWRpb0VsZW1lbnQ7XHJcbiAgY29uc3QgcGxheUJ1dHRvbiA9IGdldFBsYXlCdXR0b25FbGVtZW50KCBhdWRpb0VsZW1lbnQsIHBsYXllckNvbmZpZyApO1xyXG4gIGNvbnRhaW5lckRpdi5pbnNlcnRBZGphY2VudEVsZW1lbnQoICdiZWZvcmVlbmQnLCBwbGF5QnV0dG9uICk7XHJcblxyXG4gIGRvY3VtZW50LmJvZHkuaW5zZXJ0QWRqYWNlbnRFbGVtZW50KCAnYWZ0ZXJiZWdpbicsIGNvbnRhaW5lckRpdiApO1xyXG5cclxuICBoaWRlRWxlbWVudCggYXVkaW9FbGVtZW50ICk7XHJcbiAgaGlkZUVsZW1lbnQoIHBsYXlCdXR0b24gKTtcclxuICByZXR1cm4gY29udGFpbmVyRGl2O1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gYXVkaW9FbGVtZW50SFRNTCggYXJyU291cmNlczogc3RyaW5nW10sIHBsYXllckNvbmZpZz86IEF1ZGlvUGxheWVyQ29uZmlnICkge1xyXG4gIHJldHVybiBgPGF1ZGlvIGNvbnRyb2xzICR7IHBsYXllckNvbmZpZyA/IGF1ZGlvRWxlbWVudFBhcmFtc0J5UGxheWVyQ29uZmlnKCBwbGF5ZXJDb25maWcgKSA6IFwiXCIgfT5cclxuICAgICR7IGFyclNvdXJjZXMubWFwKCBzcmMgPT4gc291cmNlRWxlbWVudEhUTUwoIHNyYyApICkucmVkdWNlKCAoIGFjYywgbmV4dCApID0+IGFjYyArIG5leHQsICcnICkgfVxyXG4gIDwvYXVkaW8+YDtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIHNvdXJjZUVsZW1lbnRIVE1MKCBzcmM6IHN0cmluZyApIHtcclxuICByZXR1cm4gYDxzb3VyY2Ugc3JjPVwiJHsgc3JjIH1cIiB0eXBlPVwiYXVkaW8vJHsgZ2V0RmlsZUV4dGVuc2lvbiggc3JjICkgfVwiPmA7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGF1ZGlvRWxlbWVudFBhcmFtc0J5UGxheWVyQ29uZmlnKCBwbGF5ZXJDb25maWc6IEF1ZGlvUGxheWVyQ29uZmlnICkge1xyXG4gIGNvbnN0IHBhcmFtSWQgPSBwbGF5ZXJDb25maWcuaWQgPyAnaWQ9XCInICsgcGxheWVyQ29uZmlnLmlkICsgJ1wiJyA6ICcnO1xyXG4gIGNvbnN0IHBhcmFtQXV0b1BsYXkgPSBwbGF5ZXJDb25maWcuYXV0b1BsYXkgfHwgcGxheWVyQ29uZmlnLmF1dG9wbGF5ID8gJ2F1dG9wbGF5JyA6ICcnO1xyXG4gIGNvbnN0IHBhcmFtTXV0ZWQgPSBwbGF5ZXJDb25maWcubXV0ZWQgPyAnbXV0ZWQnIDogJyc7XHJcbiAgY29uc3QgcGFyYW1Mb29wID0gcGxheWVyQ29uZmlnLmxvb3AgPyAnbG9vcCcgOiAnJztcclxuICBjb25zdCBwYXJhbVByZWxvYWQgPSBwbGF5ZXJDb25maWcucHJlbG9hZCA/ICdwcmVsb2FkPVwiJyArIHBsYXllckNvbmZpZy5wcmVsb2FkICsgJ1wiJyA6ICcnO1xyXG5cclxuICByZXR1cm4gYCAkeyBwYXJhbUlkIH0gJHsgcGFyYW1BdXRvUGxheSB9ICR7IHBhcmFtTXV0ZWQgfSAkeyBwYXJhbUxvb3AgfSAkeyBwYXJhbVByZWxvYWQgfWAudHJpbUVuZCgpO1xyXG59XHJcblxyXG5mdW5jdGlvbiBnZXRQbGF5QnV0dG9uRWxlbWVudCggYXVkaW9FbGVtZW50OiBIVE1MQXVkaW9FbGVtZW50LCBwbGF5ZXJDb25maWc/OiBBdWRpb1BsYXllckNvbmZpZyApIHtcclxuICBjb25zdCBidXR0b25FbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCggJ2J1dHRvbicgKTtcclxuICBidXR0b25FbGVtZW50LmNsYXNzTGlzdC5hZGQoICdwbGF5LWJ1dHRvbicgKTtcclxuXHJcbiAgc2V0VGltZW91dCggKCkgPT4ge1xyXG4gICAgaWYgKCBhdWRpb0VsZW1lbnQucGF1c2VkICkge1xyXG4gICAgICBidXR0b25FbGVtZW50LmNsYXNzTGlzdC5hZGQoICdwYXVzZWQnICk7XHJcbiAgICB9XHJcbiAgfSwgMzAwICk7XHJcblxyXG4gIGJ1dHRvbkVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lciggJ2NsaWNrJywgKCkgPT4ge1xyXG4gICAgaWYgKCBhdWRpb0VsZW1lbnQucGF1c2VkICkge1xyXG4gICAgICBhdWRpb0VsZW1lbnQucGxheSgpO1xyXG4gICAgICBidXR0b25FbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoICdwYXVzZWQnICk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBhdWRpb0VsZW1lbnQucGF1c2UoKTtcclxuICAgICAgYnV0dG9uRWxlbWVudC5jbGFzc0xpc3QuYWRkKCAncGF1c2VkJyApO1xyXG4gICAgfVxyXG4gIH0gKTtcclxuXHJcbiAgc2V0QXVkaW9FbGVtZW50UGxheVBhdXNlRXZlbnRzKCBidXR0b25FbGVtZW50LCBhdWRpb0VsZW1lbnQsIHBsYXllckNvbmZpZyApO1xyXG5cclxuICByZXR1cm4gYnV0dG9uRWxlbWVudDtcclxufVxyXG5cclxuXHJcbmZ1bmN0aW9uIHNldEF1ZGlvRWxlbWVudFBsYXlQYXVzZUV2ZW50cyggYnV0dG9uRWxlbWVudDogSFRNTEJ1dHRvbkVsZW1lbnQsIGF1ZGlvRWxlbWVudDogSFRNTEF1ZGlvRWxlbWVudCwgcGxheWVyQ29uZmlnPzogQXVkaW9QbGF5ZXJDb25maWcgKSB7XHJcbiAgYXVkaW9FbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoICdwbGF5JywgKCkgPT4ge1xyXG4gICAgYnV0dG9uRWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKCAncGF1c2VkJyApO1xyXG4gICAgaWYgKCBwbGF5ZXJDb25maWcgJiYgcGxheWVyQ29uZmlnLm9uUGxheSApIHtcclxuICAgICAgcGxheWVyQ29uZmlnLm9uUGxheSggYXVkaW9FbGVtZW50ICk7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKCBwbGF5ZXJDb25maWcgJiYgcGxheWVyQ29uZmlnLm9ucGxheSApIHtcclxuICAgICAgcGxheWVyQ29uZmlnLm9ucGxheSggYXVkaW9FbGVtZW50ICk7XHJcbiAgICB9XHJcbiAgfSApO1xyXG5cclxuICBhdWRpb0VsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lciggJ3BhdXNlJywgKCkgPT4ge1xyXG4gICAgYnV0dG9uRWxlbWVudC5jbGFzc0xpc3QuYWRkKCAncGF1c2VkJyApO1xyXG4gICAgaWYgKCBwbGF5ZXJDb25maWcgJiYgcGxheWVyQ29uZmlnLm9uUGF1c2UgKSB7XHJcbiAgICAgIHBsYXllckNvbmZpZy5vblBhdXNlKCBhdWRpb0VsZW1lbnQgKTtcclxuICAgIH1cclxuXHJcbiAgICBpZiAoIHBsYXllckNvbmZpZyAmJiBwbGF5ZXJDb25maWcub25wYXVzZSApIHtcclxuICAgICAgcGxheWVyQ29uZmlnLm9ucGF1c2UoIGF1ZGlvRWxlbWVudCApO1xyXG4gICAgfVxyXG4gIH0gKTtcclxufVxyXG5cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBwbGF5QnV0dG9uQ1NTKCkge1xyXG4gIHJldHVybiBgXHJcbiAgICAucGxheS1idXR0b24ge1xyXG4gICAgICBtYXJnaW46IDA7XHJcbiAgICAgIHBhZGRpbmc6IDA7XHJcbiAgICAgIGRpc3BsYXk6IGZsZXg7XHJcbiAgICAgIGJvcmRlcjogMDtcclxuICAgICAgYmFja2dyb3VuZDogdHJhbnNwYXJlbnQ7XHJcbiAgICAgIGJveC1zaXppbmc6IGJvcmRlci1ib3g7XHJcbiAgICAgIHdpZHRoOiAwO1xyXG4gICAgICBoZWlnaHQ6IDM0cHg7XHJcbiAgICAgIGJvcmRlci1jb2xvcjogdHJhbnNwYXJlbnQgdHJhbnNwYXJlbnQgdHJhbnNwYXJlbnQgIzIwMjAyMDtcclxuICAgICAgdHJhbnNpdGlvbjogMTAwbXMgYWxsIGVhc2U7XHJcbiAgICAgIGN1cnNvcjogcG9pbnRlcjtcclxuICAgICAgYm9yZGVyLXN0eWxlOiBkb3VibGU7XHJcbiAgICAgIGJvcmRlci13aWR0aDogMHB4IDAgMHB4IDMwcHg7XHJcbiAgICB9XHJcblxyXG4gICAgLnBsYXktYnV0dG9uLnBhdXNlZCB7XHJcbiAgICAgIGJvcmRlci1zdHlsZTogc29saWQ7XHJcbiAgICAgIGJvcmRlci13aWR0aDogMjNweCAwcHggMjNweCAzNHB4O1xyXG4gICAgfVxyXG5cclxuICAgIC5wbGF5LWJ1dHRvbjpob3ZlciB7XHJcbiAgICAgIGJvcmRlci1jb2xvcjogdHJhbnNwYXJlbnQgdHJhbnNwYXJlbnQgdHJhbnNwYXJlbnQgIzQwNDA0MDtcclxuICAgIH1cclxuICBgO1xyXG59Il0sIm5hbWVzIjpbImRpY3RLZXlzQnlBY3Rpb24iLCJNYXAiLCJoaWRlRWxlbWVudCIsImVsZW1lbnQiLCJzdHlsZSIsImRpc3BsYXkiLCJwb3NpdGlvbiIsInpJbmRleCIsIm9wYWNpdHkiLCJ3aWR0aCIsImhlaWdodCIsInNldEF0dHJpYnV0ZSIsIndpbmRvdyIsImFkZEV2ZW50TGlzdGVuZXIiLCJldnQiLCJwYWlyIiwiY29kZSIsImZvckVhY2giLCJrYkV2ZW50IiwiZ2V0RmlsZUV4dGVuc2lvbiIsImZpbGVOYW1lIiwiaXNOdWxsT3JFbXB0eSIsImRlZmF1bHRGaWxlU3JjIiwic3BsaXQiLCJwb3AiLCJmaWxlVHlwZVN0ciIsIlN0cmluZyIsInByb3RvdHlwZSIsInRoaXMiLCJ0cnVuY2F0ZSIsIm1heCIsImRlY29yYXRvciIsImxlbmd0aCIsInN1YnN0cmluZyIsInRvU3RyaW5nIiwicmVtb3ZlQWNjZW50cyIsIm5vcm1hbGl6ZSIsInJlcGxhY2UiLCJjYXBpdGFsaXplRmlyc3RMZXR0ZXIiLCJjaGFyQXQiLCJ0b1VwcGVyQ2FzZSIsInplcm9CZWZvcmUiLCJwYWRTdGFydCIsInN0ciIsIl9fd2VicGFja19tb2R1bGVfY2FjaGVfXyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsImNhY2hlZE1vZHVsZSIsInVuZGVmaW5lZCIsImV4cG9ydHMiLCJtb2R1bGUiLCJfX3dlYnBhY2tfbW9kdWxlc19fIiwibiIsImdldHRlciIsIl9fZXNNb2R1bGUiLCJkIiwiYSIsImRlZmluaXRpb24iLCJrZXkiLCJvIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJlbnVtZXJhYmxlIiwiZ2V0Iiwib2JqIiwicHJvcCIsImhhc093blByb3BlcnR5IiwiY2FsbCIsInIiLCJTeW1ib2wiLCJ0b1N0cmluZ1RhZyIsInZhbHVlIiwiY3JlYXRlSW52aXNpYmxlUGxheWVyIiwiYXJyU291cmNlcyIsInBsYXllckNvbmZpZyIsImNvbnRhaW5lckRpdiIsImRvY3VtZW50IiwiY3JlYXRlRWxlbWVudCIsImNsYXNzTGlzdCIsImFkZCIsImluc2VydEFkamFjZW50SFRNTCIsImF1ZGlvRWxlbWVudEhUTUwiLCJhdWRpb0VsZW1lbnQiLCJjaGlsZE5vZGVzIiwicGxheUJ1dHRvbiIsImJ1dHRvbkVsZW1lbnQiLCJzZXRUaW1lb3V0IiwicGF1c2VkIiwicGxheSIsInJlbW92ZSIsInBhdXNlIiwib25QbGF5Iiwib25wbGF5Iiwib25QYXVzZSIsIm9ucGF1c2UiLCJzZXRBdWRpb0VsZW1lbnRQbGF5UGF1c2VFdmVudHMiLCJnZXRQbGF5QnV0dG9uRWxlbWVudCIsImluc2VydEFkamFjZW50RWxlbWVudCIsImJvZHkiLCJpZCIsImF1dG9QbGF5IiwiYXV0b3BsYXkiLCJtdXRlZCIsImxvb3AiLCJwcmVsb2FkIiwidHJpbUVuZCIsImF1ZGlvRWxlbWVudFBhcmFtc0J5UGxheWVyQ29uZmlnIiwibWFwIiwic3JjIiwic291cmNlRWxlbWVudEhUTUwiLCJyZWR1Y2UiLCJhY2MiLCJuZXh0IiwicGxheUJ1dHRvbkNTUyJdLCJzb3VyY2VSb290IjoiIn0=