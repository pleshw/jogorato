var ShareAttributeCollisionEvent;(()=>{"use strict";var t={28:(t,e,r)=>{r.d(e,{getDefaultAttributeForTarget:()=>n});const i=new Map,s=new Map;function n(t,e){s.has(t)||s.set(t,new Map);let r="";const i=s.get(t);return r=(i.has(e)?i.get(e):t.getAttribute(e))||"",function(t,e,r){s.has(t)||s.set(t,new Map),s.get(t).set(e,r)}(t,e,r),r}window.addEventListener("keydown",(t=>{for(const e of i)t.code===e[0]&&e[1].forEach((e=>e(t)))}))},513:(t,e,r)=>{r.d(e,{getElementsInteractingSet:()=>o,isValidTargetToTriggerEvent:()=>a,mapTargetsCollidingByTriggerElement:()=>s}),r(28);var i=r(676);new Map;const s=new Map,n=new Map;function a(t,e,r){return!!t.classList.contains(e)&&(!r||!new i.CollisionBorderDistanceExtras(r.distanceFromBorder).anyLowerThan(r.distanceThreshold))}function o(t){return n.has(t)||n.set(t,new Set),n.get(t)}new Map},676:(t,e,r)=>{var i,s,n,a;r.d(e,{CollisionBorderDistanceExtras:()=>o}),function(t){t[t.PIXEL=0]="PIXEL",t[t.PERCENTAGE=1]="PERCENTAGE"}(i||(i={})),function(t){t[t.HORIZONTAL=0]="HORIZONTAL",t[t.VERTICAL=1]="VERTICAL"}(s||(s={})),function(t){t[t.FROM_TOP=0]="FROM_TOP",t[t.FROM_BOTTOM=1]="FROM_BOTTOM"}(n||(n={})),function(t){t[t.R=0]="R",t[t.G=1]="G",t[t.B=2]="B",t[t.A=3]="A"}(a||(a={}));class o{collisionBorderDistances;constructor(t){this.collisionBorderDistances=t}anyGreaterThan(t){return this.collisionBorderDistances.top>t||this.collisionBorderDistances.right>t||this.collisionBorderDistances.bottom>t||this.collisionBorderDistances.left>t}anyLowerThan(t){return this.collisionBorderDistances.top<t||this.collisionBorderDistances.right<t||this.collisionBorderDistances.bottom<t||this.collisionBorderDistances.left<t}anyEquals(t){return this.collisionBorderDistances.top===t||this.collisionBorderDistances.right===t||this.collisionBorderDistances.bottom===t||this.collisionBorderDistances.left===t}}}},e={};function r(i){var s=e[i];if(void 0!==s)return s.exports;var n=e[i]={exports:{}};return t[i](n,n.exports,r),n.exports}r.d=(t,e)=>{for(var i in e)r.o(e,i)&&!r.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:e[i]})},r.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),r.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})};var i={};(()=>{r.r(i),r.d(i,{ShareAttributeCollisionEvent:()=>n});var t=r(28),e=r(513);const s={keepAttribute:!1};class n{keepAttribute;targetClass="attribute-target";autoInsertTargetClass=!0;constructor(t=s){this.keepAttribute=t.keepAttribute||!1}async onColliding(t,r,i,s){const n=t.getAttribute("shared-attribute-name"),a=t.getAttribute("shared-attribute-value");if(!a||!n||!(0,e.isValidTargetToTriggerEvent)(r,this.targetClass))return;const o=(0,e.getElementsInteractingSet)(r),l="total-sharing-attributes";t.classList.contains("dragging")?(t.classList.remove("sharing-attribute"),t.classList.add("ready-to-share-attribute"),this.handleElementInteractionShareAttribute(t,r,o,l)):(t.classList.add("sharing-attribute"),t.classList.remove("ready-to-share-attribute"),r.setAttribute(n,a),o.add(t),this.handleElementInteractionShareAttribute(t,r,o,l))}async onNotColliding(t,r){(0,e.getElementsInteractingSet)(r).size>0?r.classList.add("sharing-attribute"):this.onSharedAttributeEmpty(t,r),e.mapTargetsCollidingByTriggerElement.has(t)||e.mapTargetsCollidingByTriggerElement.set(t,new Set);const i=e.mapTargetsCollidingByTriggerElement.get(t);(i.delete(r)||0===i.size)&&t.classList.remove("sharing-attribute","ready-to-share-attribute")}handleElementInteractionShareAttribute(t,e,r,i){r.size>0?e.classList.add("sharing-attribute"):this.onSharedAttributeEmpty(t,e),e.setAttribute(i,r.size.toString())}onSharedAttributeEmpty(e,r){r.classList.remove("sharing-attribute");const i=e.getAttribute("shared-attribute-name");if(i){const e=(0,t.getDefaultAttributeForTarget)(r,i);e?r.setAttribute(i,e):this.keepAttribute||r.removeAttribute(i)}}}})(),ShareAttributeCollisionEvent=i})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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YWdnYWJsZUFjdGlvbi50cyIsIndlYnBhY2s6Ly8vLi90eXBlcy50cyIsIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vL3dlYnBhY2svcnVudGltZS9kZWZpbmUgcHJvcGVydHkgZ2V0dGVycyIsIndlYnBhY2s6Ly8vd2VicGFjay9ydW50aW1lL2hhc093blByb3BlcnR5IHNob3J0aGFuZCIsIndlYnBhY2s6Ly8vd2VicGFjay9ydW50aW1lL21ha2UgbmFtZXNwYWNlIG9iamVjdCIsIndlYnBhY2s6Ly8vLi9TaGFyZUF0dHJpYnV0ZUNvbGxpc2lvbkV2ZW50LnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFBvaW50MkQsIHJlZ2V4TnVtYmVyUGF0dGVybiB9IGZyb20gJy4vTWF0aFRvb2xzJztcclxuaW1wb3J0IHsgQ29sbGlzaW9uRGlyZWN0aW9uQ2hlY2ssIENvbGxpc2lvbkJvcmRlckRpc3RhbmNlIH0gZnJvbSAnLi90eXBlcyc7XHJcblxyXG5leHBvcnQgdHlwZSBLZXlib2FyZEV2ZW50Q2FsbGJhY2sgPSAoIGV2dDogS2V5Ym9hcmRFdmVudCApID0+IHZvaWQ7XHJcblxyXG5leHBvcnQgY29uc3QgZGljdEtleXNCeUFjdGlvbiA9IG5ldyBNYXA8c3RyaW5nLCBLZXlib2FyZEV2ZW50Q2FsbGJhY2tbXT4oKTtcclxuZXhwb3J0IGZ1bmN0aW9uIGFkZEFjdGlvbktleSgga2V5OiBzdHJpbmcsIGV2ZW50OiBLZXlib2FyZEV2ZW50Q2FsbGJhY2sgKSB7XHJcbiAgaWYgKCBkaWN0S2V5c0J5QWN0aW9uLmhhcygga2V5ICkgKSB7XHJcbiAgICBkaWN0S2V5c0J5QWN0aW9uLnNldCgga2V5LCBbZXZlbnQsIC4uLmRpY3RLZXlzQnlBY3Rpb24uZ2V0KCBrZXkgKSFdIClcclxuICB9IGVsc2Uge1xyXG4gICAgZGljdEtleXNCeUFjdGlvbi5zZXQoIGtleSwgW2V2ZW50XSApXHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gY2hlY2tFbGVtZW50Q29sbGlzaW9uKCBlbGVtZW50MTogSFRNTEVsZW1lbnQsIGVsZW1lbnQyOiBIVE1MRWxlbWVudCApOiBib29sZWFuIHtcclxuICBjb25zdCByZWN0MSA9IGVsZW1lbnQxLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xyXG4gIGNvbnN0IHJlY3QyID0gZWxlbWVudDIuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XHJcblxyXG4gIHJldHVybiAhKFxyXG4gICAgcmVjdDEudG9wID4gcmVjdDIuYm90dG9tIHx8XHJcbiAgICByZWN0MS5yaWdodCA8IHJlY3QyLmxlZnQgfHxcclxuICAgIHJlY3QxLmJvdHRvbSA8IHJlY3QyLnRvcCB8fFxyXG4gICAgcmVjdDEubGVmdCA+IHJlY3QyLnJpZ2h0XHJcbiAgKTtcclxufVxyXG5cclxuLy8vIEdldCB0aGUgZGVmYXVsdCBhdHRyaWJ1dGVzIGZyb20gdGhlIHRhcmdldCBlbGVtZW50XHJcbi8vLyBJZiBoYXZlIG5vdCBkZWZhdWx0IGF0dHJpYnV0ZSB3aXRoIHRoaXMgQGF0dHJpYnV0ZU5hbWUgb24gbWFwIHdpbGwgc2V0IHRoZSBjdXJyZW50IGF0dHJpYnV0ZSBhcyBkZWZhdWx0XHJcbi8vLyBJZiBoYXZlIG5vdCBkZWZhdWx0IGF0dHJpYnV0ZSB3aXRoIHRoaXMgQGF0dHJpYnV0ZU5hbWUgd2lsbCByZXR1cm4gYW4gZW1wdHkgc3RyaW5nXHJcbmV4cG9ydCBjb25zdCBtYXBEZWZhdWx0QXR0cmlidXRlc0J5RWxlbWVudCA9IG5ldyBNYXA8SFRNTEVsZW1lbnQsIE1hcDxzdHJpbmcsIHN0cmluZz4+KCk7XHJcbmV4cG9ydCBmdW5jdGlvbiBnZXREZWZhdWx0QXR0cmlidXRlRm9yVGFyZ2V0KCB0YXJnZXQ6IEhUTUxFbGVtZW50LCBhdHRyaWJ1dGVOYW1lOiBzdHJpbmcgKTogc3RyaW5nIHtcclxuICBpZiAoICFtYXBEZWZhdWx0QXR0cmlidXRlc0J5RWxlbWVudC5oYXMoIHRhcmdldCApICkge1xyXG4gICAgbWFwRGVmYXVsdEF0dHJpYnV0ZXNCeUVsZW1lbnQuc2V0KCB0YXJnZXQsIG5ldyBNYXA8c3RyaW5nLCBzdHJpbmc+KCkgKTtcclxuICB9XHJcblxyXG4gIGxldCByZXN1bHQ6IHN0cmluZyA9ICcnO1xyXG4gIGNvbnN0IGRlZmF1bHRBdHRyaWJ1dGVWYWx1ZXNCeU5hbWUgPSBtYXBEZWZhdWx0QXR0cmlidXRlc0J5RWxlbWVudC5nZXQoIHRhcmdldCApITtcclxuICBjb25zdCB0YXJnZXREZWZhdWx0QXR0cmlidXRlID0gIWRlZmF1bHRBdHRyaWJ1dGVWYWx1ZXNCeU5hbWUuaGFzKCBhdHRyaWJ1dGVOYW1lICkgPyB0YXJnZXQuZ2V0QXR0cmlidXRlKCBhdHRyaWJ1dGVOYW1lICkgOiBkZWZhdWx0QXR0cmlidXRlVmFsdWVzQnlOYW1lLmdldCggYXR0cmlidXRlTmFtZSApITtcclxuXHJcbiAgcmVzdWx0ID0gdGFyZ2V0RGVmYXVsdEF0dHJpYnV0ZSA/IHRhcmdldERlZmF1bHRBdHRyaWJ1dGUgOiAnJztcclxuICBzZXREZWZhdWx0QXR0cmlidXRlRm9yVGFyZ2V0KCB0YXJnZXQsIGF0dHJpYnV0ZU5hbWUsIHJlc3VsdCApO1xyXG5cclxuICByZXR1cm4gcmVzdWx0O1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gc2V0RGVmYXVsdEF0dHJpYnV0ZUZvclRhcmdldCggdGFyZ2V0OiBIVE1MRWxlbWVudCwgYXR0cmlidXRlTmFtZTogc3RyaW5nLCBuZXdEZWZhdWx0QXR0cmlidXRlOiBzdHJpbmcgKTogdm9pZCB7XHJcbiAgaWYgKCAhbWFwRGVmYXVsdEF0dHJpYnV0ZXNCeUVsZW1lbnQuaGFzKCB0YXJnZXQgKSApIHtcclxuICAgIG1hcERlZmF1bHRBdHRyaWJ1dGVzQnlFbGVtZW50LnNldCggdGFyZ2V0LCBuZXcgTWFwPHN0cmluZywgc3RyaW5nPigpICk7XHJcbiAgfVxyXG5cclxuICBtYXBEZWZhdWx0QXR0cmlidXRlc0J5RWxlbWVudC5nZXQoIHRhcmdldCApIS5zZXQoIGF0dHJpYnV0ZU5hbWUsIG5ld0RlZmF1bHRBdHRyaWJ1dGUgKTtcclxufVxyXG5cclxuLy8vIERpdmlkZSBvIGVsZW1lbnRvIEB0YXJnZXQgZW0gOSBcInF1YWRyYWRvc1wiIGlndWFpcyBlIHJldG9ybmEgZW0gcXVhaXMgcXVhZHJhZG9zIG8gZHJhZ2dhYmxlIGVzdMOhIGNvbGlkaW5kbyBjb20gbyB0YXJnZXRcclxuZXhwb3J0IGZ1bmN0aW9uIGdldENvbGxpc2lvbkRpcmVjdGlvbiggZHJhZ2dhYmxlOiBIVE1MRWxlbWVudCwgdGFyZ2V0OiBIVE1MRWxlbWVudCApOiBDb2xsaXNpb25EaXJlY3Rpb25DaGVjayB7XHJcbiAgY29uc3QgcmVjdDEgPSBkcmFnZ2FibGUuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XHJcbiAgY29uc3QgcmVjdDIgPSB0YXJnZXQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XHJcblxyXG4gIGNvbnN0IGlzVG9wID0gcmVjdDEuYm90dG9tID4gcmVjdDIudG9wICYmIHJlY3QxLnRvcCA8IHJlY3QyLnRvcCArIHJlY3QyLmhlaWdodCAvIDM7XHJcbiAgY29uc3QgaXNSaWdodCA9IHJlY3QxLmxlZnQgPCByZWN0Mi5yaWdodCAmJiByZWN0MS5yaWdodCA+IHJlY3QyLnJpZ2h0IC0gcmVjdDIud2lkdGggLyAzO1xyXG4gIGNvbnN0IGlzQ2VudGVyID0gcmVjdDEudG9wIDwgcmVjdDIuYm90dG9tICYmIHJlY3QxLmJvdHRvbSA+IHJlY3QyLnRvcCAmJiByZWN0MS5sZWZ0IDwgcmVjdDIucmlnaHQgJiYgcmVjdDEucmlnaHQgPiByZWN0Mi5sZWZ0O1xyXG4gIGNvbnN0IGlzQm90dG9tID0gcmVjdDEudG9wIDwgcmVjdDIuYm90dG9tIC0gcmVjdDIuaGVpZ2h0IC8gMyAmJiByZWN0MS5ib3R0b20gPiByZWN0Mi5ib3R0b20gLSByZWN0Mi5oZWlnaHQgLyAzO1xyXG4gIGNvbnN0IGlzTGVmdCA9IHJlY3QxLnJpZ2h0ID4gcmVjdDIubGVmdCAmJiByZWN0MS5sZWZ0IDwgcmVjdDIubGVmdCArIHJlY3QyLndpZHRoIC8gMztcclxuXHJcbiAgcmV0dXJuIHsgdG9wOiBpc1RvcCwgcmlnaHQ6IGlzUmlnaHQsIGNlbnRlcjogaXNDZW50ZXIsIGJvdHRvbTogaXNCb3R0b20sIGxlZnQ6IGlzTGVmdCB9O1xyXG59XHJcblxyXG4vLy8gcmV0dXJuIHRoZSBkaXN0YW5jZSBmcm9tIHRoZSBjZW50ZXIgb2YgdGhlIGRyYWdnYWJsZSB0byB0aGUgY2VudGVyIG9mIHRoZSB0YXJnZXQgZWxlbWVudCBmcm9tIGVhY2ggYm9yZGVyIFxyXG5leHBvcnQgZnVuY3Rpb24gZ2V0RGlzdGFuY2VGcm9tQm9yZGVyKCBkcmFnZ2FibGU6IEhUTUxFbGVtZW50LCB0YXJnZXQ6IEhUTUxFbGVtZW50ICk6IENvbGxpc2lvbkJvcmRlckRpc3RhbmNlIHtcclxuICBjb25zdCByZWN0MSA9IGRyYWdnYWJsZS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcclxuICBjb25zdCByZWN0MiA9IHRhcmdldC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcclxuXHJcbiAgY29uc3QgY2VudGVyID0ge1xyXG4gICAgeDogcmVjdDEubGVmdCArIHJlY3QxLndpZHRoIC8gMixcclxuICAgIHk6IHJlY3QxLnRvcCArIHJlY3QxLmhlaWdodCAvIDIsXHJcbiAgfTtcclxuXHJcbiAgY29uc3QgZGlzdGFuY2VGcm9tQm9yZGVyOiBDb2xsaXNpb25Cb3JkZXJEaXN0YW5jZSA9IHtcclxuICAgIHRvcDogY2VudGVyLnkgLSByZWN0Mi50b3AsXHJcbiAgICByaWdodDogcmVjdDIucmlnaHQgLSBjZW50ZXIueCxcclxuICAgIGJvdHRvbTogcmVjdDIuYm90dG9tIC0gY2VudGVyLnksXHJcbiAgICBsZWZ0OiBjZW50ZXIueCAtIHJlY3QyLmxlZnQsXHJcbiAgfTtcclxuXHJcbiAgcmV0dXJuIGRpc3RhbmNlRnJvbUJvcmRlcjtcclxufVxyXG5cclxud2luZG93LmFkZEV2ZW50TGlzdGVuZXIoICdrZXlkb3duJywgZXZ0ID0+IHtcclxuICBmb3IgKCBjb25zdCBwYWlyIG9mIGRpY3RLZXlzQnlBY3Rpb24gKSB7XHJcbiAgICBpZiAoIGV2dC5jb2RlID09PSBwYWlyWzBdICkge1xyXG4gICAgICBwYWlyWzFdLmZvckVhY2goIGtiRXZlbnQgPT4ga2JFdmVudCggZXZ0ICkgKTtcclxuICAgIH1cclxuICB9XHJcbn0gKTtcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBnZXRUcmFuc2Zvcm1Db29yZHNGcm9tRWxlbWVudCggZWxlbWVudDogSFRNTEVsZW1lbnQgKTogUG9pbnQyRCB7XHJcbiAgY29uc3QgYXJyQ29tcHV0ZWREcmFnZ2FibGVUcmFuc2xhdGUgPSAoIHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKCBlbGVtZW50ICkudHJhbnNmb3JtLm1hdGNoKCByZWdleE51bWJlclBhdHRlcm4gKSA/PyBbMCwgMF0gKS5tYXAoIG4gPT4gK24gKTtcclxuICByZXR1cm4ge1xyXG4gICAgeDogYXJyQ29tcHV0ZWREcmFnZ2FibGVUcmFuc2xhdGVbNF0gIT09IHVuZGVmaW5lZCA/IE1hdGgucm91bmQoIGFyckNvbXB1dGVkRHJhZ2dhYmxlVHJhbnNsYXRlWzRdICkgOiAwLFxyXG4gICAgeTogYXJyQ29tcHV0ZWREcmFnZ2FibGVUcmFuc2xhdGVbNV0gIT09IHVuZGVmaW5lZCA/IE1hdGgucm91bmQoIGFyckNvbXB1dGVkRHJhZ2dhYmxlVHJhbnNsYXRlWzVdICkgOiAwXHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gY2xpY2tFdmVudFRvQ29vcmRpbmF0ZXMoIGV2ZW50OiBNb3VzZUV2ZW50IHwgVG91Y2hFdmVudCApIHtcclxuICBpZiAoIGV2ZW50IGluc3RhbmNlb2YgTW91c2VFdmVudCApIHtcclxuICAgIHJldHVybiB7XHJcbiAgICAgIHg6IGV2ZW50LmNsaWVudFgsXHJcbiAgICAgIHk6IGV2ZW50LmNsaWVudFlcclxuICAgIH07XHJcbiAgfSBlbHNlIGlmICggZXZlbnQgaW5zdGFuY2VvZiBUb3VjaEV2ZW50ICkge1xyXG4gICAgY29uc3QgdG91Y2ggPSBldmVudC5jaGFuZ2VkVG91Y2hlc1swXTtcclxuICAgIHJldHVybiB7XHJcbiAgICAgIHg6IHRvdWNoLmNsaWVudFgsXHJcbiAgICAgIHk6IHRvdWNoLmNsaWVudFlcclxuICAgIH07XHJcbiAgfSBlbHNlIHtcclxuICAgIHRocm93IFwiRXZlbnQgbm90IEZvdW5kXCI7XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gaGlkZUVsZW1lbnQoIGVsZW1lbnQ6IEhUTUxFbGVtZW50ICkge1xyXG4gIGVsZW1lbnQuc3R5bGUuZGlzcGxheSA9ICdibG9jayc7XHJcbiAgZWxlbWVudC5zdHlsZS5wb3NpdGlvbiA9ICdhYnNvbHV0ZSc7XHJcbiAgZWxlbWVudC5zdHlsZS56SW5kZXggPSAnLTEnO1xyXG4gIGVsZW1lbnQuc3R5bGUub3BhY2l0eSA9ICcwJztcclxuICBlbGVtZW50LnN0eWxlLndpZHRoID0gJzBweCAhaW1wb3J0YW50JztcclxuICBlbGVtZW50LnN0eWxlLmhlaWdodCA9ICcwcHggIWltcG9ydGFudCc7XHJcbiAgZWxlbWVudC5zZXRBdHRyaWJ1dGUoICdoaWRkZW4nLCAnJyApO1xyXG59XHJcblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gc2xlZXBBc3luYyggbXM6IG51bWJlciApIHtcclxuICByZXR1cm4gYXdhaXQgbmV3IFByb21pc2U8dm9pZD4oICggcmVzb2x2ZSApID0+IHNldFRpbWVvdXQoICgpID0+IHJlc29sdmUoKSwgbXMgKSApO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gYmluZEVsZW1lbnRzQnlDaGVjayggdHJpZ2dlckVsZW1lbnQ6IEhUTUxJbnB1dEVsZW1lbnQsIHRhcmdldEVsZW1lbnQ6IEhUTUxFbGVtZW50LCBvbkNoZWNrOiBGdW5jdGlvbiwgb25VbmNoZWNrOiBGdW5jdGlvbiApIHtcclxuICBpZiAoIHRyaWdnZXJFbGVtZW50LmNoZWNrZWQgKSB7XHJcbiAgICBvbkNoZWNrKCB0YXJnZXRFbGVtZW50ICk7XHJcbiAgfVxyXG5cclxuICBjb25zdCB0cmlnZ2VyR3JvdXAgPSB0cmlnZ2VyRWxlbWVudC5uYW1lXHJcbiAgICA/IEFycmF5LmZyb20oIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoIGBbbmFtZT1cIiR7IHRyaWdnZXJFbGVtZW50Lm5hbWUgfVwiXWAgKSApXHJcbiAgICA6IFt0cmlnZ2VyRWxlbWVudF07XHJcblxyXG4gIHRyaWdnZXJHcm91cC5mb3JFYWNoKCB0ID0+IHQuYWRkRXZlbnRMaXN0ZW5lciggJ2NoYW5nZScsIGV2dCA9PiB7XHJcbiAgICBpZiAoIHRyaWdnZXJFbGVtZW50LmNoZWNrZWQgKSB7XHJcbiAgICAgIG9uQ2hlY2soIHRhcmdldEVsZW1lbnQsIGV2dCApO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgb25VbmNoZWNrKCB0YXJnZXRFbGVtZW50LCBldnQgKTtcclxuICAgIH1cclxuICB9ICkgKTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGlzTW9iaWxlQnJvd3NlcigpIHtcclxuICByZXR1cm4gL0FuZHJvaWR8aVBob25lL2kudGVzdCggbmF2aWdhdG9yLnVzZXJBZ2VudCApO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gaXNPblNjcmVlbiggZWxlbWVudDogSFRNTEVsZW1lbnQgKSB7XHJcbiAgY29uc3QgcmVjdCA9IGVsZW1lbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XHJcbiAgcmV0dXJuIChcclxuICAgIHJlY3QudG9wID49IDAgJiZcclxuICAgIHJlY3QubGVmdCA+PSAwICYmXHJcbiAgICByZWN0LmJvdHRvbSA8PSAoIHdpbmRvdy5pbm5lckhlaWdodCB8fCBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50SGVpZ2h0ICkgJiZcclxuICAgIHJlY3QucmlnaHQgPD0gKCB3aW5kb3cuaW5uZXJXaWR0aCB8fCBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50V2lkdGggKVxyXG4gICk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBiaW5kRWxlbWVudFZpZXdJZkNoZWNrZWQoIHRyaWdnZXJFbGVtZW50OiBIVE1MSW5wdXRFbGVtZW50LCB0YXJnZXRFbGVtZW50OiBIVE1MSW5wdXRFbGVtZW50LCBvcHRpb25zID0ge1xyXG4gIG9uQ2hlY2s6ICggdHJpZ2dlckVsZW1lbnQ6IEhUTUxJbnB1dEVsZW1lbnQsIHRhcmdldEVsZW1lbnQ6IEhUTUxFbGVtZW50ICkgPT4geyB9LFxyXG4gIG9uVW5jaGVjazogKCB0cmlnZ2VyRWxlbWVudDogSFRNTElucHV0RWxlbWVudCwgdGFyZ2V0RWxlbWVudDogSFRNTEVsZW1lbnQgKSA9PiB7IH1cclxufSApIHtcclxuICBiaW5kRWxlbWVudHNCeUNoZWNrKFxyXG4gICAgdHJpZ2dlckVsZW1lbnQsXHJcbiAgICB0YXJnZXRFbGVtZW50LFxyXG4gICAgKCBlbDogSFRNTEVsZW1lbnQgKSA9PiB7XHJcbiAgICAgIGVsLmNsYXNzTGlzdC5hZGQoICdzaG93JyApO1xyXG4gICAgICBvcHRpb25zLm9uQ2hlY2soIHRyaWdnZXJFbGVtZW50LCB0YXJnZXRFbGVtZW50ICk7XHJcbiAgICB9LFxyXG4gICAgKCBlbDogSFRNTEVsZW1lbnQgKSA9PiB7XHJcbiAgICAgIGVsLmNsYXNzTGlzdC5yZW1vdmUoICdzaG93JyApO1xyXG4gICAgICBvcHRpb25zLm9uVW5jaGVjayggdHJpZ2dlckVsZW1lbnQsIHRhcmdldEVsZW1lbnQgKTtcclxuICAgIH0sXHJcbiAgKTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGdldFZhbHVlRnJvbVJhZGlvR3JvdXAoIGdyb3VwTmFtZTogc3RyaW5nICk6IHN0cmluZyB8IHVuZGVmaW5lZCB7XHJcbiAgY29uc3QgZWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCBgW25hbWU9JHsgZ3JvdXBOYW1lIH1dOmNoZWNrZWRgICkgYXMgSFRNTElucHV0RWxlbWVudDtcclxuICBpZiAoIGVsICkge1xyXG4gICAgcmV0dXJuIGVsLnZhbHVlO1xyXG4gIH1cclxufVxyXG5cclxuXHJcbi8vIFJldG9ybmEgdW1hIGZ1bsOnw6NvIHF1ZSBuw6NvIHZhaSBzZXIgY29tcGxldGFkYSBjYXNvIHNlamEgY2hhbWFkYSBub3ZhbWVudGUgZW0geyBkZWxheSB9IG1pbGlzc2VndW5kb3NcclxuZXhwb3J0IGZ1bmN0aW9uIGRlYm91bmNlRmFjdG9yeSggZnVuYzogRnVuY3Rpb24sIGRlbGF5OiBudW1iZXIgKTogRnVuY3Rpb24ge1xyXG4gIGxldCBpbkRlYm91bmNlOiBudW1iZXI7XHJcbiAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcclxuICAgIGNvbnN0IGNvbnRleHQgPSB3aW5kb3c7XHJcbiAgICBjb25zdCBhcmdzID0gYXJndW1lbnRzO1xyXG4gICAgY2xlYXJUaW1lb3V0KCBpbkRlYm91bmNlICk7XHJcbiAgICBpbkRlYm91bmNlID0gd2luZG93LnNldFRpbWVvdXQoICgpID0+IGZ1bmMuYXBwbHkoIGNvbnRleHQsIGFyZ3MgKSwgZGVsYXkgKTtcclxuICB9O1xyXG59XHJcblxyXG4vLyBSZXRvcm5hIHVtYSBmdW7Dp8OjbyBxdWUgc8OzIHBvZGUgc2VyIGNvbXBsZXRhZGEgdW1hIHZleiBhIGNhZGEgeyBsaW1pdCB9IG1pbGlzc2VndW5kb3MgXHJcbmV4cG9ydCBmdW5jdGlvbiB0aHJvdHRsZUZhY3RvcnkoIGZ1bmM6IEZ1bmN0aW9uLCBsaW1pdDogbnVtYmVyICk6IEZ1bmN0aW9uIHtcclxuICBsZXQgbGFzdEZ1bmM6IG51bWJlcjtcclxuICBsZXQgbGFzdFJhbjogbnVtYmVyO1xyXG4gIHJldHVybiBmdW5jdGlvbiAoKSB7XHJcbiAgICBjb25zdCBjb250ZXh0ID0gd2luZG93O1xyXG4gICAgY29uc3QgYXJncyA9IGFyZ3VtZW50cztcclxuICAgIGlmICggIWxhc3RSYW4gKSB7XHJcbiAgICAgIGZ1bmMuYXBwbHkoIGNvbnRleHQsIGFyZ3MgKTtcclxuICAgICAgbGFzdFJhbiA9IERhdGUubm93KCk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBjbGVhclRpbWVvdXQoIGxhc3RGdW5jICk7XHJcbiAgICAgIGxhc3RGdW5jID0gd2luZG93LnNldFRpbWVvdXQoIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBpZiAoIERhdGUubm93KCkgLSBsYXN0UmFuID49IGxpbWl0ICkge1xyXG4gICAgICAgICAgZnVuYy5hcHBseSggY29udGV4dCwgYXJncyApO1xyXG4gICAgICAgICAgbGFzdFJhbiA9IERhdGUubm93KCk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9LCBsaW1pdCAtICggRGF0ZS5ub3coKSAtIGxhc3RSYW4gKSApO1xyXG4gICAgfVxyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIHNtb290aFNjcm9sbFRvKCBwb3M6IG51bWJlciApOiB2b2lkIHtcclxuICB3aW5kb3cuc2Nyb2xsVG8oIHtcclxuICAgIHRvcDogcG9zLFxyXG4gICAgYmVoYXZpb3I6ICdzbW9vdGgnLFxyXG4gIH0gKTtcclxufVxyXG5cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBzZWxlY3RPcHRpb25CeVRleHQoIGlkU2VsZWN0RWxlbWVudDogc3RyaW5nLCBzZWFyY2hUZXh0OiBzdHJpbmcsIGNvbnRhaW5zOiBib29sZWFuID0gZmFsc2UgKTogdm9pZCB7XHJcbiAgY29uc3Qgc2VsZWN0RWxlbWVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCBpZFNlbGVjdEVsZW1lbnQgKSBhcyBIVE1MU2VsZWN0RWxlbWVudDtcclxuXHJcbiAgaWYgKCAhc2VsZWN0RWxlbWVudCApIHtcclxuICAgIHJldHVybjtcclxuICB9XHJcblxyXG4gIGNvbnN0IG9wdGlvbnNFbGVtZW50b1NlbGVjdCA9IFsuLi5zZWxlY3RFbGVtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoICdvcHRpb24nICldO1xyXG5cclxuICBsZXQgc2VsZWN0ZWRPcHRpb247XHJcbiAgaWYgKCBjb250YWlucyApIHtcclxuICAgIHNlbGVjdGVkT3B0aW9uID0gb3B0aW9uc0VsZW1lbnRvU2VsZWN0XHJcbiAgICAgIC5maWx0ZXIoIGVsID0+IGVsLnRleHRDb250ZW50ICYmIGVsLnRleHRDb250ZW50LnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMoIHNlYXJjaFRleHQudG9Mb3dlckNhc2UoKSApIClbMF0udmFsdWU7XHJcbiAgfSBlbHNlIHtcclxuICAgIHNlbGVjdGVkT3B0aW9uID0gb3B0aW9uc0VsZW1lbnRvU2VsZWN0XHJcbiAgICAgIC5maWx0ZXIoIGVsID0+IGVsLnRleHRDb250ZW50ICYmIGVsLnRleHRDb250ZW50LnRvTG93ZXJDYXNlKCkgPT09IHNlYXJjaFRleHQudG9Mb3dlckNhc2UoKSApWzBdLnZhbHVlO1xyXG4gIH1cclxuXHJcbiAgc2VsZWN0RWxlbWVudC52YWx1ZSA9IHNlbGVjdGVkT3B0aW9uO1xyXG59XHJcblxyXG4iLCJpbXBvcnQgeyBjaGVja0VsZW1lbnRDb2xsaXNpb24sIGdldENvbGxpc2lvbkRpcmVjdGlvbiwgZ2V0RGVmYXVsdEF0dHJpYnV0ZUZvclRhcmdldCwgZ2V0RGlzdGFuY2VGcm9tQm9yZGVyIH0gZnJvbSAnLi9ET01Ub29scyc7XHJcbmltcG9ydCB7IENvbGxpc2lvblRyaWdnZXJPcHRpb25zIGFzIENvbGxpc2lvblRyaWdnZXIsIENvbGxpc2lvbkRpcmVjdGlvbkNoZWNrLCBDb2xsaXNpb25Cb3JkZXJEaXN0YW5jZSwgQ29sbGlzaW9uQm9yZGVyRGlzdGFuY2VFeHRyYXMsIElDb2xsaXNpb25FdmVudCB9IGZyb20gJy4vdHlwZXMnO1xyXG5cclxuZXhwb3J0IGNvbnN0IG1hcEVsZW1lbnRzQ29sbGlkaW5nQnlUYXJnZXRzID0gbmV3IE1hcDxIVE1MRWxlbWVudCwgU2V0PEhUTUxFbGVtZW50Pj4oKTtcclxuZXhwb3J0IGNvbnN0IG1hcFRhcmdldHNDb2xsaWRpbmdCeVRyaWdnZXJFbGVtZW50ID0gbmV3IE1hcDxIVE1MRWxlbWVudCwgU2V0PEhUTUxFbGVtZW50Pj4oKTtcclxuZXhwb3J0IGNvbnN0IG1hcEVsZW1lbnRzVHJpZ2dlcmluZ0V2ZW50c0J5VGFyZ2V0ID0gbmV3IE1hcDxIVE1MRWxlbWVudCwgU2V0PEhUTUxFbGVtZW50Pj4oKTtcclxuXHJcbmxldCBjb2xsaXNpb25DaGVja0ludGVydmFsOiBOb2RlSlMuVGltZW91dDtcclxuY29uc3QgY29sbGlzaW9uRXZlbnRzQnlTZWxlY3RvcnMgPSBuZXcgTWFwPHN0cmluZywgQ29sbGlzaW9uVHJpZ2dlcltdPigpO1xyXG5cclxuXHJcbi8vLyBwdXNoIGV2ZW50cyB0byBhIGRpY3Rpb25hcnkgYW5kIGlmIHRoZXkgZXhpc3QganVzdCBhZGQgbmV3IHRhcmdldHMgdG8gdGhlbVxyXG5leHBvcnQgZnVuY3Rpb24gaW5zZXJ0SW50b0V2ZW50Q2hlY2tMaXN0KCBlbGVtZW50VG9DaGVjazogSFRNTEVsZW1lbnQsIHRhcmdldFF1ZXJ5U2VsZWN0b3I6IHN0cmluZywgY29sbGlzaW9uRXZlbnRzOiBJQ29sbGlzaW9uRXZlbnRbXSApIHtcclxuICBjb25zdCByZWZFeGlzdGluZ0V2ZW50OiBDb2xsaXNpb25UcmlnZ2VyW10gfCB1bmRlZmluZWQgPSBjb2xsaXNpb25FdmVudHNCeVNlbGVjdG9ycy5nZXQoIHRhcmdldFF1ZXJ5U2VsZWN0b3IgKTtcclxuICBpZiAoIHJlZkV4aXN0aW5nRXZlbnQgKSB7XHJcbiAgICByZWZFeGlzdGluZ0V2ZW50LnB1c2goIHtcclxuICAgICAgdHJpZ2dlckVsZW1lbnQ6IGVsZW1lbnRUb0NoZWNrLFxyXG4gICAgICBldmVudHM6IGNvbGxpc2lvbkV2ZW50c1xyXG4gICAgfSApO1xyXG4gIH0gZWxzZSB7XHJcbiAgICBjb2xsaXNpb25FdmVudHNCeVNlbGVjdG9ycy5zZXQoIHRhcmdldFF1ZXJ5U2VsZWN0b3IsIFt7XHJcbiAgICAgIHRyaWdnZXJFbGVtZW50OiBlbGVtZW50VG9DaGVjayxcclxuICAgICAgZXZlbnRzOiBjb2xsaXNpb25FdmVudHNcclxuICAgIH1dICk7XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gY2xlYW5Ob3RDb2xsaWRpbmdFbGVtZW50c0F0dHJpYnV0ZXNBbmRDbGFzc2VzKCB0cmlnZ2VyRWxlbWVudHNDb2xsaXNpb246IFNldDxIVE1MRWxlbWVudD4sIHRhcmdldDogSFRNTEVsZW1lbnQsIHRhcmdldENvbGxpc2lvbjogU2V0PEhUTUxFbGVtZW50PiwgYWdlbnQ6IENvbGxpc2lvblRyaWdnZXIgKSB7XHJcbiAgaWYgKCB0cmlnZ2VyRWxlbWVudHNDb2xsaXNpb24uZGVsZXRlKCB0YXJnZXQgYXMgSFRNTEVsZW1lbnQgKSAmJiB0cmlnZ2VyRWxlbWVudHNDb2xsaXNpb24uc2l6ZSA9PT0gMCApIHtcclxuICAgIGFnZW50LnRyaWdnZXJFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoICdjb2xsaWRpbmcnICk7XHJcbiAgfVxyXG5cclxuICBpZiAoIHRhcmdldENvbGxpc2lvbi5kZWxldGUoIGFnZW50LnRyaWdnZXJFbGVtZW50ICkgJiYgdGFyZ2V0Q29sbGlzaW9uLnNpemUgPT09IDAgKSB7XHJcbiAgICB0YXJnZXQuY2xhc3NMaXN0LnJlbW92ZSggJ2NvbGxpZGluZycgKTtcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBzZXRDb2xsaXNpb25DbGFzc2VzKCBjb2xsaXNpb25UcmlnZ2VyOiBDb2xsaXNpb25UcmlnZ2VyLCB0YXJnZXQ6IEhUTUxFbGVtZW50ICkge1xyXG4gIGNvbGxpc2lvblRyaWdnZXIudHJpZ2dlckVsZW1lbnQuY2xhc3NMaXN0LmFkZCggJ2NvbGxpZGluZycgKTtcclxuICB0YXJnZXQuY2xhc3NMaXN0LmFkZCggJ2NvbGxpZGluZycgKTtcclxufVxyXG5cclxuXHJcbmFzeW5jIGZ1bmN0aW9uIHRyaWdnZXJDb2xsaXNpb25FdmVudHNBc3luYyggY29sbGlzaW9uVHJpZ2dlcjogQ29sbGlzaW9uVHJpZ2dlciwgdGFyZ2V0OiBIVE1MRWxlbWVudCApIHtcclxuICBjb25zdCBjb2xsaWRpbmdBdCA9IGdldENvbGxpc2lvbkRpcmVjdGlvbiggY29sbGlzaW9uVHJpZ2dlci50cmlnZ2VyRWxlbWVudCwgdGFyZ2V0ICk7XHJcbiAgY29uc3QgZGlzdGFuY2VGcm9tQm9yZGVyID0gZ2V0RGlzdGFuY2VGcm9tQm9yZGVyKCBjb2xsaXNpb25UcmlnZ2VyLnRyaWdnZXJFbGVtZW50LCB0YXJnZXQgKTtcclxuICBhd2FpdCBQcm9taXNlLmFsbCggY29sbGlzaW9uVHJpZ2dlci5ldmVudHMubWFwKCBhc3luYyBldmVudCA9PiB7XHJcbiAgICBhd2FpdCBldmVudC5vbkNvbGxpZGluZyhcclxuICAgICAgY29sbGlzaW9uVHJpZ2dlci50cmlnZ2VyRWxlbWVudCxcclxuICAgICAgdGFyZ2V0LFxyXG4gICAgICBjb2xsaWRpbmdBdCxcclxuICAgICAgZGlzdGFuY2VGcm9tQm9yZGVyXHJcbiAgICApO1xyXG4gIH0gKSApO1xyXG59XHJcblxyXG5mdW5jdGlvbiBzZXRUYXJnZXRDbGFzc2VzRm9yRXZlbnRzKCBjb2xsaXNpb25UcmlnZ2VyczogQ29sbGlzaW9uVHJpZ2dlcltdLCBjb2xsaXNpb25UYXJnZXRTZWxlY3RvcnM6IHN0cmluZyApOiB2b2lkIHtcclxuICBjb25zdCBhcnJUYXJnZXRzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCggY29sbGlzaW9uVGFyZ2V0U2VsZWN0b3JzIClcclxuXHJcbiAgYXJyVGFyZ2V0cy5mb3JFYWNoKCB0YXJnZXQgPT4ge1xyXG4gICAgY29sbGlzaW9uVHJpZ2dlcnMuZm9yRWFjaCggYWdlbnQgPT4ge1xyXG4gICAgICBhZ2VudC5ldmVudHMuZm9yRWFjaCggKCBlICkgPT4ge1xyXG4gICAgICAgIGlmICggZS5hdXRvSW5zZXJ0VGFyZ2V0Q2xhc3MgKSB7XHJcbiAgICAgICAgICB0YXJnZXQuY2xhc3NMaXN0LmFkZCggZS50YXJnZXRDbGFzcyApO1xyXG4gICAgICAgIH1cclxuICAgICAgfSApXHJcbiAgICB9ICk7XHJcbiAgfSApO1xyXG59XHJcblxyXG5mdW5jdGlvbiBnZXRTZXRPZkVsZW1lbnRzQ29sbGlkaW5nV2l0aFRhcmdldHMoIHRhcmdldDogSFRNTEVsZW1lbnQgKTogU2V0PEhUTUxFbGVtZW50PiB7XHJcbiAgaWYgKCAhbWFwRWxlbWVudHNDb2xsaWRpbmdCeVRhcmdldHMuaGFzKCB0YXJnZXQgKSApIHtcclxuICAgIG1hcEVsZW1lbnRzQ29sbGlkaW5nQnlUYXJnZXRzLnNldCggdGFyZ2V0LCBuZXcgU2V0PEhUTUxFbGVtZW50PigpICk7XHJcbiAgfVxyXG5cclxuICByZXR1cm4gbWFwRWxlbWVudHNDb2xsaWRpbmdCeVRhcmdldHMuZ2V0KCB0YXJnZXQgKSE7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGdldFNldE9mRWxlbWVudHNDb2xsaWRpbmdCeVRyaWdnZXJFbGVtZW50KCB0cmlnZ2VyRWxlbWVudDogSFRNTEVsZW1lbnQgKTogU2V0PEhUTUxFbGVtZW50PiB7XHJcbiAgaWYgKCAhbWFwVGFyZ2V0c0NvbGxpZGluZ0J5VHJpZ2dlckVsZW1lbnQuaGFzKCB0cmlnZ2VyRWxlbWVudCApICkge1xyXG4gICAgbWFwVGFyZ2V0c0NvbGxpZGluZ0J5VHJpZ2dlckVsZW1lbnQuc2V0KCB0cmlnZ2VyRWxlbWVudCwgbmV3IFNldDxIVE1MRWxlbWVudD4oKSApO1xyXG4gIH1cclxuXHJcbiAgcmV0dXJuIG1hcFRhcmdldHNDb2xsaWRpbmdCeVRyaWdnZXJFbGVtZW50LmdldCggdHJpZ2dlckVsZW1lbnQgKSE7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHNldENvbGxpc2lvbkNoZWNrKCkge1xyXG4gIGNvbGxpc2lvbkV2ZW50c0J5U2VsZWN0b3JzLmZvckVhY2goICggY29sbGlzaW9uVHJpZ2dlcnMsIGNvbGxpc2lvblRhcmdldFNlbGVjdG9ycyApID0+IHtcclxuICAgIHNldFRhcmdldENsYXNzZXNGb3JFdmVudHMoIGNvbGxpc2lvblRyaWdnZXJzLCBjb2xsaXNpb25UYXJnZXRTZWxlY3RvcnMgKTtcclxuICB9ICk7XHJcblxyXG4gIGNvbGxpc2lvbkNoZWNrSW50ZXJ2YWwgPSBzZXRJbnRlcnZhbCggKCkgPT4ge1xyXG4gICAgY29sbGlzaW9uRXZlbnRzQnlTZWxlY3RvcnMuZm9yRWFjaCggYXN5bmMgKCBjb2xsaXNpb25UcmlnZ2VycywgY29sbGlzaW9uVGFyZ2V0U2VsZWN0b3JzICkgPT4ge1xyXG4gICAgICBjb25zdCBhcnJUYXJnZXRzID0gQXJyYXkuZnJvbSggZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCggY29sbGlzaW9uVGFyZ2V0U2VsZWN0b3JzICkgKSBhcyBIVE1MRWxlbWVudFtdO1xyXG5cclxuICAgICAgc2V0Q29sbGlzaW9uRXZlbnRzRm9yVGFyZ2V0cyggYXJyVGFyZ2V0cywgY29sbGlzaW9uVHJpZ2dlcnMgKTtcclxuICAgIH0gKTtcclxuICB9LCA1MCApO1xyXG59XHJcblxyXG5mdW5jdGlvbiBzZXRDb2xsaXNpb25FdmVudHNGb3JUYXJnZXRzKCBhcnJUYXJnZXRzOiBIVE1MRWxlbWVudFtdLCBjb2xsaXNpb25UcmlnZ2VyczogQ29sbGlzaW9uVHJpZ2dlcltdICkge1xyXG4gIGFyclRhcmdldHMuZm9yRWFjaCggYXN5bmMgdGFyZ2V0ID0+IHtcclxuICAgIGNvbnN0IHRhcmdldENvbGxpc2lvblNldDogU2V0PEhUTUxFbGVtZW50PiA9IGdldFNldE9mRWxlbWVudHNDb2xsaWRpbmdXaXRoVGFyZ2V0cyggdGFyZ2V0ICk7XHJcblxyXG4gICAgY29sbGlzaW9uVHJpZ2dlcnMuZm9yRWFjaCggYXN5bmMgdHJpZ2dlciA9PiB7XHJcbiAgICAgIGlmICggdHJpZ2dlci50cmlnZ2VyRWxlbWVudCA9PT0gdGFyZ2V0ICkge1xyXG4gICAgICAgIHJldHVybjtcclxuICAgICAgfVxyXG5cclxuICAgICAgY29uc3QgdHJpZ2dlckNvbGxpc2lvblNldDogU2V0PEhUTUxFbGVtZW50PiA9IGdldFNldE9mRWxlbWVudHNDb2xsaWRpbmdCeVRyaWdnZXJFbGVtZW50KCB0cmlnZ2VyLnRyaWdnZXJFbGVtZW50ICk7XHJcblxyXG4gICAgICBjb25zdCBpc0NvbGxpc2lvbjogYm9vbGVhbiA9IGNoZWNrRWxlbWVudENvbGxpc2lvbiggdHJpZ2dlci50cmlnZ2VyRWxlbWVudCwgdGFyZ2V0ICk7XHJcblxyXG4gICAgICBpZiAoICFpc0NvbGxpc2lvbiApIHtcclxuICAgICAgICBhd2FpdCBvbkVsZW1lbnRzTm90Q29sbGlkaW5nKCB0cmlnZ2VyQ29sbGlzaW9uU2V0LCB0YXJnZXQsIHRhcmdldENvbGxpc2lvblNldCwgdHJpZ2dlciApO1xyXG4gICAgICAgIHJldHVybjtcclxuICAgICAgfVxyXG5cclxuICAgICAgdHJpZ2dlckNvbGxpc2lvblNldC5hZGQoIHRhcmdldCApO1xyXG4gICAgICB0YXJnZXRDb2xsaXNpb25TZXQuYWRkKCB0cmlnZ2VyLnRyaWdnZXJFbGVtZW50ICk7XHJcblxyXG4gICAgICBzZXRDb2xsaXNpb25DbGFzc2VzKCB0cmlnZ2VyLCB0YXJnZXQgKTtcclxuXHJcbiAgICAgIGF3YWl0IHRyaWdnZXJDb2xsaXNpb25FdmVudHNBc3luYyggdHJpZ2dlciwgdGFyZ2V0ICk7XHJcbiAgICB9ICk7XHJcbiAgfSApO1xyXG59XHJcblxyXG5hc3luYyBmdW5jdGlvbiBvbkVsZW1lbnRzTm90Q29sbGlkaW5nKCB0cmlnZ2VyQ29sbGlzaW9uU2V0OiBTZXQ8SFRNTEVsZW1lbnQ+LCB0YXJnZXQ6IEhUTUxFbGVtZW50LCB0YXJnZXRDb2xsaXNpb25TZXQ6IFNldDxIVE1MRWxlbWVudD4sIHRyaWdnZXI6IENvbGxpc2lvblRyaWdnZXIgKSB7XHJcbiAgY2xlYW5Ob3RDb2xsaWRpbmdFbGVtZW50c0F0dHJpYnV0ZXNBbmRDbGFzc2VzKFxyXG4gICAgdHJpZ2dlckNvbGxpc2lvblNldCxcclxuICAgIHRhcmdldCxcclxuICAgIHRhcmdldENvbGxpc2lvblNldCxcclxuICAgIHRyaWdnZXJcclxuICApO1xyXG5cclxuICBhd2FpdCBQcm9taXNlLmFsbCggdHJpZ2dlci5ldmVudHMubWFwKCBhc3luYyBldmVudCA9PiB7XHJcbiAgICBhd2FpdCBldmVudC5vbk5vdENvbGxpZGluZyhcclxuICAgICAgdHJpZ2dlci50cmlnZ2VyRWxlbWVudCxcclxuICAgICAgdGFyZ2V0XHJcbiAgICApO1xyXG4gIH0gKSApO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gaW5pdENvbGxpc2lvbkNoZWNrT24oIGVsZW1lbnRUb0NoZWNrOiBIVE1MRWxlbWVudCwgdGFyZ2V0UXVlcnlTZWxlY3Rvcjogc3RyaW5nLCBjb2xsaXNpb25FdmVudHM6IElDb2xsaXNpb25FdmVudFtdICk6IHZvaWQge1xyXG4gIGluc2VydEludG9FdmVudENoZWNrTGlzdCggZWxlbWVudFRvQ2hlY2ssIHRhcmdldFF1ZXJ5U2VsZWN0b3IsIGNvbGxpc2lvbkV2ZW50cyApO1xyXG5cclxuICBpZiAoIGNvbGxpc2lvbkNoZWNrSW50ZXJ2YWwgKSB7XHJcbiAgICByZXR1cm47XHJcbiAgfVxyXG5cclxuICBzZXRDb2xsaXNpb25DaGVjaygpO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gaXNWYWxpZFRhcmdldFRvVHJpZ2dlckV2ZW50KCBjdXJyZW50VGFyZ2V0OiBIVE1MRWxlbWVudCwgdGFyZ2V0Q2xhc3NOYW1lOiBzdHJpbmcsIHZhbGlkYXRlRGlzdGFuY2U/OiB7IGRpc3RhbmNlVGhyZXNob2xkOiBudW1iZXIsIGRpc3RhbmNlRnJvbUJvcmRlcjogQ29sbGlzaW9uQm9yZGVyRGlzdGFuY2UgfSApOiBib29sZWFuIHtcclxuICBpZiAoICFjdXJyZW50VGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucyggdGFyZ2V0Q2xhc3NOYW1lICkgKSB7XHJcbiAgICByZXR1cm4gZmFsc2U7XHJcbiAgfVxyXG5cclxuICBpZiAoIHZhbGlkYXRlRGlzdGFuY2UgKSB7XHJcbiAgICAvLy8gQ2hlY2tzIGhvdyBtYW55IHBpeGVscyB0aGUgZHJhZ2dhYmxlIGlzIGluc2lkZSBmcm9tIGVhY2ggYm9yZGVyOyBpZiB0aGUgZWxlbWVudCBpcyBvdmVyIHRoZSB0aHJlc2hvbGQgdGhlIGZ1bmN0aW9uIHdpbGwgcmV0dXJuIHRydWU7XHJcbiAgICBjb25zdCBjb2xsaXNpb25Cb3JkZXJEaXN0YW5jZUV4dHJhcyA9IG5ldyBDb2xsaXNpb25Cb3JkZXJEaXN0YW5jZUV4dHJhcyggdmFsaWRhdGVEaXN0YW5jZS5kaXN0YW5jZUZyb21Cb3JkZXIgKTtcclxuICAgIGlmICggY29sbGlzaW9uQm9yZGVyRGlzdGFuY2VFeHRyYXMuYW55TG93ZXJUaGFuKCB2YWxpZGF0ZURpc3RhbmNlLmRpc3RhbmNlVGhyZXNob2xkICkgKSB7XHJcbiAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHJldHVybiB0cnVlO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gZ2V0RWxlbWVudHNJbnRlcmFjdGluZ1NldCggdGFyZ2V0OiBIVE1MRWxlbWVudCApOiBTZXQ8SFRNTEVsZW1lbnQ+IHtcclxuICBpZiAoICFtYXBFbGVtZW50c1RyaWdnZXJpbmdFdmVudHNCeVRhcmdldC5oYXMoIHRhcmdldCApICkge1xyXG4gICAgbWFwRWxlbWVudHNUcmlnZ2VyaW5nRXZlbnRzQnlUYXJnZXQuc2V0KCB0YXJnZXQsIG5ldyBTZXQ8SFRNTEVsZW1lbnQ+KCkgKTtcclxuICB9XHJcblxyXG4gIHJldHVybiBtYXBFbGVtZW50c1RyaWdnZXJpbmdFdmVudHNCeVRhcmdldC5nZXQoIHRhcmdldCApITtcclxufVxyXG4iLCJpbXBvcnQgeyBJUG9pbnQyRCB9IGZyb20gJy4vaW50ZXJmYWNlcyc7XHJcblxyXG5leHBvcnQgZW51bSBDT05WRVJTSU9OX1VOSVQgeyBQSVhFTCwgUEVSQ0VOVEFHRSB9XHJcbmV4cG9ydCBlbnVtIERJUkVDVElPTl9SRUZFUkVOQ0UgeyBIT1JJWk9OVEFMLCBWRVJUSUNBTCB9XHJcbmV4cG9ydCBlbnVtIFZFUlRJQ0FMX1JFRkVSRU5DRSB7IEZST01fVE9QLCBGUk9NX0JPVFRPTSB9XHJcblxyXG5leHBvcnQgZW51bSBDT0xPUl9DSEFOTkVMIHsgUiwgRywgQiwgQSB9O1xyXG5cclxuZXhwb3J0IGludGVyZmFjZSBDb21wYXJhYmxlPFQ+IHtcclxuICBlcXVhbHMoIGI6IFQgKTogYm9vbGVhbjtcclxufVxyXG5cclxuXHJcbmV4cG9ydCBjbGFzcyBDU1NQb3NpdGlvbiBpbXBsZW1lbnRzIElQb2ludDJEIHtcclxuICBwdWJsaWMgeDogbnVtYmVyO1xyXG4gIHB1YmxpYyB5OiBudW1iZXI7XHJcbiAgcHJpdmF0ZSB0eXBlOiBDT05WRVJTSU9OX1VOSVQ7XHJcbiAgcHVibGljIHZlcnRpY2FsUmVmZXJlbmNlOiBWRVJUSUNBTF9SRUZFUkVOQ0U7XHJcblxyXG4gIGNvbnN0cnVjdG9yKCB7IHgsIHksIHZlcnRpY2FsUmVmZXJlbmNlID0gVkVSVElDQUxfUkVGRVJFTkNFLkZST01fVE9QLCB0eXBlID0gQ09OVkVSU0lPTl9VTklULlBJWEVMIH06IHsgeDogbnVtYmVyOyB5OiBudW1iZXI7IHZlcnRpY2FsUmVmZXJlbmNlPzogVkVSVElDQUxfUkVGRVJFTkNFOyB0eXBlPzogQ09OVkVSU0lPTl9VTklUOyB9ICkge1xyXG4gICAgW3RoaXMueCwgdGhpcy55LCB0aGlzLnZlcnRpY2FsUmVmZXJlbmNlLCB0aGlzLnR5cGVdID0gW3gsIHksIHZlcnRpY2FsUmVmZXJlbmNlLCB0eXBlXTtcclxuICB9XHJcblxyXG4gIGdldCBob3Jpem9udGFsKCk6IHN0cmluZyB7XHJcbiAgICBzd2l0Y2ggKCB0aGlzLnR5cGUgKSB7XHJcbiAgICAgIGNhc2UgQ09OVkVSU0lPTl9VTklULlBJWEVMOlxyXG4gICAgICAgIHJldHVybiBgJHsgdGhpcy54IH1weGA7XHJcbiAgICAgIGNhc2UgQ09OVkVSU0lPTl9VTklULlBFUkNFTlRBR0U6XHJcbiAgICAgICAgcmV0dXJuIGAkeyB0aGlzLnggfSVgO1xyXG4gICAgICBkZWZhdWx0OlxyXG4gICAgICAgIHJldHVybiBgJHsgdGhpcy54IH1weGA7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBnZXQgdmVydGljYWwoKTogc3RyaW5nIHtcclxuICAgIHN3aXRjaCAoIHRoaXMudHlwZSApIHtcclxuICAgICAgY2FzZSBDT05WRVJTSU9OX1VOSVQuUElYRUw6XHJcbiAgICAgICAgcmV0dXJuIGAkeyB0aGlzLnkgfXB4YDtcclxuICAgICAgY2FzZSBDT05WRVJTSU9OX1VOSVQuUEVSQ0VOVEFHRTpcclxuICAgICAgICByZXR1cm4gYCR7IHRoaXMueSB9JWA7XHJcbiAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgcmV0dXJuIGAkeyB0aGlzLnkgfXB4YDtcclxuICAgIH1cclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCB0eXBlIENvbGxpc2lvbkRpcmVjdGlvbkNoZWNrID0ge1xyXG4gIHRvcDogYm9vbGVhbjtcclxuICByaWdodDogYm9vbGVhbjtcclxuICBjZW50ZXI6IGJvb2xlYW47XHJcbiAgYm90dG9tOiBib29sZWFuO1xyXG4gIGxlZnQ6IGJvb2xlYW47XHJcbn07XHJcblxyXG5leHBvcnQgdHlwZSBDb2xsaXNpb25Cb3JkZXJEaXN0YW5jZSA9IHtcclxuICB0b3A6IG51bWJlcjtcclxuICByaWdodDogbnVtYmVyO1xyXG4gIGJvdHRvbTogbnVtYmVyO1xyXG4gIGxlZnQ6IG51bWJlcjtcclxufVxyXG5cclxuZXhwb3J0IGludGVyZmFjZSBJQ29sbGlzaW9uRXZlbnQge1xyXG4gIHRhcmdldENsYXNzOiBzdHJpbmc7XHJcbiAgYXV0b0luc2VydFRhcmdldENsYXNzOiBib29sZWFuO1xyXG4gIG9uQ29sbGlkaW5nKCBkcmFnZ2FibGU6IEhUTUxFbGVtZW50LCB0YXJnZXQ6IEhUTUxFbGVtZW50LCBjb2xsaWRpbmdBdDogQ29sbGlzaW9uRGlyZWN0aW9uQ2hlY2ssIGRpc3RhbmNlRnJvbUJvcmRlcjogQ29sbGlzaW9uQm9yZGVyRGlzdGFuY2UgKTogUHJvbWlzZTx2b2lkPjtcclxuICBvbk5vdENvbGxpZGluZyggZHJhZ2dhYmxlOiBIVE1MRWxlbWVudCwgdGFyZ2V0OiBIVE1MRWxlbWVudCApOiBQcm9taXNlPHZvaWQ+O1xyXG59XHJcblxyXG5leHBvcnQgdHlwZSBDb2xsaXNpb25UcmlnZ2VyT3B0aW9ucyA9IHtcclxuICB0cmlnZ2VyRWxlbWVudDogSFRNTEVsZW1lbnQ7XHJcbiAgZXZlbnRzOiBJQ29sbGlzaW9uRXZlbnRbXTtcclxufTtcclxuXHJcbmV4cG9ydCBjbGFzcyBDb2xsaXNpb25Cb3JkZXJEaXN0YW5jZUV4dHJhcyB7XHJcbiAgY29sbGlzaW9uQm9yZGVyRGlzdGFuY2VzOiBDb2xsaXNpb25Cb3JkZXJEaXN0YW5jZTtcclxuXHJcbiAgY29uc3RydWN0b3IoIGNvbGxpc2lvbkJvcmRlckRpc3RhbmNlOiBDb2xsaXNpb25Cb3JkZXJEaXN0YW5jZSApIHtcclxuICAgIHRoaXMuY29sbGlzaW9uQm9yZGVyRGlzdGFuY2VzID0gY29sbGlzaW9uQm9yZGVyRGlzdGFuY2U7XHJcbiAgfVxyXG5cclxuICBwdWJsaWMgYW55R3JlYXRlclRoYW4oIG51bTogbnVtYmVyICk6IGJvb2xlYW4ge1xyXG4gICAgcmV0dXJuIHRoaXMuY29sbGlzaW9uQm9yZGVyRGlzdGFuY2VzLnRvcCA+IG51bVxyXG4gICAgICB8fCB0aGlzLmNvbGxpc2lvbkJvcmRlckRpc3RhbmNlcy5yaWdodCA+IG51bVxyXG4gICAgICB8fCB0aGlzLmNvbGxpc2lvbkJvcmRlckRpc3RhbmNlcy5ib3R0b20gPiBudW1cclxuICAgICAgfHwgdGhpcy5jb2xsaXNpb25Cb3JkZXJEaXN0YW5jZXMubGVmdCA+IG51bTtcclxuICB9XHJcblxyXG4gIHB1YmxpYyBhbnlMb3dlclRoYW4oIG51bTogbnVtYmVyICk6IGJvb2xlYW4ge1xyXG4gICAgcmV0dXJuIHRoaXMuY29sbGlzaW9uQm9yZGVyRGlzdGFuY2VzLnRvcCA8IG51bVxyXG4gICAgICB8fCB0aGlzLmNvbGxpc2lvbkJvcmRlckRpc3RhbmNlcy5yaWdodCA8IG51bVxyXG4gICAgICB8fCB0aGlzLmNvbGxpc2lvbkJvcmRlckRpc3RhbmNlcy5ib3R0b20gPCBudW1cclxuICAgICAgfHwgdGhpcy5jb2xsaXNpb25Cb3JkZXJEaXN0YW5jZXMubGVmdCA8IG51bTtcclxuICB9XHJcblxyXG4gIHB1YmxpYyBhbnlFcXVhbHMoIG51bTogbnVtYmVyICk6IGJvb2xlYW4ge1xyXG4gICAgcmV0dXJuIHRoaXMuY29sbGlzaW9uQm9yZGVyRGlzdGFuY2VzLnRvcCA9PT0gbnVtXHJcbiAgICAgIHx8IHRoaXMuY29sbGlzaW9uQm9yZGVyRGlzdGFuY2VzLnJpZ2h0ID09PSBudW1cclxuICAgICAgfHwgdGhpcy5jb2xsaXNpb25Cb3JkZXJEaXN0YW5jZXMuYm90dG9tID09PSBudW1cclxuICAgICAgfHwgdGhpcy5jb2xsaXNpb25Cb3JkZXJEaXN0YW5jZXMubGVmdCA9PT0gbnVtO1xyXG4gIH1cclxufSIsIi8vIFRoZSBtb2R1bGUgY2FjaGVcbnZhciBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX18gPSB7fTtcblxuLy8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbmZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG5cdHZhciBjYWNoZWRNb2R1bGUgPSBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdO1xuXHRpZiAoY2FjaGVkTW9kdWxlICE9PSB1bmRlZmluZWQpIHtcblx0XHRyZXR1cm4gY2FjaGVkTW9kdWxlLmV4cG9ydHM7XG5cdH1cblx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcblx0dmFyIG1vZHVsZSA9IF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF0gPSB7XG5cdFx0Ly8gbm8gbW9kdWxlLmlkIG5lZWRlZFxuXHRcdC8vIG5vIG1vZHVsZS5sb2FkZWQgbmVlZGVkXG5cdFx0ZXhwb3J0czoge31cblx0fTtcblxuXHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cblx0X193ZWJwYWNrX21vZHVsZXNfX1ttb2R1bGVJZF0obW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cblx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcblx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xufVxuXG4iLCIvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9ucyBmb3IgaGFybW9ueSBleHBvcnRzXG5fX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSAoZXhwb3J0cywgZGVmaW5pdGlvbikgPT4ge1xuXHRmb3IodmFyIGtleSBpbiBkZWZpbml0aW9uKSB7XG5cdFx0aWYoX193ZWJwYWNrX3JlcXVpcmVfXy5vKGRlZmluaXRpb24sIGtleSkgJiYgIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBrZXkpKSB7XG5cdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywga2V5LCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZGVmaW5pdGlvbltrZXldIH0pO1xuXHRcdH1cblx0fVxufTsiLCJfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSAob2JqLCBwcm9wKSA9PiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwgcHJvcCkpIiwiLy8gZGVmaW5lIF9fZXNNb2R1bGUgb24gZXhwb3J0c1xuX193ZWJwYWNrX3JlcXVpcmVfXy5yID0gKGV4cG9ydHMpID0+IHtcblx0aWYodHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgU3ltYm9sLnRvU3RyaW5nVGFnKSB7XG5cdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFN5bWJvbC50b1N0cmluZ1RhZywgeyB2YWx1ZTogJ01vZHVsZScgfSk7XG5cdH1cblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcbn07IiwiaW1wb3J0IHsgZ2V0RGVmYXVsdEF0dHJpYnV0ZUZvclRhcmdldCB9IGZyb20gJy4vRE9NVG9vbHMnO1xyXG5pbXBvcnQgeyBpc1ZhbGlkVGFyZ2V0VG9UcmlnZ2VyRXZlbnQsIGdldEVsZW1lbnRzSW50ZXJhY3RpbmdTZXQsIG1hcFRhcmdldHNDb2xsaWRpbmdCeVRyaWdnZXJFbGVtZW50IH0gZnJvbSAnLi9EcmFnZ2FibGVBY3Rpb24nO1xyXG5pbXBvcnQgeyBDb2xsaXNpb25EaXJlY3Rpb25DaGVjaywgQ29sbGlzaW9uQm9yZGVyRGlzdGFuY2UsIElDb2xsaXNpb25FdmVudCB9IGZyb20gJy4vdHlwZXMnO1xyXG5cclxuZXhwb3J0IHR5cGUgU2hhcmVBdHRyaWJ1dGVDb2xsaXNpb25FdmVudE9wdGlvbnMgPSB7XHJcbiAga2VlcEF0dHJpYnV0ZT86IGJvb2xlYW47XHJcbn1cclxuXHJcblxyXG5jb25zdCBkZWZhdWx0U2hhcmVBdHRyaWJ1dGVDb2xsaXNpb25FdmVudE9wdGlvbnMgPSB7XHJcbiAga2VlcEF0dHJpYnV0ZTogZmFsc2VcclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIFNoYXJlQXR0cmlidXRlQ29sbGlzaW9uRXZlbnQgaW1wbGVtZW50cyBJQ29sbGlzaW9uRXZlbnQge1xyXG4gIGtlZXBBdHRyaWJ1dGU6IGJvb2xlYW47XHJcblxyXG4gIHB1YmxpYyB0YXJnZXRDbGFzczogc3RyaW5nID0gJ2F0dHJpYnV0ZS10YXJnZXQnO1xyXG4gIHB1YmxpYyBhdXRvSW5zZXJ0VGFyZ2V0Q2xhc3M6IGJvb2xlYW4gPSB0cnVlO1xyXG5cclxuICBjb25zdHJ1Y3Rvciggb3B0aW9uczogU2hhcmVBdHRyaWJ1dGVDb2xsaXNpb25FdmVudE9wdGlvbnMgPSBkZWZhdWx0U2hhcmVBdHRyaWJ1dGVDb2xsaXNpb25FdmVudE9wdGlvbnMgKSB7XHJcbiAgICB0aGlzLmtlZXBBdHRyaWJ1dGUgPSBvcHRpb25zLmtlZXBBdHRyaWJ1dGUgfHwgZmFsc2U7XHJcbiAgfVxyXG5cclxuICBwdWJsaWMgYXN5bmMgb25Db2xsaWRpbmcoIGRyYWdnYWJsZTogSFRNTEVsZW1lbnQsIHRhcmdldDogSFRNTEVsZW1lbnQsIF9jb2xsaWRpbmdBdDogQ29sbGlzaW9uRGlyZWN0aW9uQ2hlY2ssIF9kaXN0YW5jZUZyb21Cb3JkZXI6IENvbGxpc2lvbkJvcmRlckRpc3RhbmNlICkge1xyXG4gICAgLy8vIENoZWNrcyBpZiB0aGUgZHJhZ2dhYmxlIGhhcyB0aGUga2V5IGF0dHJpYnV0ZXMgdGhhdCByZXByZXNlbnRzIHdoYXQgYXR0cmlidXRlIHdpbGwgYmUgaW5zZXJ0ZWQgb24gdGFyZ2V0XHJcbiAgICBjb25zdCBzaGFyZWRBdHRyaWJ1dGVOYW1lID0gZHJhZ2dhYmxlLmdldEF0dHJpYnV0ZSggJ3NoYXJlZC1hdHRyaWJ1dGUtbmFtZScgKTtcclxuICAgIGNvbnN0IHNoYXJlZEF0dHJpYnV0ZVZhbHVlID0gZHJhZ2dhYmxlLmdldEF0dHJpYnV0ZSggJ3NoYXJlZC1hdHRyaWJ1dGUtdmFsdWUnICk7XHJcbiAgICBpZiAoICFzaGFyZWRBdHRyaWJ1dGVWYWx1ZSB8fCAhc2hhcmVkQXR0cmlidXRlTmFtZSB8fCAhaXNWYWxpZFRhcmdldFRvVHJpZ2dlckV2ZW50KCB0YXJnZXQsIHRoaXMudGFyZ2V0Q2xhc3MgKSApIHtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IGVsZW1lbnRzSW50ZXJhY3RpbmdTZXQ6IFNldDxIVE1MRWxlbWVudD4gPSBnZXRFbGVtZW50c0ludGVyYWN0aW5nU2V0KCB0YXJnZXQgKTtcclxuICAgIGNvbnN0IG5hbWVDb3VudEVsZW1lbnRzSW50ZXJhY3RpbmdBdHRyaWJ1dGUgPSAndG90YWwtc2hhcmluZy1hdHRyaWJ1dGVzJztcclxuXHJcbiAgICBpZiAoIGRyYWdnYWJsZS5jbGFzc0xpc3QuY29udGFpbnMoICdkcmFnZ2luZycgKSApIHtcclxuICAgICAgZHJhZ2dhYmxlLmNsYXNzTGlzdC5yZW1vdmUoICdzaGFyaW5nLWF0dHJpYnV0ZScgKTtcclxuICAgICAgZHJhZ2dhYmxlLmNsYXNzTGlzdC5hZGQoICdyZWFkeS10by1zaGFyZS1hdHRyaWJ1dGUnICk7XHJcblxyXG4gICAgICB0aGlzLmhhbmRsZUVsZW1lbnRJbnRlcmFjdGlvblNoYXJlQXR0cmlidXRlKCBkcmFnZ2FibGUsIHRhcmdldCwgZWxlbWVudHNJbnRlcmFjdGluZ1NldCwgbmFtZUNvdW50RWxlbWVudHNJbnRlcmFjdGluZ0F0dHJpYnV0ZSApO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgZHJhZ2dhYmxlLmNsYXNzTGlzdC5hZGQoICdzaGFyaW5nLWF0dHJpYnV0ZScgKTtcclxuICAgICAgZHJhZ2dhYmxlLmNsYXNzTGlzdC5yZW1vdmUoICdyZWFkeS10by1zaGFyZS1hdHRyaWJ1dGUnICk7XHJcblxyXG4gICAgICB0YXJnZXQuc2V0QXR0cmlidXRlKCBzaGFyZWRBdHRyaWJ1dGVOYW1lLCBzaGFyZWRBdHRyaWJ1dGVWYWx1ZSApO1xyXG5cclxuICAgICAgZWxlbWVudHNJbnRlcmFjdGluZ1NldC5hZGQoIGRyYWdnYWJsZSApO1xyXG4gICAgICB0aGlzLmhhbmRsZUVsZW1lbnRJbnRlcmFjdGlvblNoYXJlQXR0cmlidXRlKCBkcmFnZ2FibGUsIHRhcmdldCwgZWxlbWVudHNJbnRlcmFjdGluZ1NldCwgbmFtZUNvdW50RWxlbWVudHNJbnRlcmFjdGluZ0F0dHJpYnV0ZSApO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgcHVibGljIGFzeW5jIG9uTm90Q29sbGlkaW5nKCBkcmFnZ2FibGU6IEhUTUxFbGVtZW50LCB0YXJnZXQ6IEhUTUxFbGVtZW50ICkge1xyXG4gICAgY29uc3QgZWxlbWVudHNJbnRlcmFjdGluZ1NldDogU2V0PEhUTUxFbGVtZW50PiA9IGdldEVsZW1lbnRzSW50ZXJhY3RpbmdTZXQoIHRhcmdldCApO1xyXG5cclxuICAgIGlmICggZWxlbWVudHNJbnRlcmFjdGluZ1NldC5zaXplID4gMCApIHtcclxuICAgICAgdGFyZ2V0LmNsYXNzTGlzdC5hZGQoICdzaGFyaW5nLWF0dHJpYnV0ZScgKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRoaXMub25TaGFyZWRBdHRyaWJ1dGVFbXB0eSggZHJhZ2dhYmxlLCB0YXJnZXQgKTtcclxuICAgIH1cclxuXHJcbiAgICBpZiAoICFtYXBUYXJnZXRzQ29sbGlkaW5nQnlUcmlnZ2VyRWxlbWVudC5oYXMoIGRyYWdnYWJsZSApICkge1xyXG4gICAgICBtYXBUYXJnZXRzQ29sbGlkaW5nQnlUcmlnZ2VyRWxlbWVudC5zZXQoIGRyYWdnYWJsZSwgbmV3IFNldDxIVE1MRWxlbWVudD4oKSApO1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IGFnZW50Q29sbGlzaW9uU2V0ID0gbWFwVGFyZ2V0c0NvbGxpZGluZ0J5VHJpZ2dlckVsZW1lbnQuZ2V0KCBkcmFnZ2FibGUgKSE7XHJcbiAgICBpZiAoIGFnZW50Q29sbGlzaW9uU2V0LmRlbGV0ZSggdGFyZ2V0IGFzIEhUTUxFbGVtZW50ICkgfHwgYWdlbnRDb2xsaXNpb25TZXQuc2l6ZSA9PT0gMCApIHtcclxuICAgICAgZHJhZ2dhYmxlLmNsYXNzTGlzdC5yZW1vdmUoICdzaGFyaW5nLWF0dHJpYnV0ZScsICdyZWFkeS10by1zaGFyZS1hdHRyaWJ1dGUnICk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBwdWJsaWMgaGFuZGxlRWxlbWVudEludGVyYWN0aW9uU2hhcmVBdHRyaWJ1dGUoIGRyYWdnYWJsZTogSFRNTEVsZW1lbnQsIHRhcmdldDogSFRNTEVsZW1lbnQsIGVsZW1lbnRzSW50ZXJhY3RpbmdTZXQ6IFNldDxIVE1MRWxlbWVudD4sIG5hbWVDb3VudEVsZW1lbnRzSW50ZXJhY3RpbmdBdHRyaWJ1dGU6IHN0cmluZyApIHtcclxuICAgIGlmICggZWxlbWVudHNJbnRlcmFjdGluZ1NldC5zaXplID4gMCApIHtcclxuICAgICAgdGFyZ2V0LmNsYXNzTGlzdC5hZGQoICdzaGFyaW5nLWF0dHJpYnV0ZScgKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRoaXMub25TaGFyZWRBdHRyaWJ1dGVFbXB0eSggZHJhZ2dhYmxlLCB0YXJnZXQgKTtcclxuICAgIH1cclxuXHJcbiAgICB0YXJnZXQuc2V0QXR0cmlidXRlKCBuYW1lQ291bnRFbGVtZW50c0ludGVyYWN0aW5nQXR0cmlidXRlLCBlbGVtZW50c0ludGVyYWN0aW5nU2V0LnNpemUudG9TdHJpbmcoKSApO1xyXG4gIH1cclxuXHJcbiAgcHVibGljIG9uU2hhcmVkQXR0cmlidXRlRW1wdHkoIGRyYWdnYWJsZTogSFRNTEVsZW1lbnQsIHRhcmdldDogSFRNTEVsZW1lbnQgKSB7XHJcbiAgICB0YXJnZXQuY2xhc3NMaXN0LnJlbW92ZSggJ3NoYXJpbmctYXR0cmlidXRlJyApO1xyXG5cclxuICAgIC8vLyBSZXR1cm5zIHRoZSBhdHRyaWJ1dGUgdG8gdGhlIGZpcnN0IGF0dHJpYnV0ZSB0aGF0IHdhcyBzZXQgdG8gdGFyZ2V0XHJcbiAgICBjb25zdCBzaGFyZWRBdHRyaWJ1dGVOYW1lID0gZHJhZ2dhYmxlLmdldEF0dHJpYnV0ZSggJ3NoYXJlZC1hdHRyaWJ1dGUtbmFtZScgKTtcclxuICAgIGlmICggc2hhcmVkQXR0cmlidXRlTmFtZSApIHtcclxuICAgICAgY29uc3QgZGVmYXVsdFNoYXJlZEF0dHJpYnV0ZUZyb21UYXJnZXQgPSBnZXREZWZhdWx0QXR0cmlidXRlRm9yVGFyZ2V0KCB0YXJnZXQsIHNoYXJlZEF0dHJpYnV0ZU5hbWUgKTtcclxuICAgICAgaWYgKCBkZWZhdWx0U2hhcmVkQXR0cmlidXRlRnJvbVRhcmdldCApIHtcclxuICAgICAgICB0YXJnZXQuc2V0QXR0cmlidXRlKCBzaGFyZWRBdHRyaWJ1dGVOYW1lLCBkZWZhdWx0U2hhcmVkQXR0cmlidXRlRnJvbVRhcmdldCApO1xyXG4gICAgICB9IGVsc2UgaWYgKCAhdGhpcy5rZWVwQXR0cmlidXRlICkge1xyXG4gICAgICAgIHRhcmdldC5yZW1vdmVBdHRyaWJ1dGUoIHNoYXJlZEF0dHJpYnV0ZU5hbWUgKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxufVxyXG5cclxuIl0sIm5hbWVzIjpbImRpY3RLZXlzQnlBY3Rpb24iLCJNYXAiLCJtYXBEZWZhdWx0QXR0cmlidXRlc0J5RWxlbWVudCIsImdldERlZmF1bHRBdHRyaWJ1dGVGb3JUYXJnZXQiLCJ0YXJnZXQiLCJhdHRyaWJ1dGVOYW1lIiwiaGFzIiwic2V0IiwicmVzdWx0IiwiZGVmYXVsdEF0dHJpYnV0ZVZhbHVlc0J5TmFtZSIsImdldCIsImdldEF0dHJpYnV0ZSIsIm5ld0RlZmF1bHRBdHRyaWJ1dGUiLCJzZXREZWZhdWx0QXR0cmlidXRlRm9yVGFyZ2V0Iiwid2luZG93IiwiYWRkRXZlbnRMaXN0ZW5lciIsImV2dCIsInBhaXIiLCJjb2RlIiwiZm9yRWFjaCIsImtiRXZlbnQiLCJtYXBUYXJnZXRzQ29sbGlkaW5nQnlUcmlnZ2VyRWxlbWVudCIsIm1hcEVsZW1lbnRzVHJpZ2dlcmluZ0V2ZW50c0J5VGFyZ2V0IiwiaXNWYWxpZFRhcmdldFRvVHJpZ2dlckV2ZW50IiwiY3VycmVudFRhcmdldCIsInRhcmdldENsYXNzTmFtZSIsInZhbGlkYXRlRGlzdGFuY2UiLCJjbGFzc0xpc3QiLCJjb250YWlucyIsIkNvbGxpc2lvbkJvcmRlckRpc3RhbmNlRXh0cmFzIiwiZGlzdGFuY2VGcm9tQm9yZGVyIiwiYW55TG93ZXJUaGFuIiwiZGlzdGFuY2VUaHJlc2hvbGQiLCJnZXRFbGVtZW50c0ludGVyYWN0aW5nU2V0IiwiU2V0IiwiQ09OVkVSU0lPTl9VTklUIiwiRElSRUNUSU9OX1JFRkVSRU5DRSIsIlZFUlRJQ0FMX1JFRkVSRU5DRSIsIkNPTE9SX0NIQU5ORUwiLCJjb2xsaXNpb25Cb3JkZXJEaXN0YW5jZXMiLCJjb25zdHJ1Y3RvciIsImNvbGxpc2lvbkJvcmRlckRpc3RhbmNlIiwidGhpcyIsImFueUdyZWF0ZXJUaGFuIiwibnVtIiwidG9wIiwicmlnaHQiLCJib3R0b20iLCJsZWZ0IiwiYW55RXF1YWxzIiwiX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiY2FjaGVkTW9kdWxlIiwidW5kZWZpbmVkIiwiZXhwb3J0cyIsIm1vZHVsZSIsIl9fd2VicGFja19tb2R1bGVzX18iLCJkIiwiZGVmaW5pdGlvbiIsImtleSIsIm8iLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImVudW1lcmFibGUiLCJvYmoiLCJwcm9wIiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJjYWxsIiwiciIsIlN5bWJvbCIsInRvU3RyaW5nVGFnIiwidmFsdWUiLCJkZWZhdWx0U2hhcmVBdHRyaWJ1dGVDb2xsaXNpb25FdmVudE9wdGlvbnMiLCJrZWVwQXR0cmlidXRlIiwiU2hhcmVBdHRyaWJ1dGVDb2xsaXNpb25FdmVudCIsInRhcmdldENsYXNzIiwiYXV0b0luc2VydFRhcmdldENsYXNzIiwib3B0aW9ucyIsIm9uQ29sbGlkaW5nIiwiZHJhZ2dhYmxlIiwiX2NvbGxpZGluZ0F0IiwiX2Rpc3RhbmNlRnJvbUJvcmRlciIsInNoYXJlZEF0dHJpYnV0ZU5hbWUiLCJzaGFyZWRBdHRyaWJ1dGVWYWx1ZSIsImVsZW1lbnRzSW50ZXJhY3RpbmdTZXQiLCJuYW1lQ291bnRFbGVtZW50c0ludGVyYWN0aW5nQXR0cmlidXRlIiwicmVtb3ZlIiwiYWRkIiwiaGFuZGxlRWxlbWVudEludGVyYWN0aW9uU2hhcmVBdHRyaWJ1dGUiLCJzZXRBdHRyaWJ1dGUiLCJvbk5vdENvbGxpZGluZyIsInNpemUiLCJvblNoYXJlZEF0dHJpYnV0ZUVtcHR5IiwiYWdlbnRDb2xsaXNpb25TZXQiLCJkZWxldGUiLCJ0b1N0cmluZyIsImRlZmF1bHRTaGFyZWRBdHRyaWJ1dGVGcm9tVGFyZ2V0IiwicmVtb3ZlQXR0cmlidXRlIl0sInNvdXJjZVJvb3QiOiIifQ==