var DotDrawing;(()=>{"use strict";var t={689:()=>{CanvasRenderingContext2D.prototype.extensionFunction=function(t,i,e,n,s,a,o,h,r){var l,d=(t=(t=t.replace(/[\n]/g," \n ")).replace(/\r/g,"")).split(/[ ]+/),c=this.measureText(" ").width,v=[],m=0,u=0;v[m]={},v[m].Words=[];let C=0;for(;C<d.length;){var g=d[C];if("\n"==g)v[m].EndParagraph=!0,u=0,v[++m]={},v[m].Words=[],C++;else if((l={}).l=this.measureText(g).width,0===u){for(;l.l>n;)g=g.slice(0,g.length-1),l.l=this.measureText(g).width;if(""===g)return;l.word=g,v[m].Words.push(l),u=l.l,g!=d[C]?d[C]=d[C].slice(g.length,d[C].length):C++}else u+c+l.l>n?(v[m].EndParagraph=!1,u=0,v[++m]={},v[m].Words=[]):(l.word=g,v[m].Words.push(l),u+=c+l.l,C++)}0===u&&v[m].pop(),v[m].EndParagraph=!0;for(var f,x=h*v.length;x>s;)v.pop(),x=h*v.length;f="bottom"==o?e+s-x+h:"center"==o?e+s/2-x/2+h:e+h;var p=this.textAlign;for(var y in this.textAlign="left",v){var w,b,I=0;for(l in v[y].Words)I+=v[y].Words[l].l;for(l in"center"==a?(b=c,w=i+n/2-(I+c*(v[y].Words.length-1))/2):"justify"!=a||v[y].EndParagraph?"right"==a?(w=i+n-(I+c*(v[y].Words.length-1)),b=c):(w=i,b=c):(w=i,b=(n-I)/(v[y].Words.length-1)),v[y].Words)"fillText"==r?this.fillText(v[y].Words[l].word,w,f):"strokeText"==r&&this.strokeText(v[y].Words[l].word,w,f),w+=v[y].Words[l].l+b;f+=h}this.textAlign=p},CanvasRenderingContext2D.prototype.extensionFillText=function(t,i,e,n,s,a,o,h){this.extensionFunction(t,i,e,n,s,o,a,h,"fillText")},CanvasRenderingContext2D.prototype.extensionStrokeText=function(t,i,e,n,s,a,o,h){this.extensionFunction(t,i,e,n,s,o,a,h,"strokeText")}},605:(t,i,e)=>{function n(t,i,e=4){return{x:t/e%i,y:Math.floor(Math.floor(t/i)/e)}}e.d(i,{getPixelPositionByCanvasWidth:()=>n}),e(676),e(173)},173:(t,i,e)=>{e(19),Symbol.iterator},813:(t,i,e)=>{e.d(i,{Component:()=>s});var n=e(676);class s{position;container;fadeInAnimation;fadeOutAnimation;constructor(t,i,e,n){this.container=t,this.fadeInAnimation=e,this.fadeOutAnimation=n,i&&this.setupPosition(i)}async build(t){t&&t.mainLayer&&t.mainLayer.element.insertAdjacentElement("beforeend",this.container),this.container.style.display="flex",this.fadeInAnimation&&await this.fadeInAnimation.animate(this)}setupPosition(t){this.position=t,this.container.style.position="absolute",this.container.style.display="none",this.container.style.left=t.horizontal,t.verticalReference===n.VERTICAL_REFERENCE.FROM_TOP?this.container.style.top=t.vertical:this.container.style.bottom=t.vertical}async destroy(){this.fadeOutAnimation&&await this.fadeOutAnimation.animate(this),this.container.style.display="none"}}},631:()=>{HTMLElement.prototype.removeAllChildren=function(){for(;this.hasChildNodes();)this.firstChild&&this.removeChild(this.firstChild)},HTMLElement.prototype.makeCover=function(){this.style.display="flex",this.style.width="100%",this.style.height="100%",this.style.position="absolute",this.style.top="0",this.style.left="0"}},93:(t,i,e)=>{e.d(i,{Dot:()=>s});var n=e(19);class s{x;y;radius;color;context;alpha=0;constructor(t,i,e,n,s){this.x=t,this.y=i,this.color=n,this.context=s,this.radius=e}draw(){this.context.beginPath(),this.context.arc(this.x,this.y,this.radius,0,2*Math.PI,!1),this.context.fillStyle=`rgba(${this.color.toString()})`,this.context.fill()}drawRandomAlpha(){this.context.beginPath(),this.context.arc(this.x,this.y,this.radius,0,3*Math.PI,!1),this.context.fillStyle=`rgba(${this.color.toStringWithoutAlpha()}, 0.${(0,n.getRandomIntInclusive)(1,5)})`,this.context.fill()}drawFromTweenMax(){this.context.beginPath(),this.context.arc(this.x,this.y,this.radius,0,3*Math.PI,!1),this.context.fillStyle=`rgba(${this.color.toStringWithoutAlpha()}, ${this.alpha})`,this.context.fill()}}},234:(t,i,e)=>{e.d(i,{getFileExtension:()=>s});var n=e(902);function s(t){if((0,n.isNullOrEmpty)(t))return"";const i=t.split(".").pop();if(i&&i!==t)return i;const e=t.split("/").pop();return e&&e!==t?e:""}},335:(t,i,e)=>{e.d(i,{getCanvasResizeImage:()=>a,getImageByURL:()=>s}),e(605);var n=e(234);async function s(t){return new Promise((async i=>{const e=new Image;e.src=await fetch(t).then((t=>t.blob())).then((t=>URL.createObjectURL(t))),e.setAttribute("type",(0,n.getFileExtension)(t)),e.onload=()=>{i(e)}}))}async function a(t,i,e){const n=e&&e.resultCanvasId&&document.getElementById(e.resultCanvasId)||document.createElement("canvas"),s=e&&e.resultCanvasContext?e.resultCanvasContext:n.getContext("2d"),a=function({srcDimensions:t,outputDimensions:i}){if(i.width&&i.width>0){const e=i.width/t.width;return{width:i.width,height:t.height*e}}if(i.height&&i.height>0){const e=i.height/t.height;return{width:t.width*e,height:i.height}}return{width:t.width,height:t.height}}({srcDimensions:t,outputDimensions:i});n.width=a.width,n.height=a.height;const o=e&&e.resizeCanvasId&&document.getElementById(e.resizeCanvasId)||document.createElement("canvas"),h=e&&e.resizeCanvasContext?e.resizeCanvasContext:n.getContext("2d");return o.width=a.width,o.height=a.height,h.drawImage(t,0,0,o.width,o.height),h.drawImage(t,0,0,o.width,o.height),s.drawImage(o,0,0,o.width,o.height,0,0,n.width,n.height),{canvas:n,context:s}}},19:(t,i,e)=>{function n(t,i){return Math.floor(Math.random()*(i-t)+t)}function s(t,i){return t=Math.ceil(t),i=Math.floor(i),Math.floor(Math.random()*(i-t+1))+t}function a(t=0,i=0,e=100){return Math.max(i,Math.min(t,e))}e.d(i,{clamp:()=>a,getRandomIntExclusive:()=>n,getRandomIntInclusive:()=>s})},902:(t,i,e)=>{function n(t){return"string"!=typeof t||!t||""===t}e.d(i,{isNullOrEmpty:()=>n})},676:(t,i,e)=>{var n,s,a,o;e.d(i,{CONVERSION_UNIT:()=>n,CSSPosition:()=>h,VERTICAL_REFERENCE:()=>a}),function(t){t[t.PIXEL=0]="PIXEL",t[t.PERCENTAGE=1]="PERCENTAGE"}(n||(n={})),function(t){t[t.HORIZONTAL=0]="HORIZONTAL",t[t.VERTICAL=1]="VERTICAL"}(s||(s={})),function(t){t[t.FROM_TOP=0]="FROM_TOP",t[t.FROM_BOTTOM=1]="FROM_BOTTOM"}(a||(a={})),function(t){t[t.R=0]="R",t[t.G=1]="G",t[t.B=2]="B",t[t.A=3]="A"}(o||(o={}));class h{x;y;type;verticalReference;constructor({x:t,y:i,verticalReference:e=a.FROM_TOP,type:s=n.PIXEL}){[this.x,this.y,this.verticalReference,this.type]=[t,i,e,s]}get horizontal(){switch(this.type){case n.PIXEL:return`${this.x}px`;case n.PERCENTAGE:return`${this.x}%`;default:return`${this.x}px`}}get vertical(){switch(this.type){case n.PIXEL:return`${this.y}px`;case n.PERCENTAGE:return`${this.y}%`;default:return`${this.y}px`}}}}},i={};function e(n){var s=i[n];if(void 0!==s)return s.exports;var a=i[n]={exports:{}};return t[n](a,a.exports,e),a.exports}e.n=t=>{var i=t&&t.__esModule?()=>t.default:()=>t;return e.d(i,{a:i}),i},e.d=(t,i)=>{for(var n in i)e.o(i,n)&&!e.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:i[n]})},e.o=(t,i)=>Object.prototype.hasOwnProperty.call(t,i),e.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})};var n={};(()=>{e.r(n),e.d(n,{DotDrawing:()=>r}),e(631),e(689);var t=e(19),i=e(93),s=e(676),a=e(813),o=e(335),h=e(605);class r extends a.Component{invisibleCanvas;dotsAmount;invisibleCanvasContext;invisibleCanvasWidth=window.innerWidth;invisibleCanvasHeight=window.innerHeight;numberOffsetX;numberOffsetY;mainCanvas;mainCanvasContext;mainCanvasWidth;mainCanvasHeight;mainCanvasCenterX;mainCanvasCenterY;timePerPhrase;isAnimationRunning=!1;dots;numberPixelCoordinates=[];dotsMaxRadius;interactionGenerator;colors;fontFamily;fontSize;onAnimationEnd;content;constructor({content:e,timePerPhrase:n,dotsAmount:a,dotsMaxRadius:o,colors:h,fontFamily:r,onAnimationEnd:l,fontSize:d}){super(document.getElementById("canvas-number"),new s.CSSPosition({x:0,y:0,verticalReference:s.VERTICAL_REFERENCE.FROM_TOP,type:s.CONVERSION_UNIT.PIXEL})),this.fontSize=d,this.onAnimationEnd=l,this.fontFamily=r,this.content=e,this.timePerPhrase=n,this.dotsAmount=a,this.dotsMaxRadius=o,this.colors=h,this.mainCanvasWidth=window.innerWidth,this.mainCanvasHeight=window.innerHeight,this.mainCanvasCenterX=this.mainCanvasWidth/2,this.mainCanvasCenterY=this.mainCanvasHeight/2,this.invisibleCanvas=document.getElementById("canvas-number"),this.invisibleCanvasContext=this.invisibleCanvas.getContext("2d",{alpha:!0,willReadFrequently:!0}),this.invisibleCanvas.width=this.invisibleCanvasWidth,this.invisibleCanvas.height=this.invisibleCanvasHeight,this.mainCanvas=document.getElementById("canvas-dots"),this.mainCanvasContext=this.mainCanvas.getContext("2d",{alpha:!0,willReadFrequently:!0}),this.mainCanvas.width=this.mainCanvasWidth,this.mainCanvas.height=this.mainCanvasHeight,this.numberOffsetX=(this.mainCanvasWidth-this.invisibleCanvasWidth)/2,this.numberOffsetY=(this.mainCanvasHeight-this.invisibleCanvasHeight)/2,this.interactionGenerator=this.generateInteraction(),this.dots=[];for(var c=0;c<this.dotsAmount;c++){var v=new i.Dot((0,t.getRandomIntExclusive)(0,this.mainCanvasWidth),(0,t.getRandomIntExclusive)(0,this.mainCanvasHeight),this.dotsMaxRadius,this.colors[(0,t.getRandomIntExclusive)(0,this.colors.length-1)],this.mainCanvasContext);this.dots.push(v),this.tweenDots(v,void 0,"space")}}init(){this.isAnimationRunning=!0,this.setInteractionsCountdownCanvas(),this.loopCountdownCanvas()}drawImageFromBackgroundCanvas(){var t=this.invisibleCanvasContext.getImageData(0,0,this.invisibleCanvasWidth,this.invisibleCanvasHeight).data;let i=[];for(var e=t.length;e>=0;e-=4)if(0!==t[e]){const t=(0,h.getPixelPositionByCanvasWidth)(e,this.invisibleCanvasWidth),n=t.x&&t.x%(2*this.dotsMaxRadius+2)==0,s=t.y&&t.y%(2*this.dotsMaxRadius+2)==0;n&&s&&i.push(t)}this.formNumber(i)}formNumber(t){for(var i=0;i<t.length;i++)this.tweenDots(this.dots[i],t[i],void 0);this.isAnimationRunning&&setTimeout((()=>{this.breakNumber(t)}),this.timePerPhrase)}breakNumber(t){for(var i=0;i<t.length;i++)this.tweenDots(this.dots[i],void 0,"space");if(this.isAnimationRunning)setTimeout((()=>{this.setInteractionsCountdownCanvas()}),this.timePerPhrase);else{for(i=0;i<this.dots.length;i++)this.tweenDots(this.dots[i],void 0,"end");this.onAnimationEnd&&this.onAnimationEnd()}}setInteractionsCountdownCanvas(){this.interactionGenerator.next(),0===this.content.length&&(this.isAnimationRunning=!1)}async*generateInteraction(){for(;this.content.length>0;){const t=this.content.shift();if(t)switch(t.type){case"text":default:yield this.drawNumber(t.src);break;case"image":yield await this.drawImage(t.src)}}}drawNumber(t){this.invisibleCanvasContext.clearRect(0,0,this.invisibleCanvasWidth,this.invisibleCanvasHeight),this.invisibleCanvasContext.fillStyle="#24282f",this.invisibleCanvasContext.textAlign="center",this.invisibleCanvasContext.textBaseline="middle",this.invisibleCanvasContext.font=`${this.fontSize||168}px ${this.fontFamily||"sans-serif"}`,this.invisibleCanvasContext.extensionFillText(t,0,0,window.innerWidth,window.innerHeight,"center","center",this.fontSize?this.fontSize+30:180),this.drawImageFromBackgroundCanvas()}async drawImage(t){this.invisibleCanvasContext.clearRect(0,0,this.invisibleCanvasWidth,this.invisibleCanvasHeight);const i=await(0,o.getImageByURL)(t);(0,o.getCanvasResizeImage)(i,{height:i.height>300?300:-1,width:-1},{resultCanvasId:this.invisibleCanvas.id,resultCanvasContext:this.invisibleCanvasContext}),this.drawImageFromBackgroundCanvas()}tweenDots(i,e,n){i&&("space"===n?TweenMax.to(i,3+Math.round(100*Math.random())/100,{x:(0,t.getRandomIntInclusive)(0,this.mainCanvasWidth),y:(0,t.getRandomIntInclusive)(0,this.mainCanvasHeight),alpha:0,ease:Cubic.easeIn,onComplete:()=>{this.tweenDots(i,void 0,"space")}}):"end"===n?TweenMax.to(i,3+Math.round(100*Math.random())/100,{x:window.innerWidth/2,y:+window.innerHeight+50,alpha:0,ease:Cubic.easeInOut,onComplete:()=>{}}):e&&TweenMax.to(i,1.5+Math.round(100*Math.random())/100,{x:e.x+this.numberOffsetX,y:e.y+this.numberOffsetY,delay:0,alpha:1,ease:Cubic.easeInOut,onComplete:()=>{}}))}loopCountdownCanvas(){this.mainCanvasContext.clearRect(0,0,this.mainCanvasWidth,this.mainCanvasHeight);for(var t=0;t<this.dots.length;t++)this.dots[t].drawFromTweenMax();requestAnimationFrame((()=>this.loopCountdownCanvas()))}}})(),DotDrawing=n})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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LEdBQUkzQixFQUFLLEVBQUl0SyxLQUFLa00sTUFBdUIsSUFBaEJsTSxLQUFLZ0csVUFBbUIsSUFBSyxDQUM3RDVJLEVBQUd3TCxPQUFPQyxXQUFhLEVBQ3ZCeEwsR0FBSXVMLE9BQU9HLFlBQWMsR0FDekJ4RyxNQUFPLEVBQ1A0SixLQUFNQyxNQUFNRyxVQUNaRCxXQUFZLFNBRUpQLEdBQ1ZDLFNBQVNDLEdBQUkzQixFQUFLLElBQU10SyxLQUFLa00sTUFBdUIsSUFBaEJsTSxLQUFLZ0csVUFBbUIsSUFBSyxDQUMvRDVJLEVBQUcyTyxFQUFJM08sRUFBSWEsS0FBSytLLGNBQ2hCM0wsRUFBRzBPLEVBQUkxTyxFQUFJWSxLQUFLZ0wsY0FDaEJ1RCxNQUFPLEVBQ1BqSyxNQUFPLEVBQ1A0SixLQUFNQyxNQUFNRyxVQUNaRCxXQUFZLFNBR2xCLENBRUEsbUJBQUE1QixHQUNFek0sS0FBS2tMLGtCQUFrQnVDLFVBQVcsRUFBRyxFQUFHek4sS0FBS21MLGdCQUFpQm5MLEtBQUtvTCxrQkFFbkUsSUFBTSxJQUFJN0ssRUFBSSxFQUFHQSxFQUFJUCxLQUFLeUwsS0FBS2pMLE9BQVFELElBQ3JDUCxLQUFLeUwsS0FBS2xMLEdBQUcwRSxtQkFHZnVKLHVCQUF1QixJQUFNeE8sS0FBS3lNLHVCQUNwQyxFIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vQ2FudmFzRXh0ZW5zaW9ucy50cyIsIndlYnBhY2s6Ly8vLi9DYW52YXNUb29scy50cyIsIndlYnBhY2s6Ly8vLi9Db2xvclJHQkEudHMiLCJ3ZWJwYWNrOi8vLy4vQ29tcG9uZW50LnRzIiwid2VicGFjazovLy8uL0RPTUV4dGVuc2lvbnMudHMiLCJ3ZWJwYWNrOi8vLy4vRG90LnRzIiwid2VicGFjazovLy8uL0ZpbGVUb29scy50cyIsIndlYnBhY2s6Ly8vLi9JbWFnZVRvb2xzLnRzIiwid2VicGFjazovLy8uL01hdGhUb29scy50cyIsIndlYnBhY2s6Ly8vLi9TdHJpbmdUb29scy50cyIsIndlYnBhY2s6Ly8vLi90eXBlcy50cyIsIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vL3dlYnBhY2svcnVudGltZS9jb21wYXQgZ2V0IGRlZmF1bHQgZXhwb3J0Iiwid2VicGFjazovLy93ZWJwYWNrL3J1bnRpbWUvZGVmaW5lIHByb3BlcnR5IGdldHRlcnMiLCJ3ZWJwYWNrOi8vL3dlYnBhY2svcnVudGltZS9oYXNPd25Qcm9wZXJ0eSBzaG9ydGhhbmQiLCJ3ZWJwYWNrOi8vL3dlYnBhY2svcnVudGltZS9tYWtlIG5hbWVzcGFjZSBvYmplY3QiLCJ3ZWJwYWNrOi8vLy4vRG90RHJhd2luZy50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJcclxuaW50ZXJmYWNlIENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCB7XHJcbiAgZXh0ZW5zaW9uRnVuY3Rpb24oIHRleHQ6IHN0cmluZywgeDogbnVtYmVyLCB5OiBudW1iZXIsIHc6IG51bWJlciwgaDogbnVtYmVyLCBoQWxpZ246IHN0cmluZywgdkFsaWduOiBzdHJpbmcsIGxpbmVIZWlnaHQ6IG51bWJlciwgZm46IHN0cmluZyApOiB2b2lkO1xyXG4gIGV4dGVuc2lvbkZpbGxUZXh0KCB0ZXh0OiBzdHJpbmcsIHg6IG51bWJlciwgeTogbnVtYmVyLCB3OiBudW1iZXIsIGg6IG51bWJlciwgdkFsaWduOiBzdHJpbmcsIGhBbGlnbjogc3RyaW5nLCBsaW5lSGVpZ2h0OiBudW1iZXIgKTogdm9pZDtcclxuICBleHRlbnNpb25TdHJva2VUZXh0KCB0ZXh0OiBzdHJpbmcsIHg6IG51bWJlciwgeTogbnVtYmVyLCB3OiBudW1iZXIsIGg6IG51bWJlciwgdkFsaWduOiBzdHJpbmcsIGhBbGlnbjogc3RyaW5nLCBsaW5lSGVpZ2h0OiBudW1iZXIgKTogdm9pZDtcclxufVxyXG5cclxuQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJELnByb3RvdHlwZS5leHRlbnNpb25GdW5jdGlvbiA9IGZ1bmN0aW9uICggdGV4dDogc3RyaW5nLCB4OiBudW1iZXIsIHk6IG51bWJlciwgdzogbnVtYmVyLCBoOiBudW1iZXIsIGhBbGlnbjogc3RyaW5nLCB2QWxpZ246IHN0cmluZywgbGluZUhlaWdodDogbnVtYmVyLCBmbjogc3RyaW5nICkge1xyXG4gIHRleHQgPSB0ZXh0LnJlcGxhY2UoIC9bXFxuXS9nLCBcIiBcXG4gXCIgKTtcclxuICB0ZXh0ID0gdGV4dC5yZXBsYWNlKCAvXFxyL2csIFwiXCIgKTtcclxuICB2YXIgd29yZHMgPSB0ZXh0LnNwbGl0KCAvWyBdKy8gKTtcclxuICB2YXIgc3AgPSB0aGlzLm1lYXN1cmVUZXh0KCAnICcgKS53aWR0aDtcclxuICB2YXIgbGluZXM6IGFueVtdID0gW107XHJcbiAgdmFyIGFjdHVhbExpbmUgPSAwO1xyXG4gIHZhciBhY3R1YWxTaXplID0gMDtcclxuICB2YXIgd286IGFueTtcclxuICBsaW5lc1thY3R1YWxMaW5lXSA9IHt9O1xyXG4gIGxpbmVzW2FjdHVhbExpbmVdLldvcmRzID0gW107XHJcbiAgbGV0IGkgPSAwO1xyXG4gIHdoaWxlICggaSA8IHdvcmRzLmxlbmd0aCApIHtcclxuICAgIHZhciB3b3JkID0gd29yZHNbaV07XHJcbiAgICBpZiAoIHdvcmQgPT0gXCJcXG5cIiApIHtcclxuICAgICAgbGluZXNbYWN0dWFsTGluZV0uRW5kUGFyYWdyYXBoID0gdHJ1ZTtcclxuICAgICAgYWN0dWFsTGluZSsrO1xyXG4gICAgICBhY3R1YWxTaXplID0gMDtcclxuICAgICAgbGluZXNbYWN0dWFsTGluZV0gPSB7fTtcclxuICAgICAgbGluZXNbYWN0dWFsTGluZV0uV29yZHMgPSBbXTtcclxuICAgICAgaSsrO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgd28gPSB7fTtcclxuICAgICAgd28ubCA9IHRoaXMubWVhc3VyZVRleHQoIHdvcmQgKS53aWR0aDtcclxuICAgICAgaWYgKCBhY3R1YWxTaXplID09PSAwICkge1xyXG4gICAgICAgIHdoaWxlICggd28ubCA+IHcgKSB7XHJcbiAgICAgICAgICB3b3JkID0gd29yZC5zbGljZSggMCwgd29yZC5sZW5ndGggLSAxICk7XHJcbiAgICAgICAgICB3by5sID0gdGhpcy5tZWFzdXJlVGV4dCggd29yZCApLndpZHRoO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoIHdvcmQgPT09IFwiXCIgKSByZXR1cm47IC8vIEkgY2FuJ3QgZmlsbCBhIHNpbmdsZSBjaGFyYWN0ZXJcclxuICAgICAgICB3by53b3JkID0gd29yZDtcclxuICAgICAgICBsaW5lc1thY3R1YWxMaW5lXS5Xb3Jkcy5wdXNoKCB3byApO1xyXG4gICAgICAgIGFjdHVhbFNpemUgPSB3by5sO1xyXG4gICAgICAgIGlmICggd29yZCAhPSB3b3Jkc1tpXSApIHtcclxuICAgICAgICAgIHdvcmRzW2ldID0gd29yZHNbaV0uc2xpY2UoIHdvcmQubGVuZ3RoLCB3b3Jkc1tpXS5sZW5ndGggKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgaSsrO1xyXG4gICAgICAgIH1cclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBpZiAoIGFjdHVhbFNpemUgKyBzcCArIHdvLmwgPiB3ICkge1xyXG4gICAgICAgICAgbGluZXNbYWN0dWFsTGluZV0uRW5kUGFyYWdyYXBoID0gZmFsc2U7XHJcbiAgICAgICAgICBhY3R1YWxMaW5lKys7XHJcbiAgICAgICAgICBhY3R1YWxTaXplID0gMDtcclxuICAgICAgICAgIGxpbmVzW2FjdHVhbExpbmVdID0ge307XHJcbiAgICAgICAgICBsaW5lc1thY3R1YWxMaW5lXS5Xb3JkcyA9IFtdO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICB3by53b3JkID0gd29yZDtcclxuICAgICAgICAgIGxpbmVzW2FjdHVhbExpbmVdLldvcmRzLnB1c2goIHdvICk7XHJcbiAgICAgICAgICBhY3R1YWxTaXplICs9IHNwICsgd28ubDtcclxuICAgICAgICAgIGkrKztcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcbiAgaWYgKCBhY3R1YWxTaXplID09PSAwICkgbGluZXNbYWN0dWFsTGluZV0ucG9wKCk7XHJcbiAgbGluZXNbYWN0dWFsTGluZV0uRW5kUGFyYWdyYXBoID0gdHJ1ZTtcclxuXHJcbiAgdmFyIHRvdGFsSCA9IGxpbmVIZWlnaHQgKiBsaW5lcy5sZW5ndGg7XHJcbiAgd2hpbGUgKCB0b3RhbEggPiBoICkge1xyXG4gICAgbGluZXMucG9wKCk7XHJcbiAgICB0b3RhbEggPSBsaW5lSGVpZ2h0ICogbGluZXMubGVuZ3RoO1xyXG4gIH1cclxuXHJcbiAgdmFyIHl5O1xyXG4gIGlmICggdkFsaWduID09IFwiYm90dG9tXCIgKSB7XHJcbiAgICB5eSA9IHkgKyBoIC0gdG90YWxIICsgbGluZUhlaWdodDtcclxuICB9IGVsc2UgaWYgKCB2QWxpZ24gPT0gXCJjZW50ZXJcIiApIHtcclxuICAgIHl5ID0geSArIGggLyAyIC0gdG90YWxIIC8gMiArIGxpbmVIZWlnaHQ7XHJcbiAgfSBlbHNlIHtcclxuICAgIHl5ID0geSArIGxpbmVIZWlnaHQ7XHJcbiAgfVxyXG5cclxuICB2YXIgb2xkVGV4dEFsaWduID0gdGhpcy50ZXh0QWxpZ247XHJcbiAgdGhpcy50ZXh0QWxpZ24gPSBcImxlZnRcIjtcclxuXHJcbiAgZm9yICggdmFyIGxpIGluIGxpbmVzICkge1xyXG4gICAgdmFyIHRvdGFsTGVuZ3RoID0gMDtcclxuICAgIHZhciB4eCwgdXNwO1xyXG4gICAgZm9yICggd28gaW4gbGluZXNbbGldLldvcmRzICkgdG90YWxMZW5ndGggKz0gbGluZXNbbGldLldvcmRzW3dvXS5sO1xyXG4gICAgaWYgKCBoQWxpZ24gPT0gXCJjZW50ZXJcIiApIHtcclxuICAgICAgdXNwID0gc3A7XHJcbiAgICAgIHh4ID0geCArIHcgLyAyIC0gKCB0b3RhbExlbmd0aCArIHNwICogKCBsaW5lc1tsaV0uV29yZHMubGVuZ3RoIC0gMSApICkgLyAyO1xyXG4gICAgfSBlbHNlIGlmICggKCBoQWxpZ24gPT0gXCJqdXN0aWZ5XCIgKSAmJiAoICFsaW5lc1tsaV0uRW5kUGFyYWdyYXBoICkgKSB7XHJcbiAgICAgIHh4ID0geDtcclxuICAgICAgdXNwID0gKCB3IC0gdG90YWxMZW5ndGggKSAvICggbGluZXNbbGldLldvcmRzLmxlbmd0aCAtIDEgKTtcclxuICAgIH0gZWxzZSBpZiAoIGhBbGlnbiA9PSBcInJpZ2h0XCIgKSB7XHJcbiAgICAgIHh4ID0geCArIHcgLSAoIHRvdGFsTGVuZ3RoICsgc3AgKiAoIGxpbmVzW2xpXS5Xb3Jkcy5sZW5ndGggLSAxICkgKTtcclxuICAgICAgdXNwID0gc3A7XHJcbiAgICB9IGVsc2UgeyAvLyBsZWZ0XHJcbiAgICAgIHh4ID0geDtcclxuICAgICAgdXNwID0gc3A7XHJcbiAgICB9XHJcbiAgICBmb3IgKCB3byBpbiBsaW5lc1tsaV0uV29yZHMgKSB7XHJcbiAgICAgIGlmICggZm4gPT0gXCJmaWxsVGV4dFwiICkge1xyXG4gICAgICAgIHRoaXMuZmlsbFRleHQoIGxpbmVzW2xpXS5Xb3Jkc1t3b10ud29yZCwgeHgsIHl5ICk7XHJcbiAgICAgIH0gZWxzZSBpZiAoIGZuID09IFwic3Ryb2tlVGV4dFwiICkge1xyXG4gICAgICAgIHRoaXMuc3Ryb2tlVGV4dCggbGluZXNbbGldLldvcmRzW3dvXS53b3JkLCB4eCwgeXkgKTtcclxuICAgICAgfVxyXG4gICAgICB4eCArPSBsaW5lc1tsaV0uV29yZHNbd29dLmwgKyB1c3A7XHJcbiAgICB9XHJcbiAgICB5eSArPSBsaW5lSGVpZ2h0O1xyXG4gIH1cclxuICB0aGlzLnRleHRBbGlnbiA9IG9sZFRleHRBbGlnbjtcclxufVxyXG4gIDtcclxuXHJcbkNhbnZhc1JlbmRlcmluZ0NvbnRleHQyRC5wcm90b3R5cGUuZXh0ZW5zaW9uRmlsbFRleHQgPSBmdW5jdGlvbiAoIHRleHQ6IHN0cmluZywgeDogbnVtYmVyLCB5OiBudW1iZXIsIHc6IG51bWJlciwgaDogbnVtYmVyLCB2QWxpZ246IHN0cmluZywgaEFsaWduOiBzdHJpbmcsIGxpbmVIZWlnaHQ6IG51bWJlciApIHtcclxuICB0aGlzLmV4dGVuc2lvbkZ1bmN0aW9uKCB0ZXh0LCB4LCB5LCB3LCBoLCBoQWxpZ24sIHZBbGlnbiwgbGluZUhlaWdodCwgXCJmaWxsVGV4dFwiICk7XHJcbn07XHJcblxyXG5DYW52YXNSZW5kZXJpbmdDb250ZXh0MkQucHJvdG90eXBlLmV4dGVuc2lvblN0cm9rZVRleHQgPSBmdW5jdGlvbiAoIHRleHQ6IHN0cmluZywgeDogbnVtYmVyLCB5OiBudW1iZXIsIHc6IG51bWJlciwgaDogbnVtYmVyLCB2QWxpZ246IHN0cmluZywgaEFsaWduOiBzdHJpbmcsIGxpbmVIZWlnaHQ6IG51bWJlciApIHtcclxuICB0aGlzLmV4dGVuc2lvbkZ1bmN0aW9uKCB0ZXh0LCB4LCB5LCB3LCBoLCBoQWxpZ24sIHZBbGlnbiwgbGluZUhlaWdodCwgXCJzdHJva2VUZXh0XCIgKTtcclxufTsiLCJpbXBvcnQgeyBQb2ludDJEIH0gZnJvbSAnLi9NYXRoVG9vbHMnO1xyXG5pbXBvcnQgeyBDT0xPUl9DSEFOTkVMIH0gZnJvbSAnLi90eXBlcyc7XHJcbmltcG9ydCB7IENvbG9yUkdCQSB9IGZyb20gXCIuL0NvbG9yUkdCQVwiO1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGdldFBpeGVsUG9zaXRpb25CeUNhbnZhc1dpZHRoKCBwaXhlbEluZGV4OiBudW1iZXIsIGNhbnZhc1dpZHRoOiBudW1iZXIsIG51bWJlck9mQ29sb3JDaGFubmVsczogbnVtYmVyID0gNCApOiBQb2ludDJEIHtcclxuICByZXR1cm4ge1xyXG4gICAgeDogKCBwaXhlbEluZGV4IC8gbnVtYmVyT2ZDb2xvckNoYW5uZWxzICkgJSBjYW52YXNXaWR0aCxcclxuICAgIHk6IE1hdGguZmxvb3IoIE1hdGguZmxvb3IoIHBpeGVsSW5kZXggLyBjYW52YXNXaWR0aCApIC8gbnVtYmVyT2ZDb2xvckNoYW5uZWxzIClcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBnZXRQaXhlbENvbG9yRnJvbUNhbnZhcyggcGl4ZWxJbmRleDogbnVtYmVyLCBwaXhlbEFycmF5OiBVaW50OENsYW1wZWRBcnJheSApOiBDb2xvclJHQkEge1xyXG4gIHJldHVybiBuZXcgQ29sb3JSR0JBKFxyXG4gICAgcGl4ZWxBcnJheVtwaXhlbEluZGV4XSxcclxuICAgIHBpeGVsQXJyYXlbcGl4ZWxJbmRleCArIDFdLFxyXG4gICAgcGl4ZWxBcnJheVtwaXhlbEluZGV4ICsgMl0sXHJcbiAgICBwaXhlbEFycmF5W3BpeGVsSW5kZXggKyAzXSAvIDI1NSApO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gZ2V0Q29sb3JBcnJheUJ5Q29udGV4dCggY29udGV4dDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJELCBudW1iZXJPZkNvbG9yQ2hhbm5lbHM6IG51bWJlciA9IDQgKTogQ29sb3JSR0JBW10ge1xyXG4gIGNvbnN0IHBpeGVsQXJyYXkgPSBjb250ZXh0XHJcbiAgICAuZ2V0SW1hZ2VEYXRhKCAwLCAwLCBjb250ZXh0LmNhbnZhcy53aWR0aCwgY29udGV4dC5jYW52YXMuaGVpZ2h0IClcclxuICAgIC5kYXRhO1xyXG5cclxuICBjb25zdCBjb2xvckFycmF5OiBDb2xvclJHQkFbXSA9IFtdO1xyXG4gIGZvciAoIHZhciBpID0gcGl4ZWxBcnJheS5sZW5ndGg7IGkgPj0gMDsgaSAtPSBudW1iZXJPZkNvbG9yQ2hhbm5lbHMgKSB7XHJcbiAgICBjb2xvckFycmF5LnB1c2goIGdldFBpeGVsQ29sb3JGcm9tQ2FudmFzKCBpLCBwaXhlbEFycmF5ICkgKTtcclxuICB9XHJcblxyXG4gIHJldHVybiBjb2xvckFycmF5O1xyXG59XHJcblxyXG4vLy8gRmluZCB0aGUgY29sb3IgY2hhbm5lbCAoIHJlZCwgZ3JlZW4gb3IgYmx1ZSkgaW4gdGhlIGltYWdlIHdpdGggdGhlIGJpZ2dlc3QgcmFuZ2VcclxuZXhwb3J0IGZ1bmN0aW9uIGZpbmRCaWdnZXN0Q29sb3JSYW5nZSggcmdiVmFsdWVzOiBDb2xvclJHQkFbXSApIHtcclxuICBsZXQgck1pbiA9IE51bWJlci5NQVhfVkFMVUU7XHJcbiAgbGV0IGdNaW4gPSBOdW1iZXIuTUFYX1ZBTFVFO1xyXG4gIGxldCBiTWluID0gTnVtYmVyLk1BWF9WQUxVRTtcclxuXHJcbiAgbGV0IHJNYXggPSBOdW1iZXIuTUlOX1ZBTFVFO1xyXG4gIGxldCBnTWF4ID0gTnVtYmVyLk1JTl9WQUxVRTtcclxuICBsZXQgYk1heCA9IE51bWJlci5NSU5fVkFMVUU7XHJcblxyXG4gIHJnYlZhbHVlcy5mb3JFYWNoKCAoIHBpeGVsICkgPT4ge1xyXG4gICAgck1pbiA9IE1hdGgubWluKCByTWluLCBwaXhlbC5yICk7XHJcbiAgICBnTWluID0gTWF0aC5taW4oIGdNaW4sIHBpeGVsLmcgKTtcclxuICAgIGJNaW4gPSBNYXRoLm1pbiggYk1pbiwgcGl4ZWwuYiApO1xyXG5cclxuICAgIHJNYXggPSBNYXRoLm1heCggck1heCwgcGl4ZWwuciApO1xyXG4gICAgZ01heCA9IE1hdGgubWF4KCBnTWF4LCBwaXhlbC5nICk7XHJcbiAgICBiTWF4ID0gTWF0aC5tYXgoIGJNYXgsIHBpeGVsLmIgKTtcclxuICB9ICk7XHJcblxyXG4gIGNvbnN0IHJSYW5nZSA9IHJNYXggLSByTWluO1xyXG4gIGNvbnN0IGdSYW5nZSA9IGdNYXggLSBnTWluO1xyXG4gIGNvbnN0IGJSYW5nZSA9IGJNYXggLSBiTWluO1xyXG5cclxuICBjb25zdCBiaWdnZXN0UmFuZ2UgPSBNYXRoLm1heCggclJhbmdlLCBnUmFuZ2UsIGJSYW5nZSApO1xyXG4gIGlmICggYmlnZ2VzdFJhbmdlID09PSByUmFuZ2UgKSB7XHJcbiAgICByZXR1cm4gQ09MT1JfQ0hBTk5FTC5SO1xyXG4gIH0gZWxzZSBpZiAoIGJpZ2dlc3RSYW5nZSA9PT0gZ1JhbmdlICkge1xyXG4gICAgcmV0dXJuIENPTE9SX0NIQU5ORUwuRztcclxuICB9IGVsc2Uge1xyXG4gICAgcmV0dXJuIENPTE9SX0NIQU5ORUwuQjtcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBnZXRDb2xvclBhbGV0dGVCeUNvbnRleHQoIGNvbnRleHQ6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCwgZGVwdGg6IG51bWJlciA9IDAgKTogQ29sb3JSR0JBW10ge1xyXG4gIHJldHVybiBnZXRDb2xvclBhbGV0dGUoIGdldENvbG9yQXJyYXlCeUNvbnRleHQoIGNvbnRleHQgKSwgZGVwdGggKTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGdldENvbG9yUGFsZXR0ZSggcmdiVmFsdWVzOiBDb2xvclJHQkFbXSwgZGVwdGg6IG51bWJlciA9IDAgKTogQ29sb3JSR0JBW10ge1xyXG4gIC8vLyBUcmFuc2Zvcm1hbmRvIGVzc2EgcGFydGUgZGEgYXJyYXkgZGUgY29yZXMgZW0gdsOhcmlvcyBcInJhbmdlc1wiIGRlIGNvcmVzIGRpZmVyZW50ZXNcclxuICBjb25zdCBNQVhfREVQVEggPSA2O1xyXG4gIGlmICggZGVwdGggPT09IE1BWF9ERVBUSCB8fCByZ2JWYWx1ZXMubGVuZ3RoID09PSAwICkge1xyXG4gICAgY29uc3QgY29sb3IgPSByZ2JWYWx1ZXMucmVkdWNlKFxyXG4gICAgICAoIHByZXYsIGN1cnIgKSA9PiB7XHJcbiAgICAgICAgaWYgKCAhQ29sb3JSR0JBLmlzVmFsaWQoIHByZXYgKSB8fCAhQ29sb3JSR0JBLmlzVmFsaWQoIGN1cnIgKSApIHtcclxuICAgICAgICAgIHJldHVybiBDb2xvclJHQkEuTlVMTDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmICggQ29sb3JSR0JBLmlzVmFsaWQoIGN1cnIgKSApIHtcclxuICAgICAgICAgIHByZXYuciArPSBjdXJyLnI7XHJcbiAgICAgICAgICBwcmV2LmcgKz0gY3Vyci5nO1xyXG4gICAgICAgICAgcHJldi5iICs9IGN1cnIuYjtcclxuICAgICAgICAgIHByZXYuYSArPSBjdXJyLmE7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gcHJldjtcclxuICAgICAgfSxcclxuICAgICAgQ29sb3JSR0JBLk5VTExcclxuICAgICk7XHJcbiAgICBpZiAoICFDb2xvclJHQkEuTlVMTC5lcXVhbHMoIGNvbG9yICkgKSB7XHJcbiAgICAgIHJldHVybiBbbmV3IENvbG9yUkdCQShcclxuICAgICAgICBNYXRoLnJvdW5kKCBjb2xvci5yIC8gcmdiVmFsdWVzLmxlbmd0aCApLFxyXG4gICAgICAgIE1hdGgucm91bmQoIGNvbG9yLmcgLyByZ2JWYWx1ZXMubGVuZ3RoICksXHJcbiAgICAgICAgTWF0aC5yb3VuZCggY29sb3IuYiAvIHJnYlZhbHVlcy5sZW5ndGggKSxcclxuICAgICAgICBNYXRoLnJvdW5kKCBjb2xvci5hIC8gcmdiVmFsdWVzLmxlbmd0aCApXHJcbiAgICAgICldO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgcmV0dXJuIFtDb2xvclJHQkEuTlVMTF07XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvLy8gRW5jb250cmFuZG8gbyBjYW5hbCBkZSBjb3IgcXVlIG1haXMgYXBhcmVjZVxyXG4gIGNvbnN0IGNvbXBvbmVudFRvU29ydEJ5ID0gZmluZEJpZ2dlc3RDb2xvclJhbmdlKCByZ2JWYWx1ZXMgKTtcclxuXHJcbiAgLy8vIE9yZGVuYW5kbyBhIGFycmF5IHBlbG8gY2FuYWwgZGUgY29yIHByZWRvbWluYW50ZVxyXG4gIHJnYlZhbHVlcy5zb3J0KCAoIHAxLCBwMiApID0+IHtcclxuICAgIHN3aXRjaCAoIGNvbXBvbmVudFRvU29ydEJ5ICkge1xyXG4gICAgICBjYXNlIENPTE9SX0NIQU5ORUwuUjpcclxuICAgICAgICByZXR1cm4gcDEuciAtIHAyLnJcclxuICAgICAgY2FzZSBDT0xPUl9DSEFOTkVMLkc6XHJcbiAgICAgICAgcmV0dXJuIHAxLmcgLSBwMi5nXHJcbiAgICAgIGNhc2UgQ09MT1JfQ0hBTk5FTC5COlxyXG4gICAgICAgIHJldHVybiBwMS5iIC0gcDIuYlxyXG4gICAgICBkZWZhdWx0OlxyXG4gICAgICAgIHJldHVybiBwMS5yIC0gcDIuclxyXG4gICAgfVxyXG4gIH0gKTtcclxuXHJcbiAgLy8vIERpdmlkaW5kbyBhIGFycmF5IGVtIGRvaXMgZSB1c2FuZG8gcmVjdXJzw6NvIHBhcmEgbWVsaG9yYXIgbyBkZXNlbXBlbmhvXHJcbiAgY29uc3QgbWlkID0gcmdiVmFsdWVzLmxlbmd0aCAvIDI7XHJcbiAgcmV0dXJuIENvbG9yUkdCQS5nZXRVbmlxdWUoIFtcclxuICAgIC4uLmdldENvbG9yUGFsZXR0ZSggcmdiVmFsdWVzLnNsaWNlKCAwLCBtaWQgKSwgZGVwdGggKyAxICksXHJcbiAgICAuLi5nZXRDb2xvclBhbGV0dGUoIHJnYlZhbHVlcy5zbGljZSggbWlkICsgMSApLCBkZXB0aCArIDEgKSxcclxuICBdLmZpbHRlciggYyA9PiAhYy5lcXVhbHMoIENvbG9yUkdCQS5OVUxMICkgKSApO1xyXG59IiwiaW1wb3J0IHsgY2xhbXAgfSBmcm9tICcuL01hdGhUb29scyc7XHJcbmltcG9ydCB7IENvbXBhcmFibGUgfSBmcm9tICcuL3R5cGVzJztcclxuXHJcbmV4cG9ydCBjbGFzcyBDb2xvclJHQkEgaW1wbGVtZW50cyBDb21wYXJhYmxlPENvbG9yUkdCQT4ge1xyXG4gIHB1YmxpYyByOiBudW1iZXI7XHJcbiAgcHVibGljIGc6IG51bWJlcjtcclxuICBwdWJsaWMgYjogbnVtYmVyO1xyXG4gIHB1YmxpYyBhOiBudW1iZXI7XHJcblxyXG4gIGNvbnN0cnVjdG9yKCByOiBudW1iZXIsIGc6IG51bWJlciwgYjogbnVtYmVyLCBhOiBudW1iZXIgPSAxICkge1xyXG4gICAgdGhpcy5yID0gY2xhbXAoIHIsIDAsIDI1NSApO1xyXG4gICAgdGhpcy5nID0gY2xhbXAoIGcsIDAsIDI1NSApO1xyXG4gICAgdGhpcy5iID0gY2xhbXAoIGIsIDAsIDI1NSApO1xyXG4gICAgdGhpcy5hID0gY2xhbXAoIGEsIDAsIDI1NSApO1xyXG4gIH1cclxuXHJcbiAgdG9TdHJpbmcoKTogc3RyaW5nIHtcclxuICAgIHJldHVybiBgJHsgdGhpcy5yIH0sICR7IHRoaXMuZyB9LCAkeyB0aGlzLmIgfSwgJHsgdGhpcy5hIH1gO1xyXG4gIH1cclxuXHJcbiAgdG9TdHJpbmdXaXRob3V0QWxwaGEoKTogc3RyaW5nIHtcclxuICAgIHJldHVybiBgJHsgdGhpcy5yIH0sICR7IHRoaXMuZyB9LCAkeyB0aGlzLmIgfWA7XHJcbiAgfVxyXG5cclxuICBhc0FycmF5KCB7IG5vQWxwaGEgPSBmYWxzZSB9OiB7IG5vQWxwaGE/OiBib29sZWFuOyB9ID0ge30gKTogbnVtYmVyW10ge1xyXG4gICAgaWYgKCBub0FscGhhICkge1xyXG4gICAgICByZXR1cm4gW3RoaXMuciwgdGhpcy5nLCB0aGlzLmJdO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIFt0aGlzLnIsIHRoaXMuZywgdGhpcy5iLCB0aGlzLmFdO1xyXG4gIH1cclxuXHJcbiAgZ2V0Q29weSgpIHtcclxuICAgIHJldHVybiBuZXcgQ29sb3JSR0JBKCB0aGlzLnIsIHRoaXMuZywgdGhpcy5iLCB0aGlzLmEgKTtcclxuICB9XHJcblxyXG4gIHN0YXRpYyBpbmNyZWFzZVNhdHVyYXRpb24oIGNvbG9yOiBDb2xvclJHQkEsIHBlcmNlbnRhZ2U6IG51bWJlciApIHtcclxuICAgIHBlcmNlbnRhZ2UgPSBwZXJjZW50YWdlIC8gMTAwO1xyXG5cclxuICAgIGNvbnN0IG1heFZhbHVlID0gTWF0aC5tYXgoIC4uLmNvbG9yLmFzQXJyYXkoIHsgbm9BbHBoYTogdHJ1ZSB9ICkgKTtcclxuICAgIGNvbnN0IGNvcHlDb2xvciA9IGNvbG9yLmdldENvcHkoKTtcclxuXHJcbiAgICBjb3B5Q29sb3IuciA9IE1hdGguZmxvb3IoIGNsYW1wKCBjb2xvci5yID09PSBtYXhWYWx1ZSA/IGNvbG9yLnIgKyAoIGNvbG9yLnIgKiBwZXJjZW50YWdlICkgOiBjb2xvci5yIC0gKCBjb2xvci5yICogcGVyY2VudGFnZSApLCAwLCAyNTUgKSApO1xyXG4gICAgY29weUNvbG9yLmcgPSBNYXRoLmZsb29yKCBjbGFtcCggY29sb3IuZyA9PT0gbWF4VmFsdWUgPyBjb2xvci5nICsgKCBjb2xvci5nICogcGVyY2VudGFnZSApIDogY29sb3IuZyAtICggY29sb3IuZyAqIHBlcmNlbnRhZ2UgKSwgMCwgMjU1ICkgKTtcclxuICAgIGNvcHlDb2xvci5iID0gTWF0aC5mbG9vciggY2xhbXAoIGNvbG9yLmIgPT09IG1heFZhbHVlID8gY29sb3IuYiArICggY29sb3IuYiAqIHBlcmNlbnRhZ2UgKSA6IGNvbG9yLmIgLSAoIGNvbG9yLmIgKiBwZXJjZW50YWdlICksIDAsIDI1NSApICk7XHJcblxyXG4gICAgcmV0dXJuIGNvcHlDb2xvcjtcclxuICB9XHJcblxyXG4gIHN0YXRpYyBnZXRVbmlxdWUoIGFycjogQ29sb3JSR0JBW10sIHJlbW92ZVRyYW5zcGFyZW50UGl4ZWxzOiBib29sZWFuID0gdHJ1ZSApIHtcclxuICAgIHJldHVybiBhcnJcclxuICAgICAgLmZpbHRlciggKCB2LCBpLCBhICkgPT4gYS5maW5kSW5kZXgoIHYyID0+ICggSlNPTi5zdHJpbmdpZnkoIHYgKSA9PT0gSlNPTi5zdHJpbmdpZnkoIHYyICkgKSApID09PSBpIClcclxuICAgICAgLmZpbHRlciggYyA9PiAhcmVtb3ZlVHJhbnNwYXJlbnRQaXhlbHMgfHwgKCBDb2xvclJHQkEuaXNWYWxpZCggYyApICYmIGMuYSA+IDAgKSApO1xyXG4gIH1cclxuXHJcbiAgKltTeW1ib2wuaXRlcmF0b3JdKCkge1xyXG4gICAgeWllbGQgdGhpcy5yO1xyXG4gICAgeWllbGQgdGhpcy5nO1xyXG4gICAgeWllbGQgdGhpcy5iO1xyXG4gICAgeWllbGQgdGhpcy5hO1xyXG4gIH1cclxuXHJcbiAgZXF1YWxzKCBjb2xvcjI6IENvbG9yUkdCQSApOiBib29sZWFuIHtcclxuICAgIHJldHVybiB0aGlzLnIgPT09IGNvbG9yMi5yXHJcbiAgICAgICYmIHRoaXMuZyA9PT0gY29sb3IyLmdcclxuICAgICAgJiYgdGhpcy5iID09PSBjb2xvcjIuYlxyXG4gICAgICAmJiB0aGlzLmEgPT09IGNvbG9yMi5hO1xyXG4gIH1cclxuXHJcbiAgc3RhdGljIGlzVmFsaWQoIGNvbG9yOiBDb2xvclJHQkEgKTogYm9vbGVhbiB7XHJcbiAgICByZXR1cm4gdHlwZW9mIGNvbG9yLnIgPT09ICdudW1iZXInICYmICFOdW1iZXIuaXNOYU4oIGNvbG9yLnIgKVxyXG4gICAgICAmJiB0eXBlb2YgY29sb3IuZyA9PT0gJ251bWJlcicgJiYgIU51bWJlci5pc05hTiggY29sb3IuZyApXHJcbiAgICAgICYmIHR5cGVvZiBjb2xvci5iID09PSAnbnVtYmVyJyAmJiAhTnVtYmVyLmlzTmFOKCBjb2xvci5iIClcclxuICAgICAgJiYgdHlwZW9mIGNvbG9yLmEgPT09ICdudW1iZXInICYmICFOdW1iZXIuaXNOYU4oIGNvbG9yLmEgKTtcclxuICB9XHJcblxyXG4gIHN0YXRpYyBnZXQgQkxBQ0soKTogQ29sb3JSR0JBIHtcclxuICAgIHJldHVybiBuZXcgQ29sb3JSR0JBKCAwLCAwLCAwICk7XHJcbiAgfVxyXG5cclxuICBzdGF0aWMgZ2V0IE5VTEwoKTogQ29sb3JSR0JBIHtcclxuICAgIHJldHVybiBuZXcgQ29sb3JSR0JBKCAwLCAwLCAwLCAwICk7XHJcbiAgfVxyXG59XHJcbiIsImltcG9ydCB7IElBbmltYXRpb24gfSBmcm9tICcuL2ludGVyZmFjZXMnO1xyXG5pbXBvcnQgeyBTY2VuZSB9IGZyb20gJy4vU2NlbmUnO1xyXG5pbXBvcnQgeyBDU1NQb3NpdGlvbiwgVkVSVElDQUxfUkVGRVJFTkNFIH0gZnJvbSAnLi90eXBlcyc7XHJcblxyXG5leHBvcnQgY2xhc3MgQ29tcG9uZW50IHtcclxuICBwdWJsaWMgcG9zaXRpb24/OiBDU1NQb3NpdGlvbjtcclxuICBwdWJsaWMgY29udGFpbmVyOiBIVE1MRWxlbWVudDtcclxuICBwdWJsaWMgZmFkZUluQW5pbWF0aW9uPzogSUFuaW1hdGlvbjtcclxuICBwdWJsaWMgZmFkZU91dEFuaW1hdGlvbj86IElBbmltYXRpb247XHJcblxyXG4gIGNvbnN0cnVjdG9yKCBjb250YWluZXI6IEhUTUxFbGVtZW50LCBwb3NpdGlvbj86IENTU1Bvc2l0aW9uLCBmYWRlSW5BbmltYXRpb24/OiBJQW5pbWF0aW9uLCBmYWRlT3V0QW5pbWF0aW9uPzogSUFuaW1hdGlvbiApIHtcclxuICAgIHRoaXMuY29udGFpbmVyID0gY29udGFpbmVyO1xyXG4gICAgdGhpcy5mYWRlSW5BbmltYXRpb24gPSBmYWRlSW5BbmltYXRpb247XHJcbiAgICB0aGlzLmZhZGVPdXRBbmltYXRpb24gPSBmYWRlT3V0QW5pbWF0aW9uO1xyXG5cclxuICAgIGlmICggcG9zaXRpb24gKSB7XHJcbiAgICAgIHRoaXMuc2V0dXBQb3NpdGlvbiggcG9zaXRpb24gKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGFzeW5jIGJ1aWxkKCBzY2VuZTogU2NlbmUgKSB7XHJcbiAgICBpZiAoIHNjZW5lICYmIHNjZW5lLm1haW5MYXllciApIHtcclxuICAgICAgc2NlbmUubWFpbkxheWVyLmVsZW1lbnQuaW5zZXJ0QWRqYWNlbnRFbGVtZW50KCAnYmVmb3JlZW5kJywgdGhpcy5jb250YWluZXIgKTtcclxuICAgIH1cclxuXHJcbiAgICB0aGlzLmNvbnRhaW5lci5zdHlsZS5kaXNwbGF5ID0gJ2ZsZXgnO1xyXG5cclxuICAgIGlmICggdGhpcy5mYWRlSW5BbmltYXRpb24gKSB7XHJcbiAgICAgIGF3YWl0IHRoaXMuZmFkZUluQW5pbWF0aW9uLmFuaW1hdGUoIHRoaXMgKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHNldHVwUG9zaXRpb24oIHBvc2l0aW9uOiBDU1NQb3NpdGlvbiApIHtcclxuICAgIHRoaXMucG9zaXRpb24gPSBwb3NpdGlvbjtcclxuICAgIHRoaXMuY29udGFpbmVyLnN0eWxlLnBvc2l0aW9uID0gJ2Fic29sdXRlJztcclxuICAgIHRoaXMuY29udGFpbmVyLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XHJcblxyXG4gICAgdGhpcy5jb250YWluZXIuc3R5bGUubGVmdCA9IHBvc2l0aW9uLmhvcml6b250YWw7XHJcblxyXG4gICAgaWYgKCBwb3NpdGlvbi52ZXJ0aWNhbFJlZmVyZW5jZSA9PT0gVkVSVElDQUxfUkVGRVJFTkNFLkZST01fVE9QICkge1xyXG4gICAgICB0aGlzLmNvbnRhaW5lci5zdHlsZS50b3AgPSBwb3NpdGlvbi52ZXJ0aWNhbDtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRoaXMuY29udGFpbmVyLnN0eWxlLmJvdHRvbSA9IHBvc2l0aW9uLnZlcnRpY2FsO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgYXN5bmMgZGVzdHJveSgpIHtcclxuICAgIGlmICggdGhpcy5mYWRlT3V0QW5pbWF0aW9uICkge1xyXG4gICAgICBhd2FpdCB0aGlzLmZhZGVPdXRBbmltYXRpb24uYW5pbWF0ZSggdGhpcyApO1xyXG4gICAgfVxyXG5cclxuICAgIHRoaXMuY29udGFpbmVyLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XHJcbiAgfVxyXG59IiwiaW50ZXJmYWNlIEhUTUxFbGVtZW50IHtcclxuICByZW1vdmVBbGxDaGlsZHJlbigpOiB2b2lkO1xyXG4gIG1ha2VDb3ZlcigpOiB2b2lkO1xyXG59XHJcblxyXG5IVE1MRWxlbWVudC5wcm90b3R5cGUucmVtb3ZlQWxsQ2hpbGRyZW4gPSBmdW5jdGlvbiAoKSB7XHJcbiAgd2hpbGUgKCB0aGlzLmhhc0NoaWxkTm9kZXMoKSApIHtcclxuICAgIGlmICggdGhpcy5maXJzdENoaWxkICkge1xyXG4gICAgICB0aGlzLnJlbW92ZUNoaWxkKCB0aGlzLmZpcnN0Q2hpbGQgKTtcclxuICAgIH1cclxuICB9XHJcbn1cclxuXHJcbkhUTUxFbGVtZW50LnByb3RvdHlwZS5tYWtlQ292ZXIgPSBmdW5jdGlvbiAoKSB7XHJcbiAgdGhpcy5zdHlsZS5kaXNwbGF5ID0gJ2ZsZXgnO1xyXG4gIHRoaXMuc3R5bGUud2lkdGggPSAnMTAwJSc7XHJcbiAgdGhpcy5zdHlsZS5oZWlnaHQgPSAnMTAwJSc7XHJcbiAgdGhpcy5zdHlsZS5wb3NpdGlvbiA9ICdhYnNvbHV0ZSc7XHJcbiAgdGhpcy5zdHlsZS50b3AgPSAnMCc7XHJcbiAgdGhpcy5zdHlsZS5sZWZ0ID0gJzAnO1xyXG59XHJcbiIsImltcG9ydCB7IENvbG9yUkdCQSB9IGZyb20gXCIuL0NvbG9yUkdCQVwiO1xyXG5pbXBvcnQgeyBnZXRSYW5kb21JbnRJbmNsdXNpdmUgfSBmcm9tICcuL01hdGhUb29scyc7XHJcblxyXG5leHBvcnQgY2xhc3MgRG90IHtcclxuICB4OiBudW1iZXI7XHJcbiAgeTogbnVtYmVyO1xyXG4gIHJhZGl1czogbnVtYmVyO1xyXG4gIGNvbG9yOiBDb2xvclJHQkE7XHJcbiAgY29udGV4dDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEO1xyXG4gIGFscGhhOiBudW1iZXIgPSAwO1xyXG5cclxuICBjb25zdHJ1Y3RvciggeDogbnVtYmVyLCB5OiBudW1iZXIsIHJhZGl1czogbnVtYmVyLCBjb2xvcjogQ29sb3JSR0JBLCBjb250ZXh0OiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQgKSB7XHJcbiAgICB0aGlzLnggPSB4O1xyXG4gICAgdGhpcy55ID0geTtcclxuICAgIHRoaXMuY29sb3IgPSBjb2xvcjtcclxuICAgIHRoaXMuY29udGV4dCA9IGNvbnRleHQ7XHJcbiAgICB0aGlzLnJhZGl1cyA9IHJhZGl1cztcclxuICB9XHJcblxyXG4gIHB1YmxpYyBkcmF3KCkge1xyXG4gICAgdGhpcy5jb250ZXh0LmJlZ2luUGF0aCgpO1xyXG4gICAgdGhpcy5jb250ZXh0LmFyYyggdGhpcy54LCB0aGlzLnksIHRoaXMucmFkaXVzLCAwLCAyICogTWF0aC5QSSwgZmFsc2UgKTtcclxuICAgIHRoaXMuY29udGV4dC5maWxsU3R5bGUgPSBgcmdiYSgkeyB0aGlzLmNvbG9yLnRvU3RyaW5nKCkgfSlgO1xyXG4gICAgdGhpcy5jb250ZXh0LmZpbGwoKTtcclxuICB9XHJcblxyXG4gIHB1YmxpYyBkcmF3UmFuZG9tQWxwaGEoKSB7XHJcbiAgICB0aGlzLmNvbnRleHQuYmVnaW5QYXRoKCk7XHJcbiAgICB0aGlzLmNvbnRleHQuYXJjKCB0aGlzLngsIHRoaXMueSwgdGhpcy5yYWRpdXMsIDAsIDMgKiBNYXRoLlBJLCBmYWxzZSApO1xyXG4gICAgdGhpcy5jb250ZXh0LmZpbGxTdHlsZSA9IGByZ2JhKCR7IHRoaXMuY29sb3IudG9TdHJpbmdXaXRob3V0QWxwaGEoKSB9LCAwLiR7IGdldFJhbmRvbUludEluY2x1c2l2ZSggMSwgNSApIH0pYDtcclxuICAgIHRoaXMuY29udGV4dC5maWxsKCk7XHJcbiAgfVxyXG5cclxuICBwdWJsaWMgZHJhd0Zyb21Ud2Vlbk1heCgpIHtcclxuICAgIHRoaXMuY29udGV4dC5iZWdpblBhdGgoKTtcclxuICAgIHRoaXMuY29udGV4dC5hcmMoIHRoaXMueCwgdGhpcy55LCB0aGlzLnJhZGl1cywgMCwgMyAqIE1hdGguUEksIGZhbHNlICk7XHJcbiAgICB0aGlzLmNvbnRleHQuZmlsbFN0eWxlID0gYHJnYmEoJHsgdGhpcy5jb2xvci50b1N0cmluZ1dpdGhvdXRBbHBoYSgpIH0sICR7IHRoaXMuYWxwaGEgfSlgO1xyXG4gICAgdGhpcy5jb250ZXh0LmZpbGwoKTtcclxuICB9XHJcbn0iLCJcclxuLy8vIGh0dHBzOi8vc3RhY2tvdmVyZmxvdy5jb20vcXVlc3Rpb25zLzE2MjQ1NzY3L2NyZWF0aW5nLWEtYmxvYi1mcm9tLWEtYmFzZTY0LXN0cmluZy1pbi1qYXZhc2NyaXB0XHJcbi8vLyBEaXZpZGUgdW0gYXJxdWl2byBiaW7DoXJpbyBlbSB2w6FyaWFzIHBhcnRlcywgcGFyYSBxdWUgYSBjb252ZXJzw6NvIHNlamEgb3RpbWl6YWRhLCBlIHJldG9ybmEgdW1hIGJsb2IgY29tIG8gYXJxdWl2b1xyXG5cclxuaW1wb3J0IHsgaXNOdWxsT3JFbXB0eSB9IGZyb20gJy4vU3RyaW5nVG9vbHMnO1xyXG5cclxuLy8vIEBwYXJhbSBvblByb2dyZXNzbyBVbSBjYWxsYmFjayBxdWUgcmVjZWJlIGEgcG9yY2VudGFnZW0gZGUgcHJvZ3Jlc3NvIGF0dWFsIGRhIGNvbnZlcnPDo29cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGJhc2U2NFRvQmxvYiggdGV4dG9CYXNlNjQ6IHN0cmluZywgY29udGVudFR5cGU6IHN0cmluZywgdGFtYW5ob1BhcnRlcyA9IDEwMjQsIG9uUHJvZ3Jlc3MgPSAoIHByb2dyZXNzb0F0dWFsOiBudW1iZXIgKSA9PiB7IGNvbnNvbGUubG9nKCBwcm9ncmVzc29BdHVhbCApIH0gKSB7XHJcbiAgY29uc3QgYnl0ZUFycmF5cyA9IG5ldyBBcnJheTxVaW50OEFycmF5PigpO1xyXG4gIGNvbnN0IGZpbGVTaXplID0gdGV4dG9CYXNlNjQubGVuZ3RoO1xyXG5cclxuICAvLy8gcHJlZW5jaGUgYGJ5dGVBcnJheXNgIGNvbSBvcyBieXRlcyBkbyBhcnF1aXZvIHBlZ2FuZG8gdW1hIHBhcnRlIGRlIFwidGFtYW5ob1BhcnRlc1wiIHBvciB2ZXpcclxuICBmb3IgKCBsZXQgb2Zmc2V0ID0gMDsgb2Zmc2V0IDwgZmlsZVNpemU7IG9mZnNldCArPSB0YW1hbmhvUGFydGVzICkge1xyXG4gICAgLy8vIHBlZ2FuZG8gdW0gcGFydGUgZGUgdGFtYW5obyB7dGFtYW5ob1BhcnRlc30gZG8gYXJxdWl2b1xyXG4gICAgY29uc3QgY2h1bmsgPSB0ZXh0b0Jhc2U2NC5zbGljZSggb2Zmc2V0LCBvZmZzZXQgKyB0YW1hbmhvUGFydGVzICk7XHJcblxyXG4gICAgLy8vIGNvbnZlcnRlbmRvIGEgcGFydGUgZW0gdW0gYXJyYXkgY29tIGNhZGEgYnl0ZSBkZXNzZSBwZWRhw6dvIGRvIGFycXVpdm9cclxuICAgIGNvbnN0IGFyckJ5dGVzQ2h1bmsgPSBuZXcgQXJyYXk8bnVtYmVyPiggY2h1bmsubGVuZ3RoICk7XHJcbiAgICBmb3IgKCBsZXQgaSA9IDA7IGkgPCBjaHVuay5sZW5ndGg7IGkrKyApIHtcclxuICAgICAgYXJyQnl0ZXNDaHVua1tpXSA9IGNodW5rLmNoYXJDb2RlQXQoIGkgKTtcclxuICAgIH1cclxuXHJcbiAgICAvLy8gdHJhbnNmb3JtYW5kbyBlc3NlIGFycmF5IGVtIHVtIGFycmF5IGNvbSBjYW1wb3MgZG8gdGFtYW5obyBkZSB1bSBieXRlXHJcbiAgICAvLy8gZSB1bmluZG8gYXMgcGFydGVzIGrDoSBjb25jbHXDrWRhcyBkbyBhcnF1aXZvXHJcbiAgICBieXRlQXJyYXlzLnB1c2goIG5ldyBVaW50OEFycmF5KCBhcnJCeXRlc0NodW5rICkgKTtcclxuXHJcbiAgICAvLy8gQ2hhbWFuZG8gY2FsbGJhY2sgcXVlIGV4aWJlIG8gcHJvZ3Jlc3NvIHF1YW5kbyBvIHBhc3NvIGF0dWFsIGZvciBjb25jbHXDrWRvXHJcbiAgICBhd2FpdCBvblByb2dyZXNzKCAoIG9mZnNldCAvIGZpbGVTaXplICkgKiAxMDAgKTtcclxuICB9XHJcblxyXG4gIHJldHVybiBuZXcgQmxvYiggYnl0ZUFycmF5cywgeyB0eXBlOiBjb250ZW50VHlwZSB9ICk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBkb3dubG9hZEZpbGVGcm9tQmxvYiggYmxvYjogQmxvYiwgdGl0bGU6IHN0cmluZyApIHtcclxuICBsZXQgZmlsZSA9IFVSTC5jcmVhdGVPYmplY3RVUkwoIGJsb2IgKTtcclxuXHJcbiAgaWYgKCBmaWxlICkge1xyXG4gICAgbGV0IGEgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCAnYScgKTtcclxuICAgIGEuaHJlZiA9IGZpbGU7XHJcbiAgICBhLmRvd25sb2FkID0gdGl0bGU7XHJcbiAgICBhLmNsaWNrKCk7XHJcbiAgICBhLnJlbW92ZSgpO1xyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGdldEZpbGVFeHRlbnNpb24oIGZpbGVOYW1lOiBzdHJpbmcgKTogc3RyaW5nIHtcclxuICBpZiAoIGlzTnVsbE9yRW1wdHkoIGZpbGVOYW1lICkgKSByZXR1cm4gJyc7XHJcblxyXG4gIGNvbnN0IGRlZmF1bHRGaWxlU3JjID0gZmlsZU5hbWUuc3BsaXQoICcuJyApLnBvcCgpO1xyXG4gIGlmICggZGVmYXVsdEZpbGVTcmMgJiYgZGVmYXVsdEZpbGVTcmMgIT09IGZpbGVOYW1lICkge1xyXG4gICAgcmV0dXJuIGRlZmF1bHRGaWxlU3JjO1xyXG4gIH1cclxuXHJcbiAgY29uc3QgZmlsZVR5cGVTdHIgPSBmaWxlTmFtZS5zcGxpdCggJy8nICkucG9wKCk7XHJcbiAgaWYgKCBmaWxlVHlwZVN0ciAmJiBmaWxlVHlwZVN0ciAhPT0gZmlsZU5hbWUgKSB7XHJcbiAgICByZXR1cm4gZmlsZVR5cGVTdHI7XHJcbiAgfVxyXG5cclxuICByZXR1cm4gJyc7XHJcbn0iLCJpbXBvcnQgeyBnZXRDb2xvclBhbGV0dGVCeUNvbnRleHQgfSBmcm9tICcuL0NhbnZhc1Rvb2xzJztcclxuaW1wb3J0IHsgZ2V0RmlsZUV4dGVuc2lvbiB9IGZyb20gJy4vRmlsZVRvb2xzJztcclxuaW1wb3J0IHsgRGltZW5zaW9ucyB9IGZyb20gJy4vTWF0aFRvb2xzJztcclxuaW1wb3J0IHsgQ29sb3JSR0JBIH0gZnJvbSAnLi9Db2xvclJHQkEnO1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGNhbGN1bGF0ZUFzcGVjdFJhdGlvRml0KCBzcmNEaW1lbnNpb25zOiBEaW1lbnNpb25zLCBvdXRwdXREaW1lbnNpb25zOiBEaW1lbnNpb25zICk6IERpbWVuc2lvbnMge1xyXG4gIGNvbnN0IHJhdGlvOiBudW1iZXIgPSBNYXRoLm1pbiggb3V0cHV0RGltZW5zaW9ucy53aWR0aCAvIHNyY0RpbWVuc2lvbnMud2lkdGgsIG91dHB1dERpbWVuc2lvbnMuaGVpZ2h0IC8gc3JjRGltZW5zaW9ucy5oZWlnaHQgKTtcclxuXHJcbiAgcmV0dXJuIHsgd2lkdGg6IHNyY0RpbWVuc2lvbnMud2lkdGggKiByYXRpbywgaGVpZ2h0OiBzcmNEaW1lbnNpb25zLmhlaWdodCAqIHJhdGlvIH07XHJcbn1cclxuXHJcblxyXG5leHBvcnQgZnVuY3Rpb24gZ2V0SW1hZ2VSZXNpemVEaW1lbnNpb25zS2VlcEFzcGVjdFJhdGlvKCB7IHNyY0RpbWVuc2lvbnMsIG91dHB1dERpbWVuc2lvbnMgfTogeyBzcmNEaW1lbnNpb25zOiBEaW1lbnNpb25zOyBvdXRwdXREaW1lbnNpb25zOiBEaW1lbnNpb25zOyB9ICk6IERpbWVuc2lvbnMge1xyXG4gIGlmICggb3V0cHV0RGltZW5zaW9ucy53aWR0aCAmJiBvdXRwdXREaW1lbnNpb25zLndpZHRoID4gMCApIHtcclxuICAgIGNvbnN0IHJhdGlvOiBudW1iZXIgPSBvdXRwdXREaW1lbnNpb25zLndpZHRoIC8gc3JjRGltZW5zaW9ucy53aWR0aDtcclxuXHJcbiAgICByZXR1cm4ge1xyXG4gICAgICB3aWR0aDogb3V0cHV0RGltZW5zaW9ucy53aWR0aCxcclxuICAgICAgaGVpZ2h0OiBzcmNEaW1lbnNpb25zLmhlaWdodCAqIHJhdGlvXHJcbiAgICB9O1xyXG4gIH0gZWxzZSBpZiAoIG91dHB1dERpbWVuc2lvbnMuaGVpZ2h0ICYmIG91dHB1dERpbWVuc2lvbnMuaGVpZ2h0ID4gMCApIHtcclxuICAgIGNvbnN0IHJhdGlvOiBudW1iZXIgPSBvdXRwdXREaW1lbnNpb25zLmhlaWdodCAvIHNyY0RpbWVuc2lvbnMuaGVpZ2h0O1xyXG5cclxuICAgIHJldHVybiB7XHJcbiAgICAgIHdpZHRoOiBzcmNEaW1lbnNpb25zLndpZHRoICogcmF0aW8sXHJcbiAgICAgIGhlaWdodDogb3V0cHV0RGltZW5zaW9ucy5oZWlnaHRcclxuICAgIH07XHJcbiAgfVxyXG5cclxuICByZXR1cm4ge1xyXG4gICAgd2lkdGg6IHNyY0RpbWVuc2lvbnMud2lkdGgsXHJcbiAgICBoZWlnaHQ6IHNyY0RpbWVuc2lvbnMuaGVpZ2h0XHJcbiAgfTtcclxufVxyXG5cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldEltYWdlQnlVUkwoIGltYWdlU3JjOiBzdHJpbmcgKTogUHJvbWlzZTxIVE1MSW1hZ2VFbGVtZW50PiB7XHJcbiAgcmV0dXJuIG5ldyBQcm9taXNlKCBhc3luYyAoIHJlc29sdmUgKSA9PiB7XHJcbiAgICBjb25zdCBpbWcgPSBuZXcgSW1hZ2UoKTtcclxuICAgIGltZy5zcmMgPSBhd2FpdCBmZXRjaCggaW1hZ2VTcmMgKVxyXG4gICAgICAudGhlbiggcmVzcG9uc2UgPT4gcmVzcG9uc2UuYmxvYigpIClcclxuICAgICAgLnRoZW4oIGJsb2IgPT4gVVJMLmNyZWF0ZU9iamVjdFVSTCggYmxvYiApICk7XHJcblxyXG4gICAgaW1nLnNldEF0dHJpYnV0ZSggJ3R5cGUnLCBnZXRGaWxlRXh0ZW5zaW9uKCBpbWFnZVNyYyApIClcclxuXHJcbiAgICBpbWcub25sb2FkID0gKCkgPT4ge1xyXG4gICAgICByZXNvbHZlKCBpbWcgKTtcclxuICAgIH1cclxuICB9IClcclxufVxyXG5cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldEltYWdlQnlJbnB1dElkKCBpbnB1dElkOiBzdHJpbmcgKTogUHJvbWlzZTxIVE1MSW1hZ2VFbGVtZW50PiB7XHJcbiAgcmV0dXJuIG5ldyBQcm9taXNlKCBhc3luYyAoIHJlc29sdmUgKSA9PiB7XHJcbiAgICBjb25zdCBpbWcgPSBuZXcgSW1hZ2UoKTtcclxuICAgIGxldCBmaWxlTGlzdCA9ICggZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoIGlucHV0SWQgKSBhcyBIVE1MSW5wdXRFbGVtZW50ICkuZmlsZXM7XHJcblxyXG4gICAgaWYgKCBmaWxlTGlzdCAmJiBmaWxlTGlzdC5sZW5ndGggPiAwICkge1xyXG4gICAgICBpbWcuc3JjID0gVVJMLmNyZWF0ZU9iamVjdFVSTCggZmlsZUxpc3QuaXRlbSggMCApISApO1xyXG5cclxuICAgICAgaW1nLnNldEF0dHJpYnV0ZSggJ3R5cGUnLCBnZXRGaWxlRXh0ZW5zaW9uKCBmaWxlTGlzdC5pdGVtKCAwICkhLnR5cGUgKSApO1xyXG4gICAgICBpbWcub25sb2FkID0gKCkgPT4ge1xyXG4gICAgICAgIHJlc29sdmUoIGltZyApO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfSApXHJcbn1cclxuXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXRJbWFnZUJ5QmxvYiggYmxvYjogQmxvYiApOiBQcm9taXNlPEhUTUxJbWFnZUVsZW1lbnQ+IHtcclxuICByZXR1cm4gbmV3IFByb21pc2UoIGFzeW5jICggcmVzb2x2ZSApID0+IHtcclxuICAgIGNvbnN0IGltZyA9IG5ldyBJbWFnZSgpO1xyXG5cclxuICAgIGltZy5zcmMgPSBVUkwuY3JlYXRlT2JqZWN0VVJMKCBibG9iICk7XHJcblxyXG4gICAgaW1nLm9ubG9hZCA9ICgpID0+IHtcclxuICAgICAgcmVzb2x2ZSggaW1nICk7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIGltZztcclxuICB9ICk7XHJcbn1cclxuXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiByZXNpemVJbWFnZUZyb21JbnB1dCggaW5wdXRJZDogc3RyaW5nLCByZXNpemVEaW1lbnNpb25zOiBEaW1lbnNpb25zICk6IFByb21pc2U8QmxvYiB8IG51bGw+IHtcclxuICByZXR1cm4gYXdhaXQgZ2V0SW1hZ2VCeUlucHV0SWQoIGlucHV0SWQgKS50aGVuKCBpbWcgPT4gcmVzaXplSW1hZ2UoIGltZywgcmVzaXplRGltZW5zaW9ucyApICk7XHJcbn1cclxuXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiByZXNpemVJbWFnZUZyb21VUkwoIGltYWdlU3JjOiBzdHJpbmcsIHJlc2l6ZURpbWVuc2lvbnM6IERpbWVuc2lvbnMgKTogUHJvbWlzZTxCbG9iIHwgbnVsbD4ge1xyXG4gIHJldHVybiBhd2FpdCBnZXRJbWFnZUJ5VVJMKCBpbWFnZVNyYyApLnRoZW4oIGltZyA9PiByZXNpemVJbWFnZSggaW1nLCByZXNpemVEaW1lbnNpb25zICkgKTtcclxufVxyXG5cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldENhbnZhc1Jlc2l6ZUltYWdlKCBpbWc6IEhUTUxJbWFnZUVsZW1lbnQsIHJlc2l6ZURpbWVuc2lvbnM6IERpbWVuc2lvbnMsIGNhbnZhc0NvbmZpZz86IHsgcmVzdWx0Q2FudmFzQ29udGV4dD86IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCwgcmVzaXplQ2FudmFzQ29udGV4dD86IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCwgcmVzdWx0Q2FudmFzSWQ/OiBzdHJpbmcsIHJlc2l6ZUNhbnZhc0lkPzogc3RyaW5nIH0gKTogUHJvbWlzZTx7IGNhbnZhczogSFRNTENhbnZhc0VsZW1lbnQsIGNvbnRleHQ6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCB9PiB7XHJcbiAgY29uc3QgcmVzdWx0Q2FudmFzID0gY2FudmFzQ29uZmlnICYmIGNhbnZhc0NvbmZpZy5yZXN1bHRDYW52YXNJZFxyXG4gICAgPyAoIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCBjYW52YXNDb25maWcucmVzdWx0Q2FudmFzSWQgKSB8fCBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCBcImNhbnZhc1wiICkgKSBhcyBIVE1MQ2FudmFzRWxlbWVudFxyXG4gICAgOiBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCBcImNhbnZhc1wiICkgYXMgSFRNTENhbnZhc0VsZW1lbnQ7XHJcblxyXG4gIGNvbnN0IHJlc3VsdENvbnRleHQgPSBjYW52YXNDb25maWcgJiYgY2FudmFzQ29uZmlnLnJlc3VsdENhbnZhc0NvbnRleHRcclxuICAgID8gY2FudmFzQ29uZmlnLnJlc3VsdENhbnZhc0NvbnRleHRcclxuICAgIDogcmVzdWx0Q2FudmFzLmdldENvbnRleHQoIFwiMmRcIiApITtcclxuXHJcbiAgY29uc3QgcmVzdWx0RGltZW5zaW9ucyA9IGdldEltYWdlUmVzaXplRGltZW5zaW9uc0tlZXBBc3BlY3RSYXRpbygge1xyXG4gICAgc3JjRGltZW5zaW9uczogaW1nLFxyXG4gICAgb3V0cHV0RGltZW5zaW9uczogcmVzaXplRGltZW5zaW9uc1xyXG4gIH0gKTtcclxuXHJcbiAgcmVzdWx0Q2FudmFzLndpZHRoID0gcmVzdWx0RGltZW5zaW9ucy53aWR0aDtcclxuICByZXN1bHRDYW52YXMuaGVpZ2h0ID0gcmVzdWx0RGltZW5zaW9ucy5oZWlnaHQ7XHJcblxyXG4gIGNvbnN0IHJlc2l6ZUNhbnZhcyA9IGNhbnZhc0NvbmZpZyAmJiBjYW52YXNDb25maWcucmVzaXplQ2FudmFzSWRcclxuICAgID8gKCBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCggY2FudmFzQ29uZmlnLnJlc2l6ZUNhbnZhc0lkICkgfHwgZG9jdW1lbnQuY3JlYXRlRWxlbWVudCggXCJjYW52YXNcIiApICkgYXMgSFRNTENhbnZhc0VsZW1lbnRcclxuICAgIDogZG9jdW1lbnQuY3JlYXRlRWxlbWVudCggXCJjYW52YXNcIiApIGFzIEhUTUxDYW52YXNFbGVtZW50O1xyXG5cclxuICBjb25zdCByZXNpemVDYW52YXNDb250ZXh0ID0gY2FudmFzQ29uZmlnICYmIGNhbnZhc0NvbmZpZy5yZXNpemVDYW52YXNDb250ZXh0XHJcbiAgICA/IGNhbnZhc0NvbmZpZy5yZXNpemVDYW52YXNDb250ZXh0XHJcbiAgICA6IHJlc3VsdENhbnZhcy5nZXRDb250ZXh0KCBcIjJkXCIgKSE7XHJcblxyXG4gIHJlc2l6ZUNhbnZhcy53aWR0aCA9IHJlc3VsdERpbWVuc2lvbnMud2lkdGg7XHJcbiAgcmVzaXplQ2FudmFzLmhlaWdodCA9IHJlc3VsdERpbWVuc2lvbnMuaGVpZ2h0O1xyXG4gIHJlc2l6ZUNhbnZhc0NvbnRleHQuZHJhd0ltYWdlKCBpbWcsIDAsIDAsIHJlc2l6ZUNhbnZhcy53aWR0aCwgcmVzaXplQ2FudmFzLmhlaWdodCApO1xyXG5cclxuICByZXNpemVDYW52YXNDb250ZXh0LmRyYXdJbWFnZSggaW1nLCAwLCAwLCByZXNpemVDYW52YXMud2lkdGgsIHJlc2l6ZUNhbnZhcy5oZWlnaHQgKTtcclxuXHJcbiAgcmVzdWx0Q29udGV4dC5kcmF3SW1hZ2UoXHJcbiAgICByZXNpemVDYW52YXMsXHJcbiAgICAwLFxyXG4gICAgMCxcclxuICAgIHJlc2l6ZUNhbnZhcy53aWR0aCxcclxuICAgIHJlc2l6ZUNhbnZhcy5oZWlnaHQsXHJcbiAgICAwLFxyXG4gICAgMCxcclxuICAgIHJlc3VsdENhbnZhcy53aWR0aCxcclxuICAgIHJlc3VsdENhbnZhcy5oZWlnaHQgKTtcclxuXHJcbiAgcmV0dXJuIHtcclxuICAgIGNhbnZhczogcmVzdWx0Q2FudmFzLFxyXG4gICAgY29udGV4dDogcmVzdWx0Q29udGV4dFxyXG4gIH07XHJcbn1cclxuXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXRJbWFnZVBhbGV0dGVCeVVSTCggaW1hZ2VTcmM6IHN0cmluZywgZGVwdGg6IG51bWJlciA9IDIgKSB7XHJcbiAgY29uc3QgaW1nID0gYXdhaXQgZ2V0SW1hZ2VCeVVSTCggaW1hZ2VTcmMgKTtcclxuXHJcbiAgY29uc3QgY29udGV4dCA9ICggYXdhaXQgZHJhd0ltYWdlT25DYW52YXMoIGltZyApICkuY29udGV4dDtcclxuXHJcbiAgcmV0dXJuIGdldENvbG9yUGFsZXR0ZUJ5Q29udGV4dCggY29udGV4dCwgZGVwdGggKTtcclxufVxyXG5cclxuXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXRJbWFnZVBhbGV0dGVCeUlucHV0SWQoIGlucHV0SWQ6IHN0cmluZywgZGVwdGg6IG51bWJlciA9IDIgKSB7XHJcbiAgY29uc3QgaW1nID0gYXdhaXQgZ2V0SW1hZ2VCeUlucHV0SWQoIGlucHV0SWQgKTtcclxuXHJcbiAgY29uc3QgY29udGV4dCA9ICggYXdhaXQgZHJhd0ltYWdlT25DYW52YXMoIGltZyApICkuY29udGV4dDtcclxuXHJcbiAgcmV0dXJuIGdldENvbG9yUGFsZXR0ZUJ5Q29udGV4dCggY29udGV4dCwgZGVwdGggKTtcclxufVxyXG5cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGRyYXdJbWFnZU9uQ2FudmFzKCBpbWc6IEhUTUxJbWFnZUVsZW1lbnQgKSB7XHJcbiAgY29uc3QgY2FudmFzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCggJ2NhbnZhcycgKTtcclxuICBjYW52YXMud2lkdGggPSBpbWcud2lkdGg7XHJcbiAgY2FudmFzLmhlaWdodCA9IGltZy5oZWlnaHQ7XHJcblxyXG4gIGNvbnN0IGNvbnRleHQgPSBjYW52YXMuZ2V0Q29udGV4dCggXCIyZFwiLCB7XHJcbiAgICBhbHBoYTogdHJ1ZSxcclxuICAgIHdpbGxSZWFkRnJlcXVlbnRseTogdHJ1ZVxyXG4gIH0gKSE7XHJcblxyXG4gIGNvbnRleHQuZHJhd0ltYWdlKCBpbWcsIDAsIDAgKTtcclxuXHJcbiAgcmV0dXJuIHtcclxuICAgIGNhbnZhczogY2FudmFzLFxyXG4gICAgY29udGV4dDogY29udGV4dFxyXG4gIH07XHJcbn1cclxuXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXRHcmFkaWVudEJ5SW1hZ2VVUkwoIGltYWdlU3JjOiBzdHJpbmcgKTogUHJvbWlzZTxzdHJpbmc+IHtcclxuICBjb25zdCBwYWxldHRlQnlVUkwgPSBhd2FpdCBnZXRJbWFnZVBhbGV0dGVCeVVSTCggaW1hZ2VTcmMgKTtcclxuICByZXR1cm4gZ2V0R3JhZGllbnRGcm9tUGFsZXR0ZSggcGFsZXR0ZUJ5VVJMICk7XHJcbn1cclxuXHJcblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0R3JhZGllbnRCeUltYWdlSW5wdXRJZCggaW5wdXRJZDogc3RyaW5nICkge1xyXG4gIGNvbnN0IHBhbGV0dGVCeUlucHV0SWQgPSBhd2FpdCBnZXRJbWFnZVBhbGV0dGVCeUlucHV0SWQoIGlucHV0SWQgKTtcclxuICByZXR1cm4gZ2V0R3JhZGllbnRGcm9tUGFsZXR0ZSggcGFsZXR0ZUJ5SW5wdXRJZCApO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gZ2V0R3JhZGllbnRGcm9tUGFsZXR0ZSggaW1hZ2VQYWxldHRlOiBDb2xvclJHQkFbXSApOiBzdHJpbmcge1xyXG4gIHJldHVybiBpbWFnZVBhbGV0dGVcclxuICAgIC5tYXAoIGMgPT4gYHJnYmEoJHsgYy50b1N0cmluZygpIH0pYCApXHJcbiAgICAuam9pbiggJywgJyApXHJcbiAgICAudHJpbSgpO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gc2V0RWxlbWVudEJhY2tncm91bmRHcmFkaWVudEJ5Q2FudmFzQ29udGV4dCggZWxlbWVudDogSFRNTEVsZW1lbnQsIGNhbnZhc0NvbnRleHQ6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCApOiB2b2lkIHtcclxuICBjb25zdCBpbWFnZVBhbGV0dGUgPSBnZXRDb2xvclBhbGV0dGVCeUNvbnRleHQoIGNhbnZhc0NvbnRleHQsIDIgKTtcclxuICBjb25zdCBiZ0dyYWRpZW50ID0gZ2V0R3JhZGllbnRGcm9tUGFsZXR0ZSggaW1hZ2VQYWxldHRlICk7XHJcblxyXG4gIGVsZW1lbnQuc3R5bGUuYmFja2dyb3VuZEltYWdlID0gYGxpbmVhci1ncmFkaWVudCgkeyBiZ0dyYWRpZW50IH0pYDtcclxufVxyXG5cclxuLy8vIGFkYXB0YcOnw6NvIGRlOiBodHRwczovL3d3dy5kZWxmdHN0YWNrLmNvbS9ob3d0by9qYXZhc2NyaXB0L2phdmFzY3JpcHQtcmVzaXplLWltYWdlcy9cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHJlc2l6ZUltYWdlKCBpbWc6IEhUTUxJbWFnZUVsZW1lbnQsIHJlc2l6ZURpbWVuc2lvbnM6IERpbWVuc2lvbnMgKTogUHJvbWlzZTxCbG9iIHwgbnVsbD4ge1xyXG4gIGNvbnN0IHJlc3VsdEltYWdlQ2FudmFzID0gYXdhaXQgKCBhd2FpdCBnZXRDYW52YXNSZXNpemVJbWFnZSggaW1nLCByZXNpemVEaW1lbnNpb25zICkgKS5jYW52YXM7XHJcblxyXG4gIHJldHVybiBuZXcgUHJvbWlzZSggYXN5bmMgKCByZXNvbHZlICkgPT4ge1xyXG4gICAgcmVzdWx0SW1hZ2VDYW52YXMudG9CbG9iKCBiID0+IHJlc29sdmUoIGIhICksIGBpbWFnZS8keyBpbWcuZ2V0QXR0cmlidXRlKCAndHlwZScgKSB8fCAncG5nJyB9YCApO1xyXG4gIH0gKTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIHByZXZpZXdJbWFnZSggeyBkZWZhdWx0SW1hZ2VTcmMsIHVwbG9hZEltYWdlSW5wdXRJZCwgcHJldmlld0ltYWdlRWxlbWVudElkIH06IHsgZGVmYXVsdEltYWdlU3JjOiBzdHJpbmc7IHVwbG9hZEltYWdlSW5wdXRJZD86IHN0cmluZzsgcHJldmlld0ltYWdlRWxlbWVudElkOiBzdHJpbmc7IH0gKSB7XHJcbiAgbGV0IGZpbGVMaXN0O1xyXG4gIGlmICggdXBsb2FkSW1hZ2VJbnB1dElkICkge1xyXG4gICAgZmlsZUxpc3QgPSAoIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCB1cGxvYWRJbWFnZUlucHV0SWQgKSBhcyBIVE1MSW5wdXRFbGVtZW50ICkuZmlsZXM7XHJcbiAgfVxyXG5cclxuICBjb25zdCBwcmV2aWV3SW1hZ2VFbGVtZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoIHByZXZpZXdJbWFnZUVsZW1lbnRJZCApISBhcyBIVE1MSW1hZ2VFbGVtZW50O1xyXG5cclxuICBpZiAoICFmaWxlTGlzdCB8fCBmaWxlTGlzdC5sZW5ndGggPCAxICkge1xyXG4gICAgcHJldmlld0ltYWdlRWxlbWVudC5zcmMgPSBkZWZhdWx0SW1hZ2VTcmM7XHJcbiAgICBwcmV2aWV3SW1hZ2VFbGVtZW50LnN0eWxlLmN1cnNvciA9ICdkZWZhdWx0JztcclxuICAgIHJldHVybjtcclxuICB9IGVsc2Uge1xyXG4gICAgY29uc3QgYmxvYlVSTCA9IFVSTC5jcmVhdGVPYmplY3RVUkwoIGZpbGVMaXN0Lml0ZW0oIDAgKSEgKTtcclxuICAgIHByZXZpZXdJbWFnZUVsZW1lbnQuc3JjID0gYmxvYlVSTDtcclxuICAgIHByZXZpZXdJbWFnZUVsZW1lbnQub25jbGljayA9IF8gPT4gd2luZG93Lm9wZW4oIGJsb2JVUkwsICdfYmxhbmsnICk7XHJcbiAgICBwcmV2aWV3SW1hZ2VFbGVtZW50LnN0eWxlLmN1cnNvciA9ICdwb2ludGVyJztcclxuICB9XHJcbn1cclxuXHJcbiIsImV4cG9ydCBjb25zdCByZWdleE51bWJlclBhdHRlcm4gPSAvLT9cXGQrXFwuP1xcZCovZztcclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgUG9pbnQyRCB7XHJcbiAgeDogbnVtYmVyO1xyXG4gIHk6IG51bWJlcjtcclxufVxyXG5cclxuZXhwb3J0IGludGVyZmFjZSBEaW1lbnNpb25zIHtcclxuICB3aWR0aDogbnVtYmVyO1xyXG4gIGhlaWdodDogbnVtYmVyO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gaW5kZXhUb1JvdyggaW5kZXg6IG51bWJlciwgZ3JpZFdpZHRoOiBudW1iZXIgKSB7XHJcbiAgcmV0dXJuIE1hdGguZmxvb3IoIGluZGV4IC8gZ3JpZFdpZHRoICk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBpbmRleFRvQ29sKCBpbmRleDogbnVtYmVyLCBncmlkV2lkdGg6IG51bWJlciApIHtcclxuICByZXR1cm4gaW5kZXggJSBncmlkV2lkdGg7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiByb3dDb2xUb0luZGV4KCByb3c6IG51bWJlciwgY29sOiBudW1iZXIsIHdpZHRoOiBudW1iZXIgKSB7XHJcbiAgcmV0dXJuICggcm93ICogd2lkdGggKSArIGNvbDtcclxufVxyXG5cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBsZXJwKCBtaW46IG51bWJlciwgbWF4OiBudW1iZXIsIGFtb3VudDogbnVtYmVyICk6IG51bWJlciB7XHJcbiAgcmV0dXJuICggMSAtIGFtb3VudCApICogbWluICsgYW1vdW50ICogbWF4O1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gaW52ZXJzZUxlcnAoIGE6IG51bWJlciwgYjogbnVtYmVyLCB2YWw6IG51bWJlciApOiBudW1iZXIge1xyXG4gIHJldHVybiAoIHZhbCAtIGEgKSAvICggYiAtIGEgKTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIHJlbWFwKCBpbk1pbjogbnVtYmVyLCBpbk1heDogbnVtYmVyLCBvdXRNaW46IG51bWJlciwgb3V0TWF4OiBudW1iZXIsIHZhbDogbnVtYmVyICk6IG51bWJlciB7XHJcbiAgcmV0dXJuIGxlcnAoIG91dE1pbiwgb3V0TWF4LCBpbnZlcnNlTGVycCggaW5NaW4sIGluTWF4LCB2YWwgKSApO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gZ2V0UmFuZG9tSW50RXhjbHVzaXZlKCBtaW46IG51bWJlciwgbWF4OiBudW1iZXIgKSB7XHJcbiAgcmV0dXJuIE1hdGguZmxvb3IoIE1hdGgucmFuZG9tKCkgKiAoIG1heCAtIG1pbiApICsgbWluICk7XHJcbn1cclxuXHJcblxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGdldFJhbmRvbUludEluY2x1c2l2ZSggbWluOiBudW1iZXIsIG1heDogbnVtYmVyICkge1xyXG4gIG1pbiA9IE1hdGguY2VpbCggbWluICk7XHJcbiAgbWF4ID0gTWF0aC5mbG9vciggbWF4ICk7XHJcbiAgcmV0dXJuIE1hdGguZmxvb3IoIE1hdGgucmFuZG9tKCkgKiAoIG1heCAtIG1pbiArIDEgKSApICsgbWluO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gZ2V0UmFuZG9tRnJvbUFycmF5PFQ+KCBhcnI6IEFycmF5PFQ+ICkge1xyXG4gIHJldHVybiBhcnJbZ2V0UmFuZG9tSW50RXhjbHVzaXZlKCAwLCBhcnIubGVuZ3RoICldO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gY2xhbXAoIG51bTogbnVtYmVyID0gMCwgbWluOiBudW1iZXIgPSAwLCBtYXg6IG51bWJlciA9IDEwMCApOiBudW1iZXIge1xyXG4gIHJldHVybiBNYXRoLm1heCggbWluLCBNYXRoLm1pbiggbnVtLCBtYXggKSApO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gbWludXRlc1RvTWlsbGlzZWNvbmRzKCBtczogbnVtYmVyICkge1xyXG4gIHJldHVybiBtcyAqIDYwMDAwO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gbWlsbGlzZWNvbmRzVG9NaW51dGVzKCBtczogbnVtYmVyICkge1xyXG4gIHJldHVybiBtcyAvIDYwMDAwO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gbWlsbGlzZWNvbmRzVG9Ib3VycyggbXM6IG51bWJlciApIHtcclxuICByZXR1cm4gbXMgLyAzLjZlKzY7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBtaWxsaXNlY29uZHNUb0RheXMoIG1zOiBudW1iZXIgKSB7XHJcbiAgcmV0dXJuIG1zIC8gOC42NGUrNztcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIG1lZ2FieXRlVG9CeXRlKCBtYjogbnVtYmVyICkge1xyXG4gIHJldHVybiBtYiAqIDEwMjQgKiAxMDI0O1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gYnl0ZVRvTWVnYWJ5dGUoIGI6IG51bWJlciApIHtcclxuICByZXR1cm4gYiAvIDEwMjQgLyAxMDI0O1xyXG59IiwiZXhwb3J0IGZ1bmN0aW9uIHJlbW92ZUFjY2VudHMoIHN0cjogc3RyaW5nICkge1xyXG4gIHJldHVybiBzdHIubm9ybWFsaXplKCAnTkZEJyApLnJlcGxhY2UoIC9bXFx1MDMwMC1cXHUwMzZmXS9nLCBcIlwiICk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBjYXBpdGFsaXplRmlyc3RMZXR0ZXIoIHN0cjogc3RyaW5nICk6IHN0cmluZyB7XHJcbiAgaWYgKCB0eXBlb2Ygc3RyICE9PSAnc3RyaW5nJyApIHtcclxuICAgIHJldHVybiAnJztcclxuICB9XHJcbiAgcmV0dXJuIHN0ci5jaGFyQXQoIDAgKS50b1VwcGVyQ2FzZSgpICsgc3RyLnN1YnN0cmluZyggMSApO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gc2VhcmNoVGVybSggc3RyaW5nQXJyYXk6IHN0cmluZ1tdLCBzZWFyY2hUZXJtOiBzdHJpbmcgKTogc3RyaW5nW10ge1xyXG4gIHJldHVybiBzdHJpbmdBcnJheVxyXG4gICAgLmZpbHRlciggKCB2OiBzdHJpbmcgKSA9PiB2LnRvTG93ZXJDYXNlKCkuaW5kZXhPZiggc2VhcmNoVGVybS50b0xvd2VyQ2FzZSgpICkgPiAtMSApXHJcbiAgICAuc2xpY2UoIDAsIDEwIClcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIHplcm9CZWZvcmUoIG46IG51bWJlciApIHtcclxuICByZXR1cm4gbi50b1N0cmluZygpLnBhZFN0YXJ0KCAyLCAnMCcgKTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGlzTnVsbE9yRW1wdHkoIHN0cjogc3RyaW5nICkge1xyXG4gIHJldHVybiB0eXBlb2Ygc3RyICE9PSAnc3RyaW5nJyB8fCAhc3RyIHx8IHN0ciA9PT0gJydcclxufSIsImltcG9ydCB7IElQb2ludDJEIH0gZnJvbSAnLi9pbnRlcmZhY2VzJztcclxuXHJcbmV4cG9ydCBlbnVtIENPTlZFUlNJT05fVU5JVCB7IFBJWEVMLCBQRVJDRU5UQUdFIH1cclxuZXhwb3J0IGVudW0gRElSRUNUSU9OX1JFRkVSRU5DRSB7IEhPUklaT05UQUwsIFZFUlRJQ0FMIH1cclxuZXhwb3J0IGVudW0gVkVSVElDQUxfUkVGRVJFTkNFIHsgRlJPTV9UT1AsIEZST01fQk9UVE9NIH1cclxuXHJcbmV4cG9ydCBlbnVtIENPTE9SX0NIQU5ORUwgeyBSLCBHLCBCLCBBIH07XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIENvbXBhcmFibGU8VD4ge1xyXG4gIGVxdWFscyggYjogVCApOiBib29sZWFuO1xyXG59XHJcblxyXG5cclxuZXhwb3J0IGNsYXNzIENTU1Bvc2l0aW9uIGltcGxlbWVudHMgSVBvaW50MkQge1xyXG4gIHB1YmxpYyB4OiBudW1iZXI7XHJcbiAgcHVibGljIHk6IG51bWJlcjtcclxuICBwcml2YXRlIHR5cGU6IENPTlZFUlNJT05fVU5JVDtcclxuICBwdWJsaWMgdmVydGljYWxSZWZlcmVuY2U6IFZFUlRJQ0FMX1JFRkVSRU5DRTtcclxuXHJcbiAgY29uc3RydWN0b3IoIHsgeCwgeSwgdmVydGljYWxSZWZlcmVuY2UgPSBWRVJUSUNBTF9SRUZFUkVOQ0UuRlJPTV9UT1AsIHR5cGUgPSBDT05WRVJTSU9OX1VOSVQuUElYRUwgfTogeyB4OiBudW1iZXI7IHk6IG51bWJlcjsgdmVydGljYWxSZWZlcmVuY2U/OiBWRVJUSUNBTF9SRUZFUkVOQ0U7IHR5cGU/OiBDT05WRVJTSU9OX1VOSVQ7IH0gKSB7XHJcbiAgICBbdGhpcy54LCB0aGlzLnksIHRoaXMudmVydGljYWxSZWZlcmVuY2UsIHRoaXMudHlwZV0gPSBbeCwgeSwgdmVydGljYWxSZWZlcmVuY2UsIHR5cGVdO1xyXG4gIH1cclxuXHJcbiAgZ2V0IGhvcml6b250YWwoKTogc3RyaW5nIHtcclxuICAgIHN3aXRjaCAoIHRoaXMudHlwZSApIHtcclxuICAgICAgY2FzZSBDT05WRVJTSU9OX1VOSVQuUElYRUw6XHJcbiAgICAgICAgcmV0dXJuIGAkeyB0aGlzLnggfXB4YDtcclxuICAgICAgY2FzZSBDT05WRVJTSU9OX1VOSVQuUEVSQ0VOVEFHRTpcclxuICAgICAgICByZXR1cm4gYCR7IHRoaXMueCB9JWA7XHJcbiAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgcmV0dXJuIGAkeyB0aGlzLnggfXB4YDtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGdldCB2ZXJ0aWNhbCgpOiBzdHJpbmcge1xyXG4gICAgc3dpdGNoICggdGhpcy50eXBlICkge1xyXG4gICAgICBjYXNlIENPTlZFUlNJT05fVU5JVC5QSVhFTDpcclxuICAgICAgICByZXR1cm4gYCR7IHRoaXMueSB9cHhgO1xyXG4gICAgICBjYXNlIENPTlZFUlNJT05fVU5JVC5QRVJDRU5UQUdFOlxyXG4gICAgICAgIHJldHVybiBgJHsgdGhpcy55IH0lYDtcclxuICAgICAgZGVmYXVsdDpcclxuICAgICAgICByZXR1cm4gYCR7IHRoaXMueSB9cHhgO1xyXG4gICAgfVxyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IHR5cGUgQ29sbGlzaW9uRGlyZWN0aW9uQ2hlY2sgPSB7XHJcbiAgdG9wOiBib29sZWFuO1xyXG4gIHJpZ2h0OiBib29sZWFuO1xyXG4gIGNlbnRlcjogYm9vbGVhbjtcclxuICBib3R0b206IGJvb2xlYW47XHJcbiAgbGVmdDogYm9vbGVhbjtcclxufTtcclxuXHJcbmV4cG9ydCB0eXBlIENvbGxpc2lvbkJvcmRlckRpc3RhbmNlID0ge1xyXG4gIHRvcDogbnVtYmVyO1xyXG4gIHJpZ2h0OiBudW1iZXI7XHJcbiAgYm90dG9tOiBudW1iZXI7XHJcbiAgbGVmdDogbnVtYmVyO1xyXG59XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIElDb2xsaXNpb25FdmVudCB7XHJcbiAgdGFyZ2V0Q2xhc3M6IHN0cmluZztcclxuICBhdXRvSW5zZXJ0VGFyZ2V0Q2xhc3M6IGJvb2xlYW47XHJcbiAgb25Db2xsaWRpbmcoIGRyYWdnYWJsZTogSFRNTEVsZW1lbnQsIHRhcmdldDogSFRNTEVsZW1lbnQsIGNvbGxpZGluZ0F0OiBDb2xsaXNpb25EaXJlY3Rpb25DaGVjaywgZGlzdGFuY2VGcm9tQm9yZGVyOiBDb2xsaXNpb25Cb3JkZXJEaXN0YW5jZSApOiBQcm9taXNlPHZvaWQ+O1xyXG4gIG9uTm90Q29sbGlkaW5nKCBkcmFnZ2FibGU6IEhUTUxFbGVtZW50LCB0YXJnZXQ6IEhUTUxFbGVtZW50ICk6IFByb21pc2U8dm9pZD47XHJcbn1cclxuXHJcbmV4cG9ydCB0eXBlIENvbGxpc2lvblRyaWdnZXJPcHRpb25zID0ge1xyXG4gIHRyaWdnZXJFbGVtZW50OiBIVE1MRWxlbWVudDtcclxuICBldmVudHM6IElDb2xsaXNpb25FdmVudFtdO1xyXG59O1xyXG5cclxuZXhwb3J0IGNsYXNzIENvbGxpc2lvbkJvcmRlckRpc3RhbmNlRXh0cmFzIHtcclxuICBjb2xsaXNpb25Cb3JkZXJEaXN0YW5jZXM6IENvbGxpc2lvbkJvcmRlckRpc3RhbmNlO1xyXG5cclxuICBjb25zdHJ1Y3RvciggY29sbGlzaW9uQm9yZGVyRGlzdGFuY2U6IENvbGxpc2lvbkJvcmRlckRpc3RhbmNlICkge1xyXG4gICAgdGhpcy5jb2xsaXNpb25Cb3JkZXJEaXN0YW5jZXMgPSBjb2xsaXNpb25Cb3JkZXJEaXN0YW5jZTtcclxuICB9XHJcblxyXG4gIHB1YmxpYyBhbnlHcmVhdGVyVGhhbiggbnVtOiBudW1iZXIgKTogYm9vbGVhbiB7XHJcbiAgICByZXR1cm4gdGhpcy5jb2xsaXNpb25Cb3JkZXJEaXN0YW5jZXMudG9wID4gbnVtXHJcbiAgICAgIHx8IHRoaXMuY29sbGlzaW9uQm9yZGVyRGlzdGFuY2VzLnJpZ2h0ID4gbnVtXHJcbiAgICAgIHx8IHRoaXMuY29sbGlzaW9uQm9yZGVyRGlzdGFuY2VzLmJvdHRvbSA+IG51bVxyXG4gICAgICB8fCB0aGlzLmNvbGxpc2lvbkJvcmRlckRpc3RhbmNlcy5sZWZ0ID4gbnVtO1xyXG4gIH1cclxuXHJcbiAgcHVibGljIGFueUxvd2VyVGhhbiggbnVtOiBudW1iZXIgKTogYm9vbGVhbiB7XHJcbiAgICByZXR1cm4gdGhpcy5jb2xsaXNpb25Cb3JkZXJEaXN0YW5jZXMudG9wIDwgbnVtXHJcbiAgICAgIHx8IHRoaXMuY29sbGlzaW9uQm9yZGVyRGlzdGFuY2VzLnJpZ2h0IDwgbnVtXHJcbiAgICAgIHx8IHRoaXMuY29sbGlzaW9uQm9yZGVyRGlzdGFuY2VzLmJvdHRvbSA8IG51bVxyXG4gICAgICB8fCB0aGlzLmNvbGxpc2lvbkJvcmRlckRpc3RhbmNlcy5sZWZ0IDwgbnVtO1xyXG4gIH1cclxuXHJcbiAgcHVibGljIGFueUVxdWFscyggbnVtOiBudW1iZXIgKTogYm9vbGVhbiB7XHJcbiAgICByZXR1cm4gdGhpcy5jb2xsaXNpb25Cb3JkZXJEaXN0YW5jZXMudG9wID09PSBudW1cclxuICAgICAgfHwgdGhpcy5jb2xsaXNpb25Cb3JkZXJEaXN0YW5jZXMucmlnaHQgPT09IG51bVxyXG4gICAgICB8fCB0aGlzLmNvbGxpc2lvbkJvcmRlckRpc3RhbmNlcy5ib3R0b20gPT09IG51bVxyXG4gICAgICB8fCB0aGlzLmNvbGxpc2lvbkJvcmRlckRpc3RhbmNlcy5sZWZ0ID09PSBudW07XHJcbiAgfVxyXG59IiwiLy8gVGhlIG1vZHVsZSBjYWNoZVxudmFyIF9fd2VicGFja19tb2R1bGVfY2FjaGVfXyA9IHt9O1xuXG4vLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcblx0dmFyIGNhY2hlZE1vZHVsZSA9IF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF07XG5cdGlmIChjYWNoZWRNb2R1bGUgIT09IHVuZGVmaW5lZCkge1xuXHRcdHJldHVybiBjYWNoZWRNb2R1bGUuZXhwb3J0cztcblx0fVxuXHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuXHR2YXIgbW9kdWxlID0gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXSA9IHtcblx0XHQvLyBubyBtb2R1bGUuaWQgbmVlZGVkXG5cdFx0Ly8gbm8gbW9kdWxlLmxvYWRlZCBuZWVkZWRcblx0XHRleHBvcnRzOiB7fVxuXHR9O1xuXG5cdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuXHRfX3dlYnBhY2tfbW9kdWxlc19fW21vZHVsZUlkXShtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuXHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuXHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG59XG5cbiIsIi8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG5fX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSAobW9kdWxlKSA9PiB7XG5cdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuXHRcdCgpID0+IChtb2R1bGVbJ2RlZmF1bHQnXSkgOlxuXHRcdCgpID0+IChtb2R1bGUpO1xuXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCB7IGE6IGdldHRlciB9KTtcblx0cmV0dXJuIGdldHRlcjtcbn07IiwiLy8gZGVmaW5lIGdldHRlciBmdW5jdGlvbnMgZm9yIGhhcm1vbnkgZXhwb3J0c1xuX193ZWJwYWNrX3JlcXVpcmVfXy5kID0gKGV4cG9ydHMsIGRlZmluaXRpb24pID0+IHtcblx0Zm9yKHZhciBrZXkgaW4gZGVmaW5pdGlvbikge1xuXHRcdGlmKF9fd2VicGFja19yZXF1aXJlX18ubyhkZWZpbml0aW9uLCBrZXkpICYmICFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywga2V5KSkge1xuXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIGtleSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGRlZmluaXRpb25ba2V5XSB9KTtcblx0XHR9XG5cdH1cbn07IiwiX193ZWJwYWNrX3JlcXVpcmVfXy5vID0gKG9iaiwgcHJvcCkgPT4gKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIHByb3ApKSIsIi8vIGRlZmluZSBfX2VzTW9kdWxlIG9uIGV4cG9ydHNcbl9fd2VicGFja19yZXF1aXJlX18uciA9IChleHBvcnRzKSA9PiB7XG5cdGlmKHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnICYmIFN5bWJvbC50b1N0cmluZ1RhZykge1xuXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBTeW1ib2wudG9TdHJpbmdUYWcsIHsgdmFsdWU6ICdNb2R1bGUnIH0pO1xuXHR9XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG59OyIsIi8vLyBOZWVkIHRvIGltcG9ydCBHU0FQIGR1ZSB0byBUd2Vlbk1heFxyXG5pbXBvcnQgJy4vRE9NRXh0ZW5zaW9ucyc7XHJcbmltcG9ydCAnLi9DYW52YXNFeHRlbnNpb25zJztcclxuaW1wb3J0IHsgUG9pbnQyRCwgZ2V0UmFuZG9tSW50SW5jbHVzaXZlLCBnZXRSYW5kb21JbnRFeGNsdXNpdmUgfSBmcm9tICcuL01hdGhUb29scyc7XHJcbmltcG9ydCB7IERvdCB9IGZyb20gJy4vRG90JztcclxuaW1wb3J0IHsgQ09OVkVSU0lPTl9VTklULCBDU1NQb3NpdGlvbiwgVkVSVElDQUxfUkVGRVJFTkNFIH0gZnJvbSAnLi90eXBlcyc7XHJcbmltcG9ydCB7IENvbG9yUkdCQSB9IGZyb20gXCIuL0NvbG9yUkdCQVwiO1xyXG5pbXBvcnQgeyBDb21wb25lbnQgfSBmcm9tICcuL0NvbXBvbmVudCc7XHJcbmltcG9ydCB7IGdldENhbnZhc1Jlc2l6ZUltYWdlLCBnZXRJbWFnZUJ5VVJMIH0gZnJvbSAnLi9JbWFnZVRvb2xzJztcclxuaW1wb3J0IHsgZ2V0UGl4ZWxQb3NpdGlvbkJ5Q2FudmFzV2lkdGggfSBmcm9tICcuL0NhbnZhc1Rvb2xzJztcclxuXHJcbmRlY2xhcmUgdmFyIFR3ZWVuTWF4OiBhbnk7XHJcbmRlY2xhcmUgdmFyIEN1YmljOiBhbnk7XHJcbmV4cG9ydCB0eXBlIERvdEFuaW1hdGlvbkNvbnRlbnQgPSB7XHJcbiAgdHlwZTogXCJ0ZXh0XCIgfCBcImltYWdlXCIsXHJcbiAgc3JjOiBzdHJpbmc7XHJcbn1cclxuXHJcbmV4cG9ydCB0eXBlIERvdERyYXdpbmdDb25maWcgPSB7XHJcbiAgY29udGVudDogRG90QW5pbWF0aW9uQ29udGVudFtdO1xyXG4gIHRpbWVQZXJQaHJhc2U6IG51bWJlcjtcclxuICBkb3RzQW1vdW50OiBudW1iZXI7XHJcbiAgZG90c01heFJhZGl1czogbnVtYmVyO1xyXG4gIGNvbG9yczogQ29sb3JSR0JBW107XHJcbiAgZm9udEZhbWlseT86IHN0cmluZztcclxuICBmb250U2l6ZT86IG51bWJlcjtcclxuICBvbkFuaW1hdGlvbkVuZD86ICgpID0+IHZvaWQ7XHJcbn1cclxuXHJcbmV4cG9ydCBjbGFzcyBEb3REcmF3aW5nIGV4dGVuZHMgQ29tcG9uZW50IHtcclxuICBpbnZpc2libGVDYW52YXM6IEhUTUxDYW52YXNFbGVtZW50O1xyXG4gIGRvdHNBbW91bnQ6IG51bWJlcjtcclxuICBpbnZpc2libGVDYW52YXNDb250ZXh0OiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQ7XHJcbiAgaW52aXNpYmxlQ2FudmFzV2lkdGggPSB3aW5kb3cuaW5uZXJXaWR0aDtcclxuICBpbnZpc2libGVDYW52YXNIZWlnaHQgPSB3aW5kb3cuaW5uZXJIZWlnaHQ7XHJcbiAgbnVtYmVyT2Zmc2V0WDogbnVtYmVyO1xyXG4gIG51bWJlck9mZnNldFk6IG51bWJlcjtcclxuICBtYWluQ2FudmFzOiBIVE1MQ2FudmFzRWxlbWVudDtcclxuICBtYWluQ2FudmFzQ29udGV4dDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEO1xyXG4gIG1haW5DYW52YXNXaWR0aDogbnVtYmVyO1xyXG4gIG1haW5DYW52YXNIZWlnaHQ6IG51bWJlcjtcclxuICBtYWluQ2FudmFzQ2VudGVyWDogbnVtYmVyO1xyXG4gIG1haW5DYW52YXNDZW50ZXJZOiBudW1iZXI7XHJcbiAgdGltZVBlclBocmFzZTogbnVtYmVyO1xyXG4gIGlzQW5pbWF0aW9uUnVubmluZzogYm9vbGVhbiA9IGZhbHNlO1xyXG4gIGRvdHM6IERvdFtdO1xyXG4gIG51bWJlclBpeGVsQ29vcmRpbmF0ZXMgPSBbXTtcclxuICBkb3RzTWF4UmFkaXVzOiBudW1iZXI7XHJcbiAgaW50ZXJhY3Rpb25HZW5lcmF0b3I6IEFzeW5jR2VuZXJhdG9yPHZvaWQsIHZvaWQsIHVua25vd24+O1xyXG4gIGNvbG9yczogQ29sb3JSR0JBW107XHJcbiAgZm9udEZhbWlseT86IHN0cmluZztcclxuICBmb250U2l6ZT86IG51bWJlcjtcclxuICBvbkFuaW1hdGlvbkVuZD86ICgpID0+IHZvaWQ7XHJcblxyXG5cclxuICBjb250ZW50OiBEb3RBbmltYXRpb25Db250ZW50W107XHJcblxyXG4gIGNvbnN0cnVjdG9yKCB7IGNvbnRlbnQsIHRpbWVQZXJQaHJhc2UsIGRvdHNBbW91bnQsIGRvdHNNYXhSYWRpdXMsIGNvbG9ycywgZm9udEZhbWlseSwgb25BbmltYXRpb25FbmQsIGZvbnRTaXplIH06IERvdERyYXdpbmdDb25maWcgKSB7XHJcbiAgICBzdXBlciggZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoIFwiY2FudmFzLW51bWJlclwiICkgYXMgSFRNTENhbnZhc0VsZW1lbnQsXHJcbiAgICAgIG5ldyBDU1NQb3NpdGlvbiggeyB4OiAwLCB5OiAwLCB2ZXJ0aWNhbFJlZmVyZW5jZTogVkVSVElDQUxfUkVGRVJFTkNFLkZST01fVE9QLCB0eXBlOiBDT05WRVJTSU9OX1VOSVQuUElYRUwgfSApICk7XHJcblxyXG4gICAgdGhpcy5mb250U2l6ZSA9IGZvbnRTaXplXHJcbiAgICB0aGlzLm9uQW5pbWF0aW9uRW5kID0gb25BbmltYXRpb25FbmQ7XHJcbiAgICB0aGlzLmZvbnRGYW1pbHkgPSBmb250RmFtaWx5O1xyXG4gICAgdGhpcy5jb250ZW50ID0gY29udGVudDtcclxuICAgIHRoaXMudGltZVBlclBocmFzZSA9IHRpbWVQZXJQaHJhc2U7XHJcbiAgICB0aGlzLmRvdHNBbW91bnQgPSBkb3RzQW1vdW50O1xyXG4gICAgdGhpcy5kb3RzTWF4UmFkaXVzID0gZG90c01heFJhZGl1cztcclxuICAgIHRoaXMuY29sb3JzID0gY29sb3JzO1xyXG4gICAgdGhpcy5tYWluQ2FudmFzV2lkdGggPSB3aW5kb3cuaW5uZXJXaWR0aDtcclxuICAgIHRoaXMubWFpbkNhbnZhc0hlaWdodCA9IHdpbmRvdy5pbm5lckhlaWdodDtcclxuICAgIHRoaXMubWFpbkNhbnZhc0NlbnRlclggPSB0aGlzLm1haW5DYW52YXNXaWR0aCAvIDI7XHJcbiAgICB0aGlzLm1haW5DYW52YXNDZW50ZXJZID0gdGhpcy5tYWluQ2FudmFzSGVpZ2h0IC8gMjtcclxuXHJcbiAgICB0aGlzLmludmlzaWJsZUNhbnZhcyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCBcImNhbnZhcy1udW1iZXJcIiApIGFzIEhUTUxDYW52YXNFbGVtZW50O1xyXG4gICAgdGhpcy5pbnZpc2libGVDYW52YXNDb250ZXh0ID0gdGhpcy5pbnZpc2libGVDYW52YXMuZ2V0Q29udGV4dCggXCIyZFwiLCB7XHJcbiAgICAgIGFscGhhOiB0cnVlLFxyXG4gICAgICB3aWxsUmVhZEZyZXF1ZW50bHk6IHRydWVcclxuICAgIH0gKSBhcyBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQ7XHJcbiAgICAvLyBTZXQgdGhlIGNhbnZhcyB0byB3aWR0aCBhbmQgaGVpZ2h0IG9mIHRoZSB3aW5kb3dcclxuICAgIHRoaXMuaW52aXNpYmxlQ2FudmFzLndpZHRoID0gdGhpcy5pbnZpc2libGVDYW52YXNXaWR0aDtcclxuICAgIHRoaXMuaW52aXNpYmxlQ2FudmFzLmhlaWdodCA9IHRoaXMuaW52aXNpYmxlQ2FudmFzSGVpZ2h0O1xyXG5cclxuICAgIC8vIEluaXQgU3RhZ2Ugd2hpY2ggd2lsbCBoYXZlIGRvdHNcclxuICAgIHRoaXMubWFpbkNhbnZhcyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCBcImNhbnZhcy1kb3RzXCIgKSBhcyBIVE1MQ2FudmFzRWxlbWVudDtcclxuICAgIHRoaXMubWFpbkNhbnZhc0NvbnRleHQgPSB0aGlzLm1haW5DYW52YXMuZ2V0Q29udGV4dCggXCIyZFwiLCB7XHJcbiAgICAgIGFscGhhOiB0cnVlLFxyXG4gICAgICB3aWxsUmVhZEZyZXF1ZW50bHk6IHRydWVcclxuICAgIH0gKSBhcyBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQ7XHJcbiAgICB0aGlzLm1haW5DYW52YXMud2lkdGggPSB0aGlzLm1haW5DYW52YXNXaWR0aDtcclxuICAgIHRoaXMubWFpbkNhbnZhcy5oZWlnaHQgPSB0aGlzLm1haW5DYW52YXNIZWlnaHQ7XHJcblxyXG4gICAgLy8gQ3JlYXRlIG9mZnNldCBzbyB0ZXh0IGFwcGVhcnMgaW4gbWlkZGxlIG9mIHNjcmVlblxyXG4gICAgdGhpcy5udW1iZXJPZmZzZXRYID0gKCB0aGlzLm1haW5DYW52YXNXaWR0aCAtIHRoaXMuaW52aXNpYmxlQ2FudmFzV2lkdGggKSAvIDI7XHJcbiAgICB0aGlzLm51bWJlck9mZnNldFkgPSAoIHRoaXMubWFpbkNhbnZhc0hlaWdodCAtIHRoaXMuaW52aXNpYmxlQ2FudmFzSGVpZ2h0ICkgLyAyO1xyXG4gICAgdGhpcy5pbnRlcmFjdGlvbkdlbmVyYXRvciA9IHRoaXMuZ2VuZXJhdGVJbnRlcmFjdGlvbigpO1xyXG5cclxuICAgIHRoaXMuZG90cyA9IFtdO1xyXG4gICAgZm9yICggdmFyIGkgPSAwOyBpIDwgdGhpcy5kb3RzQW1vdW50OyBpKysgKSB7XHJcbiAgICAgIC8vIENyZWF0ZSBhIGRvdFxyXG4gICAgICB2YXIgZG90ID0gbmV3IERvdChcclxuICAgICAgICBnZXRSYW5kb21JbnRFeGNsdXNpdmUoIDAsIHRoaXMubWFpbkNhbnZhc1dpZHRoICksXHJcbiAgICAgICAgZ2V0UmFuZG9tSW50RXhjbHVzaXZlKCAwLCB0aGlzLm1haW5DYW52YXNIZWlnaHQgKSxcclxuICAgICAgICB0aGlzLmRvdHNNYXhSYWRpdXMsXHJcbiAgICAgICAgdGhpcy5jb2xvcnNbZ2V0UmFuZG9tSW50RXhjbHVzaXZlKCAwLCB0aGlzLmNvbG9ycy5sZW5ndGggLSAxICldLFxyXG4gICAgICAgIHRoaXMubWFpbkNhbnZhc0NvbnRleHRcclxuICAgICAgKTtcclxuXHJcbiAgICAgIC8vIFB1c2ggdG8gaW50byBhbiBhcnJheSBvZiBkb3RzXHJcbiAgICAgIHRoaXMuZG90cy5wdXNoKCBkb3QgKTtcclxuXHJcbiAgICAgIC8vIEFuaW1hdGUgZG90c1xyXG4gICAgICB0aGlzLnR3ZWVuRG90cyggZG90LCB1bmRlZmluZWQsIFwic3BhY2VcIiApO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgaW5pdCgpIHtcclxuICAgIHRoaXMuaXNBbmltYXRpb25SdW5uaW5nID0gdHJ1ZTtcclxuICAgIHRoaXMuc2V0SW50ZXJhY3Rpb25zQ291bnRkb3duQ2FudmFzKCk7XHJcbiAgICB0aGlzLmxvb3BDb3VudGRvd25DYW52YXMoKTtcclxuICB9XHJcblxyXG4gIHByaXZhdGUgZHJhd0ltYWdlRnJvbUJhY2tncm91bmRDYW52YXMoKSB7XHJcbiAgICB2YXIgaW52aXNpYmxlQ2FudmFzUGl4ZWxBcnJheSA9IHRoaXMuaW52aXNpYmxlQ2FudmFzQ29udGV4dFxyXG4gICAgICAuZ2V0SW1hZ2VEYXRhKCAwLCAwLCB0aGlzLmludmlzaWJsZUNhbnZhc1dpZHRoLCB0aGlzLmludmlzaWJsZUNhbnZhc0hlaWdodCApXHJcbiAgICAgIC5kYXRhO1xyXG5cclxuICAgIC8vIFRoaXMgYXJyYXkga2VlcHMgdGhlIGNvb3JkaW5hdGVzIGZyb20gcGl4ZWxzIHRoYXQgd2lsbCBiZSBkcmF3blxyXG4gICAgbGV0IG51bWJlclBpeGVsQ29vcmRpbmF0ZXM6IFBvaW50MkRbXSA9IFtdO1xyXG5cclxuICAgIC8vIGVhY2ggcGl4ZWwgaGFzIDQgY2hhbm5lbHMgJiB3ZSBhcmUgb25seSBpbnRlcmVzdGVkIGluIGluZGl2aWR1YWwgcGl4ZWxzXHJcbiAgICBmb3IgKCB2YXIgaSA9IGludmlzaWJsZUNhbnZhc1BpeGVsQXJyYXkubGVuZ3RoOyBpID49IDA7IGkgLT0gNCApIHtcclxuICAgICAgLy8gSWYgbm90IGFuIGVtcHR5IHBpeGVsXHJcbiAgICAgIGlmICggaW52aXNpYmxlQ2FudmFzUGl4ZWxBcnJheVtpXSAhPT0gMCApIHtcclxuICAgICAgICBjb25zdCBwaXhlbFBvc2l0aW9uID0gZ2V0UGl4ZWxQb3NpdGlvbkJ5Q2FudmFzV2lkdGgoIGksIHRoaXMuaW52aXNpYmxlQ2FudmFzV2lkdGggKTtcclxuXHJcbiAgICAgICAgLy8gSWYgcG9zaXRpb24gZXhpc3RzIGFuZCBudW1iZXIgaXMgZGl2aXNpYmxlIGJ5IGNpcmNsZSBwbHVzIGEgcGl4ZWwgZ2FwIHRoZW4gYWRkIGNvb3JkaW5hdGVzIHRvIGFycmF5LiBTbyBjaXJjbGVzIGRvIG5vdCBvdmVybGFwXHJcbiAgICAgICAgY29uc3QgeFBpeGVsT3ZlcmxhcCA9IHBpeGVsUG9zaXRpb24ueCAmJiBwaXhlbFBvc2l0aW9uLnggJSAoIHRoaXMuZG90c01heFJhZGl1cyAqIDIgKyAyICkgPT0gMDtcclxuICAgICAgICBjb25zdCB5UGl4ZWxPdmVybGFwID0gcGl4ZWxQb3NpdGlvbi55ICYmIHBpeGVsUG9zaXRpb24ueSAlICggdGhpcy5kb3RzTWF4UmFkaXVzICogMiArIDIgKSA9PSAwO1xyXG4gICAgICAgIGlmICggeFBpeGVsT3ZlcmxhcCAmJiB5UGl4ZWxPdmVybGFwICkge1xyXG4gICAgICAgICAgbnVtYmVyUGl4ZWxDb29yZGluYXRlcy5wdXNoKCBwaXhlbFBvc2l0aW9uICk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgdGhpcy5mb3JtTnVtYmVyKCBudW1iZXJQaXhlbENvb3JkaW5hdGVzICk7XHJcbiAgfVxyXG5cclxuICBmb3JtTnVtYmVyKCBudW1iZXJQaXhlbENvb3JkaW5hdGVzOiBQb2ludDJEW10gKSB7XHJcbiAgICBmb3IgKCB2YXIgaSA9IDA7IGkgPCBudW1iZXJQaXhlbENvb3JkaW5hdGVzLmxlbmd0aDsgaSsrICkge1xyXG4gICAgICAvLyBMb29wIG91dCBhcyBtYW55IGNvb3JkaW5hdGVzIGFzIHdlIG5lZWQgJiBwYXNzIGRvdHMgaW4gdG8gYW5pbWF0ZVxyXG4gICAgICB0aGlzLnR3ZWVuRG90cyggdGhpcy5kb3RzW2ldLCBudW1iZXJQaXhlbENvb3JkaW5hdGVzW2ldLCB1bmRlZmluZWQgKTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBCcmVhayBudW1iZXIgYXBhcnRcclxuICAgIGlmICggdGhpcy5pc0FuaW1hdGlvblJ1bm5pbmcgKSB7XHJcbiAgICAgIHNldFRpbWVvdXQoICgpID0+IHtcclxuICAgICAgICB0aGlzLmJyZWFrTnVtYmVyKCBudW1iZXJQaXhlbENvb3JkaW5hdGVzICk7XHJcbiAgICAgIH0sIHRoaXMudGltZVBlclBocmFzZSApO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgYnJlYWtOdW1iZXIoIG51bWJlclBpeGVsQ29vcmRpbmF0ZXM6IFBvaW50MkRbXSApIHtcclxuICAgIGZvciAoIHZhciBpID0gMDsgaSA8IG51bWJlclBpeGVsQ29vcmRpbmF0ZXMubGVuZ3RoOyBpKysgKSB7XHJcbiAgICAgIHRoaXMudHdlZW5Eb3RzKCB0aGlzLmRvdHNbaV0sIHVuZGVmaW5lZCwgXCJzcGFjZVwiICk7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKCB0aGlzLmlzQW5pbWF0aW9uUnVubmluZyApIHtcclxuICAgICAgLy8gQnVpbGQgbmV4dCBudW1iZXJcclxuICAgICAgc2V0VGltZW91dCggKCkgPT4ge1xyXG4gICAgICAgIHRoaXMuc2V0SW50ZXJhY3Rpb25zQ291bnRkb3duQ2FudmFzKCk7XHJcbiAgICAgIH0sIHRoaXMudGltZVBlclBocmFzZSApO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgZm9yICggdmFyIGkgPSAwOyBpIDwgdGhpcy5kb3RzLmxlbmd0aDsgaSsrICkge1xyXG4gICAgICAgIHRoaXMudHdlZW5Eb3RzKCB0aGlzLmRvdHNbaV0sIHVuZGVmaW5lZCwgXCJlbmRcIiApO1xyXG4gICAgICB9XHJcbiAgICAgIGlmICggdGhpcy5vbkFuaW1hdGlvbkVuZCApIHtcclxuICAgICAgICB0aGlzLm9uQW5pbWF0aW9uRW5kKCk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcblxyXG4gIHNldEludGVyYWN0aW9uc0NvdW50ZG93bkNhbnZhcygpIHtcclxuICAgIHRoaXMuaW50ZXJhY3Rpb25HZW5lcmF0b3IubmV4dCgpO1xyXG4gICAgaWYgKCB0aGlzLmNvbnRlbnQubGVuZ3RoID09PSAwICkge1xyXG4gICAgICB0aGlzLmlzQW5pbWF0aW9uUnVubmluZyA9IGZhbHNlO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgYXN5bmMgKiBnZW5lcmF0ZUludGVyYWN0aW9uKCkge1xyXG4gICAgd2hpbGUgKCB0aGlzLmNvbnRlbnQubGVuZ3RoID4gMCApIHtcclxuICAgICAgY29uc3QgY29udGVudFRvRHJhdyA9IHRoaXMuY29udGVudC5zaGlmdCgpO1xyXG4gICAgICBpZiAoIGNvbnRlbnRUb0RyYXcgKSB7XHJcbiAgICAgICAgc3dpdGNoICggY29udGVudFRvRHJhdy50eXBlICkge1xyXG4gICAgICAgICAgY2FzZSAndGV4dCc6XHJcbiAgICAgICAgICAgIHlpZWxkIHRoaXMuZHJhd051bWJlciggY29udGVudFRvRHJhdy5zcmMgKTtcclxuICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICBjYXNlICdpbWFnZSc6XHJcbiAgICAgICAgICAgIHlpZWxkIGF3YWl0IHRoaXMuZHJhd0ltYWdlKCBjb250ZW50VG9EcmF3LnNyYyApO1xyXG4gICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgIGRlZmF1bHQ6IHlpZWxkIHRoaXMuZHJhd051bWJlciggY29udGVudFRvRHJhdy5zcmMgKTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcblxyXG4gIGRyYXdOdW1iZXIoIHR4dDogc3RyaW5nICkge1xyXG4gICAgdGhpcy5pbnZpc2libGVDYW52YXNDb250ZXh0LmNsZWFyUmVjdCggMCwgMCwgdGhpcy5pbnZpc2libGVDYW52YXNXaWR0aCwgdGhpcy5pbnZpc2libGVDYW52YXNIZWlnaHQgKTtcclxuXHJcbiAgICB0aGlzLmludmlzaWJsZUNhbnZhc0NvbnRleHQuZmlsbFN0eWxlID0gXCIjMjQyODJmXCI7XHJcbiAgICB0aGlzLmludmlzaWJsZUNhbnZhc0NvbnRleHQudGV4dEFsaWduID0gXCJjZW50ZXJcIjtcclxuICAgIHRoaXMuaW52aXNpYmxlQ2FudmFzQ29udGV4dC50ZXh0QmFzZWxpbmUgPSAnbWlkZGxlJztcclxuICAgIHRoaXMuaW52aXNpYmxlQ2FudmFzQ29udGV4dC5mb250ID0gYCR7IHRoaXMuZm9udFNpemUgfHwgMTY4IH1weCAkeyB0aGlzLmZvbnRGYW1pbHkgfHwgJ3NhbnMtc2VyaWYnIH1gO1xyXG4gICAgdGhpcy5pbnZpc2libGVDYW52YXNDb250ZXh0LmV4dGVuc2lvbkZpbGxUZXh0KCB0eHQsIDAsIDAsIHdpbmRvdy5pbm5lcldpZHRoLCB3aW5kb3cuaW5uZXJIZWlnaHQsICdjZW50ZXInLCAnY2VudGVyJywgdGhpcy5mb250U2l6ZSA/IHRoaXMuZm9udFNpemUgKyAzMCA6IDE4MCApO1xyXG5cclxuICAgIHRoaXMuZHJhd0ltYWdlRnJvbUJhY2tncm91bmRDYW52YXMoKTtcclxuICB9XHJcblxyXG4gIGFzeW5jIGRyYXdJbWFnZSggc3JjOiBzdHJpbmcgKSB7XHJcbiAgICB0aGlzLmludmlzaWJsZUNhbnZhc0NvbnRleHQuY2xlYXJSZWN0KCAwLCAwLCB0aGlzLmludmlzaWJsZUNhbnZhc1dpZHRoLCB0aGlzLmludmlzaWJsZUNhbnZhc0hlaWdodCApO1xyXG5cclxuICAgIGNvbnN0IGltYWdlRnJvbVVSTCA9IGF3YWl0IGdldEltYWdlQnlVUkwoIHNyYyApO1xyXG4gICAgZ2V0Q2FudmFzUmVzaXplSW1hZ2UoXHJcbiAgICAgIGltYWdlRnJvbVVSTCxcclxuICAgICAge1xyXG4gICAgICAgIGhlaWdodDogaW1hZ2VGcm9tVVJMLmhlaWdodCA+IDMwMCA/IDMwMCA6IC0xLFxyXG4gICAgICAgIHdpZHRoOiAtMVxyXG4gICAgICB9LFxyXG4gICAgICB7XHJcbiAgICAgICAgcmVzdWx0Q2FudmFzSWQ6IHRoaXMuaW52aXNpYmxlQ2FudmFzLmlkLFxyXG4gICAgICAgIHJlc3VsdENhbnZhc0NvbnRleHQ6IHRoaXMuaW52aXNpYmxlQ2FudmFzQ29udGV4dCxcclxuICAgICAgfSApO1xyXG5cclxuICAgIHRoaXMuZHJhd0ltYWdlRnJvbUJhY2tncm91bmRDYW52YXMoKTtcclxuICB9XHJcblxyXG5cclxuICB0d2VlbkRvdHMoIGRvdDogRG90LCBwb3M6IFBvaW50MkQgfCB1bmRlZmluZWQsIHR5cGU6IFwic3BhY2VcIiB8IFwiZW5kXCIgfCB1bmRlZmluZWQgKSB7XHJcbiAgICBpZiAoICFkb3QgKSB7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuXHJcbiAgICAvLyBNb3ZlIGRvdHMgYXJvdW5kIGNhbnZhcyByYW5kb21seVxyXG4gICAgaWYgKCB0eXBlID09PSBcInNwYWNlXCIgKSB7XHJcbiAgICAgIFR3ZWVuTWF4LnRvKCBkb3QsIDMgKyBNYXRoLnJvdW5kKCBNYXRoLnJhbmRvbSgpICogMTAwICkgLyAxMDAsIHtcclxuICAgICAgICB4OiBnZXRSYW5kb21JbnRJbmNsdXNpdmUoIDAsIHRoaXMubWFpbkNhbnZhc1dpZHRoICksXHJcbiAgICAgICAgeTogZ2V0UmFuZG9tSW50SW5jbHVzaXZlKCAwLCB0aGlzLm1haW5DYW52YXNIZWlnaHQgKSxcclxuICAgICAgICBhbHBoYTogK2AwYCxcclxuICAgICAgICBlYXNlOiBDdWJpYy5lYXNlSW4sXHJcbiAgICAgICAgb25Db21wbGV0ZTogKCkgPT4ge1xyXG4gICAgICAgICAgdGhpcy50d2VlbkRvdHMoIGRvdCwgdW5kZWZpbmVkLCBcInNwYWNlXCIgKTtcclxuICAgICAgICB9XHJcbiAgICAgIH0gKTtcclxuICAgIH0gZWxzZSBpZiAoIHR5cGUgPT09IFwiZW5kXCIgKSB7XHJcbiAgICAgIFR3ZWVuTWF4LnRvKCBkb3QsIDMgKyBNYXRoLnJvdW5kKCBNYXRoLnJhbmRvbSgpICogMTAwICkgLyAxMDAsIHtcclxuICAgICAgICB4OiB3aW5kb3cuaW5uZXJXaWR0aCAvIDIsXHJcbiAgICAgICAgeTogK3dpbmRvdy5pbm5lckhlaWdodCArIDUwLFxyXG4gICAgICAgIGFscGhhOiAwLFxyXG4gICAgICAgIGVhc2U6IEN1YmljLmVhc2VJbk91dCxcclxuICAgICAgICBvbkNvbXBsZXRlOiAoKSA9PiB7IH1cclxuICAgICAgfSApO1xyXG4gICAgfSBlbHNlIGlmICggcG9zICkge1xyXG4gICAgICBUd2Vlbk1heC50byggZG90LCAxLjUgKyBNYXRoLnJvdW5kKCBNYXRoLnJhbmRvbSgpICogMTAwICkgLyAxMDAsIHtcclxuICAgICAgICB4OiBwb3MueCArIHRoaXMubnVtYmVyT2Zmc2V0WCxcclxuICAgICAgICB5OiBwb3MueSArIHRoaXMubnVtYmVyT2Zmc2V0WSxcclxuICAgICAgICBkZWxheTogMCxcclxuICAgICAgICBhbHBoYTogMSxcclxuICAgICAgICBlYXNlOiBDdWJpYy5lYXNlSW5PdXQsXHJcbiAgICAgICAgb25Db21wbGV0ZTogKCkgPT4geyB9XHJcbiAgICAgIH0gKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGxvb3BDb3VudGRvd25DYW52YXMoKSB7XHJcbiAgICB0aGlzLm1haW5DYW52YXNDb250ZXh0LmNsZWFyUmVjdCggMCwgMCwgdGhpcy5tYWluQ2FudmFzV2lkdGgsIHRoaXMubWFpbkNhbnZhc0hlaWdodCApO1xyXG5cclxuICAgIGZvciAoIHZhciBpID0gMDsgaSA8IHRoaXMuZG90cy5sZW5ndGg7IGkrKyApIHtcclxuICAgICAgdGhpcy5kb3RzW2ldLmRyYXdGcm9tVHdlZW5NYXgoKTtcclxuICAgIH1cclxuXHJcbiAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoICgpID0+IHRoaXMubG9vcENvdW50ZG93bkNhbnZhcygpICk7XHJcbiAgfVxyXG59Il0sIm5hbWVzIjpbIkNhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCIsInByb3RvdHlwZSIsImV4dGVuc2lvbkZ1bmN0aW9uIiwidGV4dCIsIngiLCJ5IiwidyIsImgiLCJoQWxpZ24iLCJ2QWxpZ24iLCJsaW5lSGVpZ2h0IiwiZm4iLCJ3byIsIndvcmRzIiwicmVwbGFjZSIsInNwbGl0Iiwic3AiLCJ0aGlzIiwibWVhc3VyZVRleHQiLCJ3aWR0aCIsImxpbmVzIiwiYWN0dWFsTGluZSIsImFjdHVhbFNpemUiLCJXb3JkcyIsImkiLCJsZW5ndGgiLCJ3b3JkIiwiRW5kUGFyYWdyYXBoIiwibCIsInNsaWNlIiwicHVzaCIsInBvcCIsInl5IiwidG90YWxIIiwib2xkVGV4dEFsaWduIiwidGV4dEFsaWduIiwibGkiLCJ4eCIsInVzcCIsInRvdGFsTGVuZ3RoIiwiZmlsbFRleHQiLCJzdHJva2VUZXh0IiwiZXh0ZW5zaW9uRmlsbFRleHQiLCJleHRlbnNpb25TdHJva2VUZXh0IiwiZ2V0UGl4ZWxQb3NpdGlvbkJ5Q2FudmFzV2lkdGgiLCJwaXhlbEluZGV4IiwiY2FudmFzV2lkdGgiLCJudW1iZXJPZkNvbG9yQ2hhbm5lbHMiLCJNYXRoIiwiZmxvb3IiLCJTeW1ib2wiLCJpdGVyYXRvciIsIkNvbXBvbmVudCIsInBvc2l0aW9uIiwiY29udGFpbmVyIiwiZmFkZUluQW5pbWF0aW9uIiwiZmFkZU91dEFuaW1hdGlvbiIsImNvbnN0cnVjdG9yIiwic2V0dXBQb3NpdGlvbiIsImJ1aWxkIiwic2NlbmUiLCJtYWluTGF5ZXIiLCJlbGVtZW50IiwiaW5zZXJ0QWRqYWNlbnRFbGVtZW50Iiwic3R5bGUiLCJkaXNwbGF5IiwiYW5pbWF0ZSIsImxlZnQiLCJob3Jpem9udGFsIiwidmVydGljYWxSZWZlcmVuY2UiLCJWRVJUSUNBTF9SRUZFUkVOQ0UiLCJGUk9NX1RPUCIsInRvcCIsInZlcnRpY2FsIiwiYm90dG9tIiwiZGVzdHJveSIsIkhUTUxFbGVtZW50IiwicmVtb3ZlQWxsQ2hpbGRyZW4iLCJoYXNDaGlsZE5vZGVzIiwiZmlyc3RDaGlsZCIsInJlbW92ZUNoaWxkIiwibWFrZUNvdmVyIiwiaGVpZ2h0IiwiRG90IiwicmFkaXVzIiwiY29sb3IiLCJjb250ZXh0IiwiYWxwaGEiLCJkcmF3IiwiYmVnaW5QYXRoIiwiYXJjIiwiUEkiLCJmaWxsU3R5bGUiLCJ0b1N0cmluZyIsImZpbGwiLCJkcmF3UmFuZG9tQWxwaGEiLCJ0b1N0cmluZ1dpdGhvdXRBbHBoYSIsImdldFJhbmRvbUludEluY2x1c2l2ZSIsImRyYXdGcm9tVHdlZW5NYXgiLCJnZXRGaWxlRXh0ZW5zaW9uIiwiZmlsZU5hbWUiLCJpc051bGxPckVtcHR5IiwiZGVmYXVsdEZpbGVTcmMiLCJmaWxlVHlwZVN0ciIsImFzeW5jIiwiZ2V0SW1hZ2VCeVVSTCIsImltYWdlU3JjIiwiUHJvbWlzZSIsInJlc29sdmUiLCJpbWciLCJJbWFnZSIsInNyYyIsImZldGNoIiwidGhlbiIsInJlc3BvbnNlIiwiYmxvYiIsIlVSTCIsImNyZWF0ZU9iamVjdFVSTCIsInNldEF0dHJpYnV0ZSIsIm9ubG9hZCIsImdldENhbnZhc1Jlc2l6ZUltYWdlIiwicmVzaXplRGltZW5zaW9ucyIsImNhbnZhc0NvbmZpZyIsInJlc3VsdENhbnZhcyIsInJlc3VsdENhbnZhc0lkIiwiZG9jdW1lbnQiLCJnZXRFbGVtZW50QnlJZCIsImNyZWF0ZUVsZW1lbnQiLCJyZXN1bHRDb250ZXh0IiwicmVzdWx0Q2FudmFzQ29udGV4dCIsImdldENvbnRleHQiLCJyZXN1bHREaW1lbnNpb25zIiwic3JjRGltZW5zaW9ucyIsIm91dHB1dERpbWVuc2lvbnMiLCJyYXRpbyIsImdldEltYWdlUmVzaXplRGltZW5zaW9uc0tlZXBBc3BlY3RSYXRpbyIsInJlc2l6ZUNhbnZhcyIsInJlc2l6ZUNhbnZhc0lkIiwicmVzaXplQ2FudmFzQ29udGV4dCIsImRyYXdJbWFnZSIsImNhbnZhcyIsImdldFJhbmRvbUludEV4Y2x1c2l2ZSIsIm1pbiIsIm1heCIsInJhbmRvbSIsImNlaWwiLCJjbGFtcCIsIm51bSIsInN0ciIsIkNPTlZFUlNJT05fVU5JVCIsIkRJUkVDVElPTl9SRUZFUkVOQ0UiLCJDT0xPUl9DSEFOTkVMIiwiQ1NTUG9zaXRpb24iLCJ0eXBlIiwiUElYRUwiLCJQRVJDRU5UQUdFIiwiX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiY2FjaGVkTW9kdWxlIiwidW5kZWZpbmVkIiwiZXhwb3J0cyIsIm1vZHVsZSIsIl9fd2VicGFja19tb2R1bGVzX18iLCJuIiwiZ2V0dGVyIiwiX19lc01vZHVsZSIsImQiLCJhIiwiZGVmaW5pdGlvbiIsImtleSIsIm8iLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImVudW1lcmFibGUiLCJnZXQiLCJvYmoiLCJwcm9wIiwiaGFzT3duUHJvcGVydHkiLCJjYWxsIiwiciIsInRvU3RyaW5nVGFnIiwidmFsdWUiLCJEb3REcmF3aW5nIiwiaW52aXNpYmxlQ2FudmFzIiwiZG90c0Ftb3VudCIsImludmlzaWJsZUNhbnZhc0NvbnRleHQiLCJpbnZpc2libGVDYW52YXNXaWR0aCIsIndpbmRvdyIsImlubmVyV2lkdGgiLCJpbnZpc2libGVDYW52YXNIZWlnaHQiLCJpbm5lckhlaWdodCIsIm51bWJlck9mZnNldFgiLCJudW1iZXJPZmZzZXRZIiwibWFpbkNhbnZhcyIsIm1haW5DYW52YXNDb250ZXh0IiwibWFpbkNhbnZhc1dpZHRoIiwibWFpbkNhbnZhc0hlaWdodCIsIm1haW5DYW52YXNDZW50ZXJYIiwibWFpbkNhbnZhc0NlbnRlclkiLCJ0aW1lUGVyUGhyYXNlIiwiaXNBbmltYXRpb25SdW5uaW5nIiwiZG90cyIsIm51bWJlclBpeGVsQ29vcmRpbmF0ZXMiLCJkb3RzTWF4UmFkaXVzIiwiaW50ZXJhY3Rpb25HZW5lcmF0b3IiLCJjb2xvcnMiLCJmb250RmFtaWx5IiwiZm9udFNpemUiLCJvbkFuaW1hdGlvbkVuZCIsImNvbnRlbnQiLCJzdXBlciIsIndpbGxSZWFkRnJlcXVlbnRseSIsImdlbmVyYXRlSW50ZXJhY3Rpb24iLCJkb3QiLCJ0d2VlbkRvdHMiLCJpbml0Iiwic2V0SW50ZXJhY3Rpb25zQ291bnRkb3duQ2FudmFzIiwibG9vcENvdW50ZG93bkNhbnZhcyIsImRyYXdJbWFnZUZyb21CYWNrZ3JvdW5kQ2FudmFzIiwiaW52aXNpYmxlQ2FudmFzUGl4ZWxBcnJheSIsImdldEltYWdlRGF0YSIsImRhdGEiLCJwaXhlbFBvc2l0aW9uIiwieFBpeGVsT3ZlcmxhcCIsInlQaXhlbE92ZXJsYXAiLCJmb3JtTnVtYmVyIiwic2V0VGltZW91dCIsImJyZWFrTnVtYmVyIiwibmV4dCIsImNvbnRlbnRUb0RyYXciLCJzaGlmdCIsImRyYXdOdW1iZXIiLCJ0eHQiLCJjbGVhclJlY3QiLCJ0ZXh0QmFzZWxpbmUiLCJmb250IiwiaW1hZ2VGcm9tVVJMIiwiaWQiLCJwb3MiLCJUd2Vlbk1heCIsInRvIiwicm91bmQiLCJlYXNlIiwiQ3ViaWMiLCJlYXNlSW4iLCJvbkNvbXBsZXRlIiwiZWFzZUluT3V0IiwiZGVsYXkiLCJyZXF1ZXN0QW5pbWF0aW9uRnJhbWUiXSwic291cmNlUm9vdCI6IiJ9